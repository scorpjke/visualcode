(function(e){function t(t){for(var i,s,_=t[0],o=t[1],l=t[2],p=0,u=[];p<_.length;p++)s=_[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&u.push(a[s][0]),a[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);c&&c(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,_=1;_<n.length;_++){var o=n[_];0!==a[o]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/visualcode/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],o=_.push.bind(_);_.push=t,_=_.slice();for(var l=0;l<_.length;l++)t(_[l]);var c=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"19ea":function(e,t,n){"use strict";n("a434");var i,a,r,s,_,o=n("b85c"),l=n("2b0e");function c(e){g&&(r>0&&(i.splice(i.length-r,r),r=0),0==a.length&&(s=setTimeout(f,100)),a.push(e))}function p(){clearTimeout(s),a.length>0&&f()}function u(e,t,n,i){void 0===i&&(i=e[t]),i!=n&&(c({action:"set",object:e,key:t,new_value:n,old_value:i}),l["a"].set(e,t,n))}function d(e,t){c({action:"remove",array:e,index:t,old_value:e[t]}),e.splice(t,1)}function m(e,t,n){c({action:"add",array:e,index:t,new_value:n}),e.splice(t,0,n)}function f(){i.push(a),a=[],_&&(_=!1,v())}function y(e){"remove"==e.action?e.array.splice(e.index,0,e.old_value):"add"==e.action?e.array.splice(e.index,1):"set"==e.action&&l["a"].set(e.object,e.key,e.old_value)}function h(e){"remove"==e.action?e.array.splice(e.index,1):"add"==e.action?e.array.splice(e.index,0,e.new_value):"set"==e.action&&l["a"].set(e.object,e.key,e.new_value)}function P(){return a.length>0}function v(){if(P())_=!0;else{var e=i[i.length-1-r];if(e){for(var t=e.length-1;t>=0;t--)y(e[t]);r++}}}function b(){if(!P()){var e=i[i.length-r];if(e){var t,n=Object(o["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;h(a)}}catch(s){n.e(s)}finally{n.f()}r--}}}function E(){i=[],a=[],r=0}E();var g=!0;function O(){g=!0}function j(){g=!1}t["a"]={set:u,add:m,remove:d,action_end:f,undo:v,redo:b,clear_history:E,on:O,off:j,finish_action:p}},"3f9c":function(e,t,n){"use strict";n("515d")},"515d":function(e,t,n){},5174:function(e,t,n){"use strict";n("d81d"),n("07ac");var i={type:"Empty"},a={type:"BlockStatement",body:[]},r=function(e){return{type:"Identifier",value:e||""}},s=function(e){return{type:"StringLiteral",value:e||""}},_={type:"ConditionStatement",test:i,consequent:a},o=function(e){return{type:"BinaryExpression",operator:e,left:i,right:i}},l=function(e){return{type:"CallExpression",callee:{type:"MemberExpression",object:r("Math"),property:s(e)},arguments:[i]}},c={type:"FunctionExpression",params:[],body:a};function p(e){return{type:"CallExpression",callee:{type:"MemberExpression",computed:!0,object:i,property:s(e)},arguments:[i]}}for(var u={Empty:{type:"Empty"},String:s(),Array:{type:"ArrayExpression",elements:[]},Object:{type:"ObjectExpression",properties:[]},Set:{type:"AssignmentExpression",operator:"=",left:i,right:i},Print:{type:"PrintStatement",argument:i},CallExpression:{type:"CallExpression",callee:i,arguments:[]},MemberExpression:{type:"MemberExpression",computed:!0,object:i,property:i},DotExpression:{type:"MemberExpression",computed:!0,object:i,property:s()},ObjectProperty:{type:"ObjectProperty",key:s(),value:i},Itself:{type:"ItselfLiteral"},Null:{type:"NullLiteral"},GlobalVariable:{type:"GlobalVariableStatement",var:r()},Comment:{type:"Comment",value:""},Separator:{type:"Separator",height:40},If:{type:"IfStatement",conditions:[_]},ConditionStatement:_,Else:{type:"ElseStatement",body:a},ForRangeStatement:{type:"ForRangeStatement",var:r(),first:i,last:i,step:null,body:a},ForOfStatement:{type:"ForOfStatement",left:r(),right:i,body:a},While:{type:"WhileStatement",test:i,body:a},Function:c,AsyncFunction:{type:"FunctionExpression",async:!0,params:[],body:a},Return:{type:"ReturnStatement",argument:i},Break:{type:"BreakStatement"},Continue:{type:"ContinueStatement"},Await:{type:"AwaitExpression",argument:i},Async:{type:"Async"},New:{type:"NewExpression",callee:i,arguments:[]},Includes:p("includes"),Push:p("push"),Slice:p("slice"),Map:p("map"),Filter:p("filter"),IndexOf:p("indexOf"),Length:{type:"MemberExpression",computed:!0,object:i,property:s("length")},Sqrt:{type:"RootExpression",argument:i},Mod:{type:"BinaryExpression",operator:"%",left:i,right:i},Increment:{type:"AssignmentExpression",operator:"=",left:i,right:{type:"BinaryExpression",operator:"+",left:{type:"ItselfLiteral"},right:i}},IncrementBy1:{type:"AssignmentExpression",operator:"=",left:i,right:{type:"BinaryExpression",operator:"+",left:{type:"ItselfLiteral"},right:{type:"NumericLiteral",value:1}}},Random:{type:"CallExpression",callee:{type:"MemberExpression",object:r("Math"),property:s("random")},arguments:[]},PI:{type:"MemberExpression",object:r("Math"),property:s("PI")},Floor:l("floor"),AbsoluteValue:l("abs"),Sin:l("sin"),Cos:l("cos"),And:{type:"LogicalExpression",operator:"&&",left:i,right:i},Or:{type:"LogicalExpression",operator:"||",left:i,right:i},Not:{type:"UnaryExpression",operator:"!",argument:i},True:{type:"BooleanLiteral",value:!0},False:{type:"BooleanLiteral",value:!1},"=":o("=="),"!=":o("!="),">":o(">"),">=":o(">="),"<":o("<"),"<=":o("<="),"+":o("+"),"-":o("-"),"*":o("*"),"/":o("/"),"^":o("**"),Typeof:{type:"UnaryExpression",operator:"typeof",argument:i},Delete:{type:"UnaryExpression",operator:"delete",argument:i},This:{type:"ThisExpression"},setTimeout:{type:"CallExpression",callee:r("setTimeout"),arguments:[c,{type:"NumericLiteral",value:1e3}]},setInterval:{type:"CallExpression",callee:r("setInterval"),arguments:[c,{type:"NumericLiteral",value:1e3}]},Try:{type:"TryStatement",block:a,handler:{param:r("err"),body:a}},"...":{type:"SpreadElement",argument:i}},d=0,m=Object.values(u);d<m.length;d++){var f=m[d];f.is_sample=!0,f.focus={child:"start"}}for(var y=[["Empty","String","Array","Object","Set","Print","=","CallExpression","MemberExpression","Itself","Null","GlobalVariable","Comment","Separator"],["If","ForRangeStatement","ForOfStatement","While","Break","Continue","Try"],["Array","Length","Includes","Push","Slice","Map","Filter","IndexOf"],["Function","Return","New","Await","Async","setTimeout","setInterval"],["+","-","*","/","=","^","Sqrt","Mod","IncrementBy1","Random","Floor","AbsoluteValue","PI","Sin","Cos"],["And","Or","Not","True","False","=","!=",">",">=","<","<="]],h=0;h<y.length;h++)y[h]=y[h].map((function(e){return u[e]}));u.panel_samples=y,t["a"]=u},"56d7":function(e,t,n){"use strict";n.r(t);n("fb6a"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"theme-main"},[n("v-main",[n("router-view")],1)],1)},r=[],s={name:"App",components:{},data:function(){return{}}},_=s,o=n("2877"),l=n("6544"),c=n.n(l),p=n("7496"),u=n("f6c4"),d=Object(o["a"])(_,a,r,!1,null,null,null),m=d.exports;c()(d,{VApp:p["a"],VMain:u["a"]});var f=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{all:!0,dragging:null!=e.common.paste_mode}},[n("v-app-bar",{attrs:{app:"",fixed:"",color:"primary",dark:""}},[e.persistent_panel?e._e():n("v-btn",{attrs:{icon:""},on:{click:function(t){e.common.panel_drawer=!0}}},[n("v-icon",[e._v(" "+e._s(e.$mdi.AppsBox)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:e.undo}},[n("v-icon",[e._v(" "+e._s(e.$mdi.Undo)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:e.redo}},[n("v-icon",[e._v(" "+e._s(e.$mdi.Redo)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:function(t){return e.set_mode("copy")}}},[n("v-icon",{attrs:{color:e.$data.$g.selected_pieces.length&&"copy"==e.common.paste_mode?"green":"white"}},[e._v(" "+e._s(e.$mdi.ContentCopy)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:function(t){return e.set_mode("cut")}}},[n("v-icon",{attrs:{color:e.$data.$g.selected_pieces.length&&"cut"==e.common.paste_mode?"green":"white"}},[e._v(" "+e._s(e.$mdi.ContentCut)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:e.remove}},[n("v-icon",[e._v(" "+e._s(e.$mdi.Delete)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:e.select_many}},[n("v-icon",{attrs:{color:e.common.select_many?"green":"white"}},[e._v(" "+e._s(e.$mdi.VectorSelection)+" ")])],1),n("v-btn",{attrs:{small:e.$vuetify.breakpoint.mobile,icon:""},on:{mousedown:function(t){return e.common.toggle_disabled()}}},[n("v-icon",[e._v(" "+e._s(e.$mdi.Cancel)+" ")])],1),e.$vuetify.breakpoint.smAndUp?n("v-btn",{attrs:{color:"green"},on:{mousedown:e.run}},[n("v-icon",{attrs:{large:""}},[e._v(" "+e._s(e.$mdi.MenuRight)+" ")]),e._v(" Run ")],1):e._e()],1),n("div",{staticClass:"d-flex"},[e.persistent_panel?n("Panel"):e._e(),n("div",{staticClass:"program"},[n("div",{staticClass:"code pa-4"},[n("Piece",{attrs:{P:e.ast.program}})],1),n("v-btn",{on:{mousedown:e.run}},[e._v(" Run ")]),n("v-btn",{on:{mousedown:e.save}},[e._v(" Save ")]),n("v-btn",{on:{mousedown:function(t){e.js_code_dialog=!0,e.generate()}}},[e._v(" Javascript ")]),n("input",{attrs:{type:"file"},on:{change:e.handle_file_input}}),n("div",{ref:"console",staticClass:"console"},e._l(e.console,(function(t){return n("div",{class:t.type},[t.ast?n("Piece",{attrs:{P:t.ast.program}}):n("div",[e._v(" "+e._s(t.content)+" ")])],1)})),0)],1)],1),n("v-menu",{attrs:{absolute:"","position-y":e.$menu.menu_position.y,"position-x":e.$menu.menu_position.x},on:{blur:function(t){e.$menu.under_menu=null},contextmenu:function(e){e.preventDefault()}},model:{value:e.$menu.showMenu,callback:function(t){e.$set(e.$menu,"showMenu",t)},expression:"$menu.showMenu"}},[n("v-card",e._l(e.menu_items,(function(t){return n("div",{staticClass:"menu_option",on:{contextmenu:function(e){e.preventDefault()},mousedown:function(n){return e.$handle_menu_click(t)}}},[e._v(" "+e._s(t)+" ")])})),0)],1),e.common.el_with_keyword_menu&&e.common.el_with_keyword_menu.keyword_options&&e.common.el_with_keyword_menu.keyword_options.length?n("v-menu",{attrs:{value:!0,"allow-overflow":"",activator:e.common.el_with_keyword_menu.$el,"nudge-bottom":"25"},on:{contextmenu:function(e){e.preventDefault()}},model:{value:e.common.show_keyword_menu,callback:function(t){e.$set(e.common,"show_keyword_menu",t)},expression:"common.show_keyword_menu"}},[n("v-list",{staticClass:"keyword_menu"},e._l(e.common.el_with_keyword_menu.keyword_options,(function(t,i){return n("v-list-item",{key:i,attrs:{active:"menu_option_active"},on:{click:function(n){return e.choose(t)}}},[e._v(" "+e._s(t.keyword)+" ")])})),1)],1):e._e(),n("v-dialog",{attrs:{width:"500"},model:{value:e.js_code_dialog,callback:function(t){e.js_code_dialog=t},expression:"js_code_dialog"}},[n("v-card",[n("div",{staticClass:"dont_ignore_spaces code pa-2"},[e._v(" "+e._s(e.js_code)+" ")])])],1),n("v-navigation-drawer",{attrs:{absolute:"",dark:"",temporary:""},model:{value:e.common.panel_drawer,callback:function(t){e.$set(e.common,"panel_drawer",t)},expression:"common.panel_drawer"}},[n("Panel")],1)],1)},h=[],P=n("7136"),v=P["a"],b=(n("3f9c"),n("40dc")),E=n("8336"),g=n("b0af"),O=n("169a"),j=n("132d"),x=n("8860"),C=n("da13"),w=n("e449"),M=n("f774"),D=Object(o["a"])(v,y,h,!1,null,null,null),k=D.exports;c()(D,{VAppBar:b["a"],VBtn:E["a"],VCard:g["a"],VDialog:O["a"],VIcon:j["a"],VList:x["a"],VListItem:C["a"],VMenu:w["a"],VNavigationDrawer:M["a"]}),i["a"].use(f["a"]);var A=[{path:"/",name:"IDE",component:k}],I=new f["a"]({mode:"hash",base:"/visualcode/",routes:A}),L=I,B=n("f309");i["a"].use(B["a"]);var R,S=new B["a"]({}),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{hover:e.mark,brackets:e.brackets,disabled:e.P.disabled&&!e.P.selected,piece:!0,selected:e.P.selected,glow_right:e.glow.right,glow_left:e.glow.left},on:{mouseover:e.handle_mouseover,mouseleave:e.handle_mouseleave,contextmenu:function(t){return e.open_menu(t)},click:e.handle_click}},[e.show_blue("vertical")?n("div",{staticClass:"blue_line",on:{mouseover:e.handle_blue_mouseover,mouseleave:e.handle_blue_mouseleave,click:function(t){return e.handle_blue_click("top")}}},[n("div")]):e._e(),e.show_blue("vertical")?n("div",{staticClass:"blue_line blue_line_bottom",on:{mouseover:e.handle_blue_mouseover,mouseleave:e.handle_blue_mouseleave,click:function(t){return e.handle_blue_click("bottom")}}},[n("div")]):e._e(),["Empty","Identifier","NumericLiteral","Broken"].includes(e.P.type)?n("div",[n("div",{class:e.P.type},[e.P._parent?n("autosize-input",{ref:"input_field",staticClass:"autosize-input",attrs:{placeholder:e.placeholder||"      "},on:{focus:e.handle_input_focus,blur:e.handle_input_blur,change:e.handle_change,keydown:e.handle_keydown},model:{value:e.P.value,callback:function(t){e.$set(e.P,"value",t)},expression:"P.value"}}):e.P._parent?e._e():n("span",[e._v(" "+e._s(e.P.value)+" ")])],1)]):["Program","BlockStatement"].includes(e.P.type)?n("div",{class:{block:"BlockStatement"==e.P.type,cur_block:e.cur_block,block_margin:"BlockStatement"==e.P.type&&e.P._main_parent&&"ConditionStatement"!=e.P._main_parent.type}},[e.show_minimize_btn?n("div",{staticClass:"minimize_btn",on:{mousedown:function(t){return t.stopPropagation(),e.toggle_minimize_block(t)},click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(e.P.minimized?"+":"-")+" ")]):e._e(),0==e.P.body.length?n("div",{staticClass:"Empty slide-item"}):e._e(),e.P.minimized?n("div",{staticClass:"dotdotdot-item"},[e._v(" ... ")]):n("transition-group",{key:"block",attrs:{name:"list-complete",tag:"div"}},e._l(e.P.body.length,(function(t){return n("div",{key:e.get_id(e.P.body[t-1]),staticClass:"list-complete-item"},[n("div",{staticClass:"line_with_anchor"},[e.show_anchor(t)?n("div",{staticClass:"line_anchor",on:{mousedown:function(n){return n.stopPropagation(),e.handle_anchor(t-1,n)},mouseover:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(" → ")]):e._e(),e.P.body[t-1]?n("Piece",{attrs:{P:e.P.body[t-1]}}):e._e()],1)])})),0)],1):"ExpressionStatement"==e.P.type?n("div",[e._v(" ~ "),n("Piece",{attrs:{P:e.P.expression}})],1):"CallExpression"==e.P.type||"NewExpression"==e.P.type?n("div",{staticClass:"d-flex align-center"},["NewExpression"==e.P.type?n("div",[e._v(" new ")]):e._e(),n("Piece",{attrs:{P:e.P.callee}}),n("span",{staticClass:"exclamation_mark"},[e._v(" ! ")]),!e.P.is_sample&&e.hover&&0==e.P.arguments.length?n("button",{staticClass:"btn_add_property",on:{click:function(t){return t.stopPropagation(),e.add_new_argument(t)}}},[e._v(" + ")]):e._e(),e.P.is_sample?e._e():n("div",[n("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.P.arguments.length+1,(function(t){return n("div",{key:e.get_id(e.P.arguments[t-1]),staticClass:"d-flex align-stretch list-complete-item"},[n("div",{staticClass:"d-flex align-center"},[e.P.arguments.length>1&&e.P.arguments[t-1]?n("div",{class:{empty_line:!0,"align-end":1==t}},[n("div",{class:1==t||t==e.P.arguments.length?"half_height":"full_height"})]):e._e(),e.P.arguments.length>1?n("div",{class:{"hor_con ml-0":!0,squeeze:!e.P.arguments[t-1]}}):e._e(),n("div",{staticClass:"d-flex line_with_anchor"},[e.show_anchor(t)?n("div",{staticClass:"line_anchor",on:{mouseover:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(n){return n.stopPropagation(),e.handle_anchor(t-1,n)}}},[e._v(" → ")]):e._e(),e.P.arguments[t-1]?n("Piece",{attrs:{need_brackets:1==e.P.arguments.length,P:e.P.arguments[t-1]}}):e._e()],1)])])})),0)],1)],1):"UnaryExpression"==e.P.type?n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"pl-1"},[e._v(" "+e._s(e.edit_operator(e.P.operator))+" ")]),n("Piece",{attrs:{vertical_view:e.vertical_view,need_brackets:e.maybe_brackets_for_term(e.P,"argument"),P:e.P.argument}})],1):"MemberExpression"==e.P.type?n("div",{staticClass:"d-flex align-center"},[n("Piece",{attrs:{need_brackets:!e.is_primitive(e.P.object)&&"MemberExpression"!=e.P.object.type,P:e.P.object}}),n("v-icon",{staticClass:"member_arrow",attrs:{color:"white"}},[e._v(" "+e._s(e.$mdi.MenuRight)+" ")]),n("Piece",{attrs:{need_brackets:!e.is_primitive(e.P.property),P:e.P.property}})],1):"ObjectExpression"==e.P.type&&e.gotta_show_full?n("div",{staticClass:"Unit align-center"},[n("div",{staticClass:"ObjectExpressionCap d-flex px-2 justify-center"},[e._v(" "+e._s(e.P.properties.length>0||e.P.is_sample?"Object":"Empty object")+" "),!e.P.is_sample&&e.hover?n("button",{staticClass:"btn_add_property ml-1",on:{click:function(t){return t.stopPropagation(),e.add_new_property(t)}}},[e._v(" + ")]):e._e()]),n("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.P.properties,(function(t){return n("div",{key:e.get_id(t),staticClass:"d-flex flex-column list-complete-item"},[n("Piece",{attrs:{P:t}})],1)})),0)],1):"ObjectProperty"==e.P.type?n("div",{staticClass:"d-flex"},[n("div",{staticClass:"nowrap"},[n("Piece",{attrs:{P:e.P.key}}),e._v(" : ")],1),n("Piece",{attrs:{P:e.P.value}})],1):"ArrayExpression"==e.P.type&&e.gotta_show_full?n("div",{staticClass:"Unit"},[n("div",{staticClass:"ArrayExpressionCap d-flex px-2 justify-center"},[e._v(" "+e._s(e.P.elements.length>0||e.P.is_sample?e.piece_name:"Empty "+e.piece_name)+" "),!e.P.is_sample&&e.hover?n("button",{staticClass:"btn_add_property ml-1",on:{click:function(t){return t.stopPropagation(),e.add_new_element(t)}}},[e._v(" + ")]):e._e()]),e.P.elements.length>0?n("div",[n("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.P.elements.length+1,(function(t){return n("div",{key:e.get_id(e.P.elements[t-1]),staticClass:"d-flex list-complete-item"},[n("div",{class:{"pt-1":!0,squeeze:!e.P.elements[t-1]}},[n("span",{staticClass:"pl-2 nowrap"},[e._v(e._s(e.smart_index(t-1))+" : ")])]),n("div",{staticClass:"line_with_anchor"},[e.show_anchor(t)?n("div",{staticClass:"line_anchor",on:{mouseover:function(e){e.stopPropagation(),e.preventDefault()},mousedown:function(n){return n.stopPropagation(),e.handle_anchor(t-1,n)}}},[e._v(" → ")]):e._e(),e.P.elements[t-1]?n("Piece",{attrs:{P:e.P.elements[t-1]}}):e._e()],1)])})),0)],1):e._e()]):"ObjectExpression"!=e.P.type&&"ArrayExpression"!=e.P.type||!e.is_child_in_json?"ObjectExpression"==e.P.type||"ArrayExpression"==e.P.type?n("div",{staticClass:"Unit align-center"},["ObjectExpression"==e.P.type?n("div",{staticClass:"ObjectExpressionCap d-flex px-2 justify-center"},[e._v(" "+e._s(e.P.properties.length>0||e.P.is_sample?"Object":"Empty object")+" ")]):n("div",{staticClass:"ArrayExpressionCap d-flex px-2 justify-center"},[e._v(" "+e._s(e.P.elements.length>0||e.P.is_sample?"List":"Empty List")+" ")]),n("div",{staticClass:"d-flex align-center"},[n("v-icon",{staticClass:"path_bit",attrs:{color:"white"},on:{mousedown:function(t){return t.stopPropagation(),e.cut_path(0,t)},click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(e.$mdi.SemanticWeb)+" ")]),e._l(e.json_path,(function(t,i){return n("div",{staticClass:"d-flex align-center path_bit",on:{mousedown:function(t){return t.stopPropagation(),e.cut_path(i+1,t)},click:function(e){e.stopPropagation()}}},[n("v-icon",{attrs:{color:"white"}},[e._v(" "+e._s(e.$mdi.MenuRight)+" ")]),n("span",[e._v(" "+e._s(t)+" ")])],1)}))],2),e.P?n("Piece",{attrs:{P:e.cur_folder,show_full:""}}):e._e()],1):"AssignmentExpression"==e.P.type&&"="==e.P.operator&&"FunctionExpression"==e.P.right.type?n("div",[n("div",{staticClass:"d-flex align-center"},[e._v(" Set "),e.P.is_sample?n("div",{staticClass:"Identifier"},[e._v(" go ")]):n("Piece",{attrs:{P:e.P.left}}),n("span",{staticClass:"mr-1"},[e._v(" ← "),e.P.right.async?n("span",[e._v(" Async ")]):e._e(),e._v(" Function ")]),e.P.is_sample?e._e():n("div",{staticClass:"d-flex align-center"},[e.P.right.params.length?n("span",[e._v(" with input ")]):e._e(),e._l(e.P.right.params,(function(e){return n("Piece",{attrs:{P:e}})})),n("button",{staticClass:"btn_add_property my-2 mx-1",on:{click:function(t){return t.stopPropagation(),e.add_new_param(t)}}},[e._v(" + ")])],2)],1),n("Piece",{attrs:{P:e.P.right.body}})],1):"AssignmentExpression"==e.P.type&&"="==e.P.operator?n("div",{staticClass:"d-flex align-center"},[n("span",[e._v("Set")]),n("Piece",{attrs:{P:e.P.left}}),e._v(" ← "),n("Piece",{attrs:{P:e.P.right}})],1):"BinaryExpression"==e.P.type&&"/"==e.P.operator?n("div",{staticClass:"d-flex flex-column align-center px-1"},[n("Piece",{attrs:{P:e.P.left}}),n("div",{staticClass:"division_line"}),n("Piece",{attrs:{P:e.P.right}})],1):"xBinaryExpression"==e.P.type&&"**"==e.P.operator?n("div",{staticClass:"d-flex align-end"},[n("Piece",{attrs:{P:e.P.left}}),n("Piece",{staticStyle:{"transform-origin":"0% -30%",transform:"scale(0.7)"},attrs:{P:e.P.right}})],1):"BinaryExpression"==e.P.type&&"%"==e.P.operator?n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"pl-1"},[e._v(" Remainder of ")]),n("Piece",{attrs:{need_brackets:!e.is_primitive(e.P.left),P:e.P.left}}),n("div",{staticClass:"d-flex justify-center align-center px-2",staticStyle:{height:"10px",width:"5px"}},[e._v(" ÷ ")]),n("Piece",{attrs:{need_brackets:!e.is_primitive(e.P.right),P:e.P.right}})],1):"BinaryExpression"==e.P.type?n("div",{staticClass:"d-flex align-center"},[n("Piece",{attrs:{need_brackets:e.maybe_brackets_for_term(e.P,"left"),P:e.P.left}}),e.P.is_sample?n("span",[e._v(" "+e._s(e.edit_operator(e.P.operator))+" ")]):n("div",{staticClass:"d-flex justify-center align-center px-2",staticStyle:{height:"10px",width:"5px"}},[e._v(" "+e._s(e.edit_operator(e.P.operator))+" ")]),n("Piece",{attrs:{need_brackets:e.maybe_brackets_for_term(e.P,"right"),P:e.P.right}})],1):"RootExpression"==e.P.type?n("div",{staticClass:"RootExpression d-flex"},[n("div",{staticStyle:{width:"15px"}}),n("svg",{ref:"root_svg",staticStyle:{width:"15px",position:"absolute",height:"100%"}},[n("line",{staticStyle:{stroke:"white","stroke-width":"2"},attrs:{x1:"20%",y1:"70%",x2:"50%",y2:"100%"}}),n("line",{staticStyle:{stroke:"white","stroke-width":"2"},attrs:{x1:"50%",y1:"100%",x2:"100%",y2:"0"}})]),n("div",{staticClass:"under_root"},[n("Piece",{attrs:{P:e.P.argument}})],1)]):"LogicalExpression"==e.P.type?n("div",{class:{"d-flex align-center":!0,vertical_view:e.vertical_view}},[n("Piece",{attrs:{vertical_view:e.get_view(e.P.left),need_brackets:e.bracket_vertical(e.P.left),P:e.P.left}}),e.P.is_sample?n("span",[e._v(" "+e._s(e.edit_operator(e.P.operator))+" ")]):n("div",{staticClass:"d-flex justify-center align-center px-2"},[e._v(" "+e._s(e.edit_operator(e.P.operator))+" ")]),n("Piece",{attrs:{vertical_view:e.get_view(e.P.right),need_brackets:e.bracket_vertical(e.P.right),P:e.P.right}})],1):"GlobalVariableStatement"==e.P.type?n("div",[e._v(" Use global "),e.P._parent?n("Piece",{attrs:{P:e.P.var}}):n("Piece",{attrs:{P:{type:"Identifier",value:"x"}}})],1):"StringLiteral"==e.P.type?n("div",{staticClass:"String align-center d-flex"},[n("div",{staticClass:"quotes"},[e._v("«")]),e.P._parent?n("contenteditable",{ref:"CE",attrs:{P:e.P,placeholder:"empty string"},on:{keydown:e.handle_keydown_CE,focus:e.handle_input_focus,blur:e.handle_input_blur,input:function(t){return e.unselect_all()},backspaceAtBeginning:e.handle_backspace_at_beginning,arrowexcess:e.handle_arrow_excess}}):n("span",[e._v(e._s(e.P.value||"Hello"))]),n("div",{staticClass:"quotes"},[e._v("»")])],1):"BooleanLiteral"==e.P.type?n("div",{staticClass:"NumericLiteral"},[n("span",[e._v(" "+e._s(e.edit_operator(e.P.value))+" ")])]):"NullLiteral"==e.P.type?n("div",{staticClass:"Null"},[e._v(" no value ")]):"ItselfLiteral"==e.P.type?n("div",{staticClass:"Null"},[e._v(" itself ")]):"IfStatement"==e.P.type?n("div",{staticClass:"block_margin"},[e._l(e.P.conditions,(function(e,t){return n("div",[n("Piece",{attrs:{index_as_child:t,P:e}})],1)})),n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[e.P.is_sample?e._e():n("button",e._g(e._b({staticClass:"btn_add_property mb-1"},"button",a,!1),i),[e._v(" + ")])]}}])},[n("v-list",{attrs:{dense:""}},e._l(e.elseif_else_arr,(function(t,i){return n("v-list-item",{key:i,on:{click:function(t){return e.add_new_condition(i)}}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("div",[e.P.alternate?n("Piece",{attrs:{P:e.P.alternate}}):e._e()],1)],2):"ConditionStatement"==e.P.type?n("div",[n("div",{staticClass:"d-flex align-center"},[0!=e.index_as_child?n("span",{staticClass:"pr-1"},[e._v(" else ")]):e._e(),n("span",[e._v(" if ")]),n("Piece",{attrs:{P:e.P.test}}),e._v(" then ")],1),n("Piece",{attrs:{P:e.P.consequent}})],1):"ElseStatement"==e.P.type?n("div",[n("div",[e._v("if none of the above then")]),n("Piece",{attrs:{P:e.P.body}})],1):"ForOfStatement"==e.P.type?n("div",[e.P.is_sample?n("div",[e._v(" Repeat... (array) ")]):n("div",{staticClass:"d-flex align-center"},[e._v(" Repeat for every "),n("Piece",{attrs:{P:e.P.left}}),e._v(" in "),n("Piece",{attrs:{P:e.P.right}})],1),n("div",[n("Piece",{attrs:{P:e.P.body}})],1)]):"ForRangeStatement"==e.P.type?n("div",[e.P.is_sample?n("div",[e._v(" Repeat...(index) ")]):n("div",{staticClass:"d-flex align-center"},[e._v(" Repeat for "),n("Piece",{attrs:{P:e.P.var}}),e._v(" from "),n("Piece",{attrs:{P:e.P.first}}),e._v(" to "),n("Piece",{attrs:{P:e.P.last}}),e.P.step?n("span",[e._v(" with step "),n("Piece",{attrs:{P:e.P.step}})],1):e._e(),e.P.step?n("button",{staticClass:"btn_add_property mb-1",on:{mousedown:function(t){return t.stopPropagation(),e.remove_step(t)}}},[e._v(" - ")]):n("button",{staticClass:"btn_add_property mb-1",on:{mousedown:function(t){return t.stopPropagation(),e.add_step(t)}}},[e._v(" + ")]),e._v(" : ")],1),n("div",[n("Piece",{attrs:{P:e.P.body}})],1)]):"WhileStatement"==e.P.type?n("div",[n("div",{staticClass:"d-flex align-center"},[e._v(" Repeat while "),n("Piece",{attrs:{P:e.P.test}})],1),n("div",[n("Piece",{attrs:{P:e.P.body}})],1)]):"FunctionExpression"==e.P.type&&e.P.is_sample?n("div",[n("div",[e._v("Function")]),n("Piece",{attrs:{P:e.P.body}})],1):"Async"==e.P.type?n("div",{staticClass:"d-flex align-center"},[e._v(" add/remove async ")]):"ThisExpression"==e.P.type?n("div",{staticClass:"d-flex align-center"},[n("v-icon",{attrs:{color:"white"}},[e._v(" "+e._s(e.$mdi.SemanticWeb)+" ")])],1):"FunctionExpression"==e.P.type?n("div",[n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"mr-1"},[e.P.async?n("span",[e._v(" Async ")]):e._e(),e._v(" Function ")]),e.P.params.length?n("span",[e._v(" with input ")]):e._e(),e._l(e.P.params,(function(e){return n("Piece",{attrs:{P:e}})})),e.P.is_sample?e._e():n("button",{staticClass:"btn_add_property my-2 mx-1",on:{mousedown:function(t){return t.stopPropagation(),e.add_new_param(t)}}},[e._v(" + ")])],2),n("Piece",{attrs:{P:e.P.body}})],1):"ObjectMethod"==e.P.type?n("div",[n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"mx-1"},[e.P.async?n("span",[e._v(" Async ")]):e._e(),e._v(" "+e._s(e.P.kind)+" ")]),n("Piece",{attrs:{P:e.P.key}}),e.P.params.length?n("span",[e._v(" with input ")]):e._e(),e._l(e.P.params,(function(e){return n("Piece",{attrs:{P:e}})})),e.P.is_sample||"get"==e.P.kind?e._e():n("button",{staticClass:"btn_add_property my-2 mx-1",on:{mousedown:function(t){return t.stopPropagation(),e.add_new_param(t)}}},[e._v(" + ")])],2),n("Piece",{attrs:{P:e.P.body}})],1):"ReturnStatement"==e.P.type&&e.P.is_sample?n("div",[e._v(" Exit function / output ")]):"ReturnStatement"==e.P.type?n("div",{staticClass:"d-flex align-center"},[e._v(" Exit and output "),n("Piece",{attrs:{placeholder:"nothing",P:e.P.argument}})],1):"ContinueStatement"==e.P.type?n("div",[e._v(" Next loop iteration ")]):"BreakStatement"==e.P.type?n("div",[e._v(" Exit the loop ")]):"PrintStatement"==e.P.type?n("div",{staticClass:"d-flex align-center"},[e._v(" Print "),n("Piece",{attrs:{P:e.P.argument}})],1):"Separator"==e.P.type&&e.P.is_sample?n("div",{staticClass:"py-1"},[e._v(" Separator ")]):"Separator"==e.P.type?n("div",{staticClass:"Separator posrel",style:"height:"+e.P.height+"px"},[e.hover?n("v-slider",{attrs:{dense:"","hide-details":"",max:"100",min:"30"},on:{click:function(e){e.stopPropagation()}},model:{value:e.P.height,callback:function(t){e.$set(e.P,"height",t)},expression:"P.height"}}):e._e()],1):"Comment"==e.P.type?n("div",{staticClass:"Comment d-flex align-center justify-center"},[n("v-icon",{staticClass:"pr-2",attrs:{color:"blue"}},[e._v(" "+e._s(e.$mdi.MessageProcessing)+" ")]),e.P.is_sample?n("span",[e._v(" Comment ")]):n("contenteditable",{ref:"CE",attrs:{P:e.P,placeholder:"Write your comment..."},on:{keydown:e.handle_keydown_CE,focus:e.handle_input_focus,blur:e.handle_input_blur,input:function(t){return e.unselect_all()},backspaceAtBeginning:e.handle_backspace_at_beginning,arrowexcess:e.handle_arrow_excess}})],1):"AwaitExpression"==e.P.type?n("div",{staticClass:"d-flex align-center justify-center"},[e._v(" await "),n("Piece",{attrs:{P:e.P.argument}})],1):"TryStatement"==e.P.type?n("div",{staticClass:"mb-5"},[n("div",[e._v(" Try ")]),n("Piece",{staticStyle:{"margin-bottom":"-20px"},attrs:{P:e.P.block}}),!e.P.is_sample&&e.P.handler?n("div",[n("div",[e._v(" If an error ( "),n("Piece",{attrs:{P:e.P.handler.param}}),e._v(" ) happened, then ")],1),n("Piece",{staticStyle:{"margin-bottom":"-20px"},attrs:{P:e.P.handler.body}})],1):e._e(),e.P.finalizer?n("div",[n("div",[e._v(" Run in any case (no matter if an error happened) ")]),n("Piece",{staticStyle:{"margin-bottom":"-20px"},attrs:{P:e.P.finalizer}})],1):e._e(),!e.P.is_sample&&e.hover?n("button",{staticClass:"btn_add_property mb-1",staticStyle:{position:"absolute"},on:{click:function(t){return t.stopPropagation(),e.toggle_finally(t)}}},[e._v(" "+e._s(e.P.finalizer?"-":"+")+" ")]):e._e()],1):"SpreadElement"==e.P.type?n("div",{class:{"d-flex flex-column":"FunctionExpression"!=e.P._main_parent.type}},[n("Piece",{attrs:{P:{type:"MemberExpression",object:e.P.argument,property:{type:"NumericLiteral",value:0}}}}),n("Piece",{attrs:{P:{type:"MemberExpression",object:e.P.argument,property:{type:"NumericLiteral",value:1}}}}),e._v(" etc... ")],1):n("div",[e._v(" ???? what the fuck is "+e._s(e.P.type)+" ???? ")]):n("div",{staticClass:"d-flex align-center"},[n("v-icon",{staticClass:"path_bit",attrs:{small:"",color:"white"},on:{mousedown:function(t){return t.stopPropagation(),e.folder_click(t)},click:function(e){e.stopPropagation()}}},[e._v(" "+e._s(e.$mdi.FolderOpen)+" ")]),n("div",{staticClass:"Unit align-center"},[n("div",{class:e.P.type+"Cap d-flex px-2 justify-center align-center"},[e._v(" "+e._s(e.piece_name+"...")+" ")])])],1)])},U=[],K=(n("99af"),n("4de4"),n("caad"),n("c975"),n("a434"),n("a9e3"),n("b64b"),n("ac1f"),n("2532"),n("466d"),n("2ca0"),n("53ca")),W=n("b85c"),$=n("19ea"),F=n("e598"),q=n("5174"),z=n("298c"),N=n.n(z),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"CE",attrs:{tag:"div",spellcheck:"false",lang:"klingon",contenteditable:!0,placeholder:e.placeholder},on:{focus:e.redirect,blur:e.redirect,keydown:e.handle_keydown,keyup:e.handle_keyup,input:e.handle_type}})},H=[],G=(n("5319"),{props:{P:Object,placeholder:String},data:function(){return{edited_from_contenteditable:!1}},watch:{"P.value":function(){this.on_change_value()}},methods:{redirect:function(e){this.$emit(e.type,e)},handle_type:function(e){"<br>"!=this.$refs.CE.innerHTML&&"<div><br></div>"!=this.$refs.CE.innerHTML||(this.$refs.CE.innerHTML="");var t=this.$refs.CE.innerHTML.replace(/<div>(.*?)<\/div>/g,"$1\n");i["a"].set(this.P,"value",t.replace(/<br>/g,"").replace(/\n$/,"")),this.edited_from_contenteditable=!0,this.$emit(e.type,e)},handle_keydown:function(e){var t=this,n=window.getSelection();"Backspace"==e.key?R=this.P.value:"ArrowRight"==e.code&&n.anchorOffset==this.P.value.length||"ArrowLeft"==e.code&&0==n.anchorOffset?this.$emit("arrowexcess"):n.anchorOffset==this.P.value.length-1&&setTimeout((function(){t.setCaret(n.anchorOffset)}),50),this.$emit(e.type,e)},handle_keyup:function(e){"Backspace"==e.key&&this.P.value==R&&this.$emit("backspaceAtBeginning")},on_change_value:function(){this.edited_from_contenteditable?this.edited_from_contenteditable=!1:this.$refs.CE.innerHTML=this.P.value},setCaret:function(e){var t=this.$refs.CE;t.focus();var n=t.firstChild,i=document.createRange();i.setStart(n,e),i.setEnd(n,e);var a=window.getSelection();a.removeAllRanges(),a.addRange(i)},focus:function(){var e;(this.$refs.CE.focus(),this.P.focus&&void 0!==this.P.focus.position&&this.P.value.length>0)&&(e="end"==this.P.focus.position?this.P.value.length:this.P.focus.position,this.setCaret(e))}},mounted:function(){var e=this;this.$nextTick((function(){e.on_change_value(),e.P.focus&&e.focus()}))}}),J=G,Y=Object(o["a"])(J,V,H,!1,null,null,null),Z=Y.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex align-center"},[n("span",{staticClass:"mr-1"},[e._v(" Function ")]),e.P.params.length?n("span",[e._v(" with input ")]):e._e(),e._l(e.P.params,(function(e){return n("Piece",{attrs:{P:e}})})),e.P.is_sample?e._e():n("button",{staticClass:"btn_add_property my-2 mx-1",on:{mousedown:function(t){return t.stopPropagation(),e.add_new_param(t)}}},[e._v(" + ")])],2),n("Piece",{attrs:{P:e.P.body}})],1)},Q=[],ee={props:{P:Object},data:function(){return{}},methods:{add_new_param:function(){var e={type:"Identifier",value:"",focus:!0},t=this.P.params?this.P:this.P.right;register_child_in_arr(t,"params",t.params.length,e)}}},te=ee,ne=Object(o["a"])(te,X,Q,!1,null,null,null),ie=ne.exports;function ae(e){var t=Object(F["b"])(q["a"][e]);return t}var re={ForOfStatement:["for (array)","repeat (array)"],ForRangeStatement:["for (index)","repeat (index)"],While:["repeat while"],Array:["list"],Itself:["self"],Break:["exit loop"],Return:["exit function","output"],Continue:["next loop iteration"],Mod:["remainder","%"],"^":["**","power"],"!=":["NotEquals"],Increment:["+=","add number to itself"],IncrementBy1:["++","add 1 to itself"],Push:["add element to array"],Length:["size (list/string)"]},se=["Else","ForRangeStatement","ForOfStatement","ObjectProperty","ConditionStatement","Async","Empty","panel_samples"],_e=Object.keys(q["a"]).filter((function(e){return!se.includes(e)}));function oe(e){e=e.toLowerCase();var t,n=[],i=Object(W["a"])(_e);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.toLowerCase().startsWith(e)&&n.push({piece_type:a,keyword:a,default:re[a]?re[a][0]:a})}}catch(l){i.e(l)}finally{i.f()}for(var r in re){var s,_=Object(W["a"])(re[r]);try{for(_.s();!(s=_.n()).done;){var o=s.value;o.startsWith(e)&&n.push({piece_type:r,keyword:o,default:re[r][0]})}}catch(l){_.e(l)}finally{_.f()}}return n}function le(e){var t=[];for(var n in e)"_"!=n[0]&&"object"==Object(K["a"])(e[n])&&e[n].type&&t.push(e[n]);return t}function ce(e){var t=le(e).filter((function(e){return"Empty"!=e.type}));if(1==t.length&&ve(e._main_parent,t[0],e._keyAsChild))return Object(F["l"])(e,t[0]),t[0];if(0==t.length){var n={type:"Empty",focus:{}};return Object(F["l"])(e,n),n}}function pe(e){var t=F["f"].under_menu.P;if("Remove"==e)Object(F["k"])(t);else if("Remove parent"==e)!["Program","BlockStatement"].includes(t._main_parent.type)&&ve(t._main_parent._main_parent,t,t._main_parent._keyAsChild)&&Object(F["l"])(t._main_parent,t);else if("Remove operator"==e){var n=le(t).filter((function(e){return"Empty"!=e.type}));1==n.length&&ve(t._main_parent,n[0],t._keyAsChild)&&Object(F["l"])(t,n[0])}else"Disable"!=e&&"Enable"!=e||Object(F["h"])(t)&&Object(F["i"])(t,"disabled",!t.disabled)}function ue(e){var t=[];for(var n in e)Object(F["e"])(e[n])&&"Empty"==e[n].type&&t.push(e[n]);return t}var de={ArrayExpression:"elements",ObjectExpression:"properties",BlockStatement:"body",Program:"body",CallExpression:"arguments",NewExpression:"arguments",FunctionExpression:"params"};function me(e){return e.minimized}function fe(e){for(var t in e)if("_"!=t[0]){if(Array.isArray(e[t]))return{node:e,arr:t};if(["body","consequent"].includes(t)&&"BlockStatement"==e[t].type)return{node:e[t],arr:"body"}}return null}function ye(e,t,n){if(void 0!==t._parent&&e!=t){(n||e.is_sample)&&(e=Object(F["b"])(e));var a=ue(e);while(t._main_parent){if("Empty"===t.type&&ve(t._main_parent,e,t._keyAsChild))e=Oe(e,t._main_parent),Object(F["m"])(e),Object(F["l"])(t,e);else if("Async"==e.type&&"FunctionExpression"==t.type)i["a"].set(t,"async",!t.async);else if("Async"==e.type&&"AssignmentExpression"==t.type&&"FunctionExpression"==t.right.type)i["a"].set(t.right,"async",!t.right.async);else if(["ArrayExpression","BlockStatement","Program"].includes(t.type)&&ve(t,e)){t[de[t.type]];Object(F["m"])(e);var r=de[t.type];Object(F["j"])(t,r,t[r].length,e)}else if(a.length>0&&ve(t._main_parent,e,t._keyAsChild)){var s,_=void 0,o=Object(W["a"])(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(ve(e,t,l._keyAsChild)){_=l;break}}}catch(p){o.e(p)}finally{o.f()}if(!_)return;Object(F["m"])(e),Object(F["l"])(t,e),Object(F["l"])(_,t)}else{if(!["ObjectProperty","ConditionStatement"].includes(t.type)||!ve(t._main_parent,e,t._keyAsChild)){if(t=t._main_parent,Xe(t))return;continue}var c=t._parent.indexOf(t);c!=t._parent.length-1||t._parent.includes(e)||c++,Object(F["m"])(e),Object(F["j"])(t._main_parent,t._parent,c,e)}break}return e.is_sample&&delete e.is_sample,Object(F["p"])(),!0}}function he(e,t){var n=t;while(void 0!==n){if(n==e)return!0;n=n._main_parent}return!1}function Pe(e){return["WhileStatement","ForOfStatement","ForRangeStatement"].includes(e.type)}function ve(e,t,n){var i;if(e)if(he(t,e))i="You cannot move the piece into itself";else if("Async"==t.type&&"FunctionExpression"!=e.type)i="Async can only be placed on a Function";else if("AwaitExpression"!=t.type||Object(F["d"])(e,(function(e){return 1==e.async})))if("MemberExpression"==e.type&&"BinaryExpression"==t.type&&t.is_boolean)i="Boolean BinaryExpression cannot be a child of MemberExpression";else if("BinaryExpression"==e.type&&!e.is_boolean&&("BinaryExpression"==t.type&&t.is_boolean||"BooleanLiteral"==t.type))i="Boolean expression cannot be a child of a math expression";else if("CallExpression"!=e.type||["Identifier","MemberExpression","CallExpression","FunctionExpression"].includes(t.type)||"callee"!=n)if("ObjectProperty"==t.type&&"ObjectExpression"!=e.type)i="Object property can only be inside an object";else if("ObjectProperty"!=t.type&&"ObjectExpression"==e.type)i="Object can only have object property as a child";else if(Object(F["g"])(t)&&!Xe(e))i=t.type+" can only be in a block of statements";else if("StringLiteral"!=t.type&&"ObjectProperty"==e.type&&"key"==n)i="The key of an object property must be a string";else if(["BlockStatement","ElseStatement"].includes(t.type))i=t.type+" is not movable";else if("ConditionStatement"==t.type&&"IfStatement"!=e.type)i="ConditionStatement must be inside of IfStatement";else if("ConditionStatement"!=t.type&&"IfStatement"==e.type)i="IfStatement can only include ConditionStatement";else if("ReturnStatement"==t.type){var a=e;while(!["FunctionExpression","FunctionDeclaration","Program"].includes(a.type))a=a._main_parent;"Program"==a.type&&(i="ReturnStatement must be inside a Function")}else if(["BreakStatement","ContinueStatement"].includes(t.type)){var r=Object(F["d"])(e,(function(e){return Pe(e)}));r||(i=t.type+" must be inside a loop")}else"AssignmentExpression"!=e.type||"left"!=n||["Identifier","MemberExpression","ArrayExpression","ObjectExpression"].includes(t.type)||(i="Value being set must be Identifier or MemberExpression");else i=t.type+" is not a function";else i="Await must be inside an AsyncFunction";return void 0===i}i["a"].prototype.$handle_menu_click=pe;var be={piece:null,type:null},Ee={Control:!1},ge={IfStatement:["conditions","alternate"]};function Oe(e,t){if(e.is_sample&&Xe(t)&&["ArrayExpression","ObjectExpression","FunctionExpression"].includes(e.type)){delete e.is_sample,delete e.focus;var n=ae("Set");return n.right=e,Object(F["n"])(n),n}return e}function je(e){var t,n=[],i=Object(W["a"])(ge[e.type]||Object.keys(e));try{for(i.s();!(t=i.n()).done;){var a=t.value;"_"!=a[0]&&Object(F["e"])(e[a])&&e[a].type?n.push(e[a]):"_"!=a[0]&&Array.isArray(e[a])&&(n=n.concat(e[a]))}}catch(r){i.e(r)}finally{i.f()}return n}function xe(e){var t,n=Object(W["a"])(ge[e.type]||Object.keys(e));try{for(n.s();!(t=n.n()).done;){var i=t.value;if("_"!=i[0]&&Object(F["e"])(e[i])&&e[i].type)return e[i];if("_"!=i[0]&&Array.isArray(e[i]))return e[i][0]}}catch(a){n.e(a)}finally{n.f()}return null}function Ce(e){return["Identifier","StringLiteral","NumericLiteral","Empty","Broken","Comment"].includes(e.type)}function we(e){return Xe(e)||void 0===e._vm||!e.is_sample&&void 0===e._parent||"ConditionStatement"==e.type&&(e.is_sample||e._parent&&1==e._parent.length)}function Me(e){while(e){if(Ce(e))return e;e=Ae(e)}return null}function De(e){var t,n,i=Be(e),a=Object(W["a"])(i);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(Ce(r)&&(t=r),Ce(r)&&void 0!=r.value&&0==r.value.length)return r}}catch(s){a.e(s)}finally{a.f()}return t}function ke(e){return we(e)?Ae(e):e}function Ae(e){if(!me(e)){var t=je(e);if(t.length>0)return ke(t[t.length-1])}while(e._main_parent){var n=je(e._main_parent),i=n.indexOf(e);if(i>0)return ke(n[i-1]);e=e._main_parent}return null}function Ie(e){return we(e)?Le(e):e}function Le(e){if(!e._main_parent)return null;var t=je(e._main_parent),n=t.indexOf(e);if(n==t.length-1)return Ie(e._main_parent);var i=t[n+1];if(me(i))return Ie(i);while(1){var a=xe(i);if(null==a)return Ie(i);i=a}}function Be(e){var t=[];return Re(e,t),t}function Re(e,t){var n=je(e);if(0==n.length)t.push(e);else{var i,a=Object(W["a"])(n);try{for(a.s();!(i=a.n()).done;){var r=i.value;Re(r,t)}}catch(s){a.e(s)}finally{a.f()}}}function Se(e){return Object(F["d"])(e,(function(e){return Object(F["h"])(e)&&["BlockStatement","Program","ArrayExpression","CallExpression"].includes(e._main_parent.type)}))}function Te(e){return null!==e.match(/^[A-Za-z$_][A-Za-z$_0-9]*$/)&&!["if","for","continue","null","true","false"].includes(e)}function Ue(e){return e.match(/^-?[0-9]+(\.[0-9]*)?$/)}document.addEventListener("keypress",(function(e){["KeyZ","KeyY"].includes(e.code)&&e.ctrlKey&&e.preventDefault()})),document.addEventListener("keydown",(function(e){var t;if(Ee[e.code]=!0,"Escape"===e.code)Object(F["p"])(),document.activeElement.blur();else if("Delete"===e.code&&F["a"].selected_pieces.length){var n,a=Object(W["a"])(F["a"].selected_pieces);try{for(a.s();!(n=a.n()).done;){var r=n.value;Object(F["k"])(r)}}catch(l){a.e(l)}finally{a.f()}Object(F["p"])(),e.preventDefault()}else"KeyZ"===e.code&&e.ctrlKey?(document.activeElement.blur(),$["a"].undo(),e.preventDefault()):"KeyY"===e.code&&e.ctrlKey&&(document.activeElement.blur(),$["a"].redo(),e.preventDefault());if(!F["c"].focused){var s=1==F["a"].selected_pieces.length?F["a"].selected_pieces[0]:null;if("KeyC"===e.code&&e.ctrlKey)F["c"].paste_mode="copy",e.preventDefault();else if("KeyX"===e.code&&e.ctrlKey)F["c"].paste_mode="cut",e.preventDefault();else if("ArrowLeft"==e.code&&1==F["a"].selected_pieces.length){var _=Ae(F["a"].selected_pieces[0])||F["a"].selected_pieces[0];ze(_),e.preventDefault(),e.stopPropagation()}else if("ArrowRight"==e.code&&1==F["a"].selected_pieces.length){var o=Le(F["a"].selected_pieces[0])||F["a"].selected_pieces[0];ze(o),e.preventDefault(),e.stopPropagation()}else"KeyF"==e.code||"Backspace"==e.code?s&&("KeyF"==e.code?i["a"].set(s,"focus",{position:"end",child:"start"}):Ye(s,"end"),Object(F["p"])(),e.preventDefault(),e.stopPropagation()):"KeyX"==e.code?F["c"].toggle_disabled():"Enter"==e.code&&1==F["a"].selected_pieces.length?s&&(He(s),Object(F["p"])(),e.preventDefault(),e.stopPropagation()):s&&(t=qe(e.key))&&(ye(t,s,!0),e.preventDefault(),e.stopPropagation())}})),document.addEventListener("keyup",(function(e){Ee[e.code]=!1}));var Ke={"==":"=",">=":"≥","<=":"≤","!=":"≠","*":"×","-":"−","&&":"and","||":"or","!":"not","**":"^"};function We(e){return"BinaryExpression"==e.type&&["==","!=",">","<",">=","<="].includes(e.operator)}function $e(){Xe(this.P)&&0==this.P.body.length&&this.P._main_parent&&Object(F["j"])(this.P,"body",0,{type:"Empty"})}function Fe(){"Empty"==this.P.type&&void 0===this.P.value?i["a"].set(this.P,"value",""):"NumericLiteral"==this.P.type?this.P.value+="":We(this.P)?i["a"].set(this.P,"is_boolean",!0):this.P.disabled&&!Object(F["h"])(this.P)&&(this.P.disabled=!1),!this.P.is_sample&&this.P._main_parent&&this.P.focus&&this.focus()}function qe(e){var t,n={":":"Set","~":"Not","!":"CallExpression","[":"MemberExpression",".":"DotExpression"}[e];return n?t=ae(n):["+","-","*","/","^","%",">","<","=","&","|"].includes(e)&&(e={"=":"==","&":"&&","|":"||","^":"**"}[e]||e,t={type:["&&","||"].includes(e)?"LogicalExpression":"BinaryExpression",operator:e,left:{type:"Empty"},right:{type:"Empty"}},t.is_boolean=We(t)),t&&(t.focus={child:"start"}),t}function ze(e){Object(F["p"])(),i["a"].set(e,"selected",!0),F["a"].selected_pieces=[e]}function Ne(e){"StringLiteral"==e.type&&"MemberExpression"==e._main_parent.type&&"property"==e._keyAsChild?ze(e._main_parent):ze(e)}function Ve(e){return"ObjectProperty"==e.type&&""==e.key.value&&""==e.value.value}function He(e){var t={type:"Empty",focus:{}};if("Empty"!=e.type||"Program"!=e._main_parent.type){Ve(e._main_parent)?(Object(F["m"])(e._main_parent),e=e._main_parent._main_parent):"FunctionExpression"==e._main_parent&&"params"==e._keyAsChild?console.log("thats the one!"):Object(F["h"])(e)&&"Empty"==e.type&&(Object(F["m"])(e),e=e._main_parent);while(e._main_parent){var n=fe(e._main_parent),i=void 0;if(n&&(i=n.node[n.arr]),i&&e._parent!=i&&"BlockStatement"!=e.type){var a=i[0]&&"Empty"==i[0].type;return void Object(F["j"])(n.node,i,0,t,a)}if(Object(F["h"])(e)&&"IfStatement"!=e._main_parent.type){if("ObjectExpression"==e._main_parent.type)Je(e._main_parent,e._parent.indexOf(e)+1);else{var r=e._parent.indexOf(e)+1,s=e._parent[r]&&"Empty"==e._parent[r].type;Object(F["j"])(e._main_parent,e._parent,r,t,s)}return}e=e._main_parent}}}function Ge(e,t){if("ObjectExpression"==e.type){var n=e.properties.filter((function(e){return e.key.value==t}))[0];return n&&n.value}if("ArrayExpression"==e.type)return e.elements[t]}function Je(e,t){Object(F["j"])(e,"properties",t,ae("ObjectProperty"))}function Ye(e,t){i["a"].set(e,"focus",{position:t})}function Ze(e){return 0==e.length||"/"==e[0]?"Empty":Ue(e)?"NumericLiteral":Te(e)?"Identifier":"Broken"}function Xe(e){return["BlockStatement","Program"].includes(e.type)}var Qe={name:"Piece",components:{AutosizeInput:N.a,contenteditable:Z,FunctionExpression:ie},props:{P:Object,index_as_child:Number,need_brackets:Boolean,vertical_view:Boolean,placeholder:String,show_full:Boolean},data:function(){return{common:F["c"],paste:be,key_is_pressed:Ee,dsadsads:F["f"],json_path:[],hover:!1,cur_block:!1,show_minimize_btn:!1,glow:{right:!1,left:!1}}},watch:{P:function(e,t){this.init()},"P.conditions.length":function(e){0==e&&Object(F["m"])(this.P)},"P.body.length":$e,"P.type":Fe,"P.focus":function(e){e&&this.focus()},"P.selected":function(e){1==e&&this.P.is_sample&&(F["c"].paste_mode="copy")}},methods:{unselect_all:F["p"],init:function(){this.P._vm=this,this.hover=!1,this.cur_block=!1},edit_operator:function(e){return Ke[e]||e},handle_mouseover:function(e){if("BlockStatement"==this.P.type&&this.P._main_parent&&(this.show_minimize_btn=!0),!we(this.P)&&(e.stopPropagation(),F["c"].hover_P&&(F["c"].hover_P._vm.hover=!1),this.hover=!0,F["c"].hover_P=this.P,!F["c"].blue_hover)){F["c"].glow_side_P&&(F["c"].glow_side_P._vm.glow={left:!1,right:!1});var t={left:!1,right:!1};if(F["c"].paste_mode&&1==F["a"].selected_pieces.length&&!this.is_sample){var n=F["a"].selected_pieces[0],i=this.P,a=ue(n),r=je(n);while(i._main_parent){if(a.length>0&&ve(i._main_parent,n,i._keyAsChild)){var s,_=void 0,o=Object(W["a"])(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;if(ve(n,i,l._keyAsChild)){_=l;break}}}catch(c){o.e(c)}finally{o.f()}if(!_)return;1==r.length?t.left=!0:r.length>1&&(t.right=!0),i._vm.glow=t,F["c"].glow_side_P=i;break}if(i=i._main_parent,Xe(i))break}}}},handle_mouseleave:function(){this.show_minimize_btn&&(this.show_minimize_btn=!1),F["c"].hover_P=null,this.glow&&(this.glow.left||this.glow.right)&&(this.glow={left:!1,right:!1}),this.hover=!1},handle_click:function(e){if("Empty"!=this.P.type||F["a"].selected_pieces.length||!this.P._main_parent){if(!we(this.P)){var t,n=F["c"].select_many||e.shiftKey;if(1==F["a"].selected_pieces.length&&!n&&F["c"].paste_mode&&(t=ye(F["a"].selected_pieces[0],this.P,"copy"==F["c"].paste_mode)),t)Object(F["p"])();else if("Empty"!=this.P.type||this.P.is_sample)if(n){var a=F["a"].selected_pieces.indexOf(this.P);-1!=a?F["a"].selected_pieces.splice(a,1):(i["a"].set(this.P,"selected",!0),F["a"].selected_pieces.push(this.P))}else 1==F["a"].selected_pieces.length&&F["a"].selected_pieces[0]==this.P?Object(F["p"])():ze(this.P);e.stopPropagation()}}else e.stopPropagation()},handle_anchor:function(e,t){this.insert_into_arr(this.P,e),t.preventDefault(),t.stopPropagation()},insert_into_arr:function(e,t){for(var n=F["c"].IDE.sort_by_order(F["a"].selected_pieces),i=n.length-1;i>=0;i--){var a=n[i];if(("copy"==F["c"].paste_mode||a.is_sample)&&(a=Object(F["b"])(a)),a=Oe(a,e),!ve(e,a))return;var r=void 0;a._main_parent==e?(r={type:"Empty"},Object(F["l"])(a,r)):Object(F["m"])(a),Object(F["j"])(e,de[e.type],t,a),r&&Object(F["m"])(r),a.is_sample&&delete a.is_sample}Object(F["p"])()},is_primitive:function(e){return["Identifier","StringLiteral","NumericLiteral","Empty","ItselfLiteral","ThisExpression"].includes(e.type)},maybe_brackets_for_term:function(e,t){return"**"==e.operator&&e[t].type&&["+","-","*","/"].includes(e[t].operator)||"**"==e.operator&&e[t].type&&"**"==e[t].operator||"*"==e.operator&&e[t].type&&["+","-"].includes(e[t].operator)||"-"==e.operator&&("right"==t||"argument"==t)&&e[t].type&&["+","-"].includes(e[t].operator)},open_menu:function(e){we(this.P)||(event.stopPropagation(),event.preventDefault(),F["f"].under_menu=this,F["f"].menu_position.x=e.clientX,F["f"].menu_position.y=e.clientY,F["f"].showMenu=!0)},add_new_property:function(){Je(this.P,this.P.properties.length)},add_new_element:function(){Object(F["j"])(this.P,"elements",this.P.elements.length,ae("Empty"))},add_new_argument:function(){Object(F["j"])(this.P,"arguments",this.P.arguments.length,ae("Empty"))},add_new_condition:function(e){0===e?Object(F["j"])(this.P,"conditions",this.P.conditions.length,ae("ConditionStatement")):Object(F["i"])(this.P,"alternate",ae("Else"))},add_new_param:function(){var e={type:"Identifier",value:"",focus:!0},t=this.P.params?this.P:this.P.right;Object(F["j"])(t,"params",t.params.length,e)},add_step:function(){Object(F["i"])(this.P,"step",{type:"NumericLiteral",value:1})},remove_step:function(){Object(F["i"])(this.P,"step",null)},get_view:function(e){if("UnaryExpression"==e.type&&(e=e.argument),"LogicalExpression"==e.type)return e.operator==this.P.operator?this.vertical_view:!this.vertical_view},bracket_vertical:function(e){if("LogicalExpression"==e.type)return e.operator!=this.P.operator&&!this.vertical_view},toggle_boolean:function(){this.P.is_sample||Object(F["i"])(this.P,"value",!this.P.value)},get_id:function(e){return e?e._id||(e._id=Math.random()):"a"},handle_input_focus:function(){F["c"].focused=this.P,this.P.initial_input=this.P.value,this.P.initial_type=this.P.type},handle_input_blur:function(){F["c"].focused=null,this.P.initial_input!=this.P.value&&($["a"].set(this.P,"value",this.P.value,this.P.initial_input),$["a"].set(this.P,"type",this.P.type,this.P.initial_type))},handle_change:function(e){F["a"].selected_pieces.length&&Object(F["p"])(),this.P.type=Ze(this.P.value),e.stopPropagation()},handle_keydown:function(e){var t=this,n=this.P.value;if("Backspace"==e.code&&0==n.length){var a=Ae(this.P);if(a)Ye(a,"end");else{var r=Le(this.P);if(!r)return;Ye(r,0)}Object(F["h"])(this.P)?Object(F["k"])(this.P):ce(this.P._main_parent),e.preventDefault(),e.stopPropagation()}else if("ArrowRight"==e.code&&e.target.selectionStart==n.length||"ArrowLeft"==e.code&&0==e.target.selectionStart)this.handle_arrow_excess();else if(["Enter","Tab"].includes(e.code)&&this.is_Keyword)F["c"].timeout_to_choose_first=setTimeout((function(){t.transform_from_keyword()}),100);else if("Enter"==e.code)He(this.P),e.preventDefault(),e.stopPropagation();else if('"'==e.key&&(this.caret_is_at("end")||this.caret_is_at(0))){var s={type:"StringLiteral",focus:this.caret_is_at(0)?{}:void 0,value:this.P.value};ve(this.P._main_parent,s,this.P._keyAsChild)&&(Object(F["l"])(this.P,s),this.caret_is_at("end")&&(i["a"].set(s,"selected",!0),F["a"].selected_pieces=[s])),e.preventDefault(),e.stopPropagation()}else if("Space"==e.code&&"/"!=n[0])e.preventDefault(),e.stopPropagation();else if(this.caret_is_at("end")){var _,o=e.key;"/"==n[0]?this.open_keyword_menu():"-/".includes(o)&&0==n.length||"."==o&&"NumericLiteral"==this.P.type||(_=qe(o))&&(ye(_,this.P,!0),e.preventDefault(),e.stopPropagation())}},open_keyword_menu:function(){F["c"].show_keyword_menu=!0,F["c"].el_with_keyword_menu=this},caret_is_at:function(e){var t=this.dom_input();return"end"==e&&(e=t.value.length),t.selectionStart==e&&t.selectionEnd==e},handle_arrow_excess:function(){document.activeElement.blur(),"ArrowRight"==event.code?Ne(this.P):ze(this.P),event.stopPropagation()},handle_backspace_at_beginning:function(e){Object(F["p"])(),Object(F["l"])(this.P,{type:Ze(this.P.value),focus:{},value:this.P.value})},show_anchor:function(e){if(this.$vuetify.breakpoint.mdAndUp)return!1;if(!(F["a"].selected_pieces.length&&F["c"].paste_mode&&this.P._main_parent))return!1;if(Ee.Control||"copy"==F["c"].paste_mode)return!0;var t,n=Object(W["a"])(F["a"].selected_pieces);try{for(n.s();!(t=n.n()).done;){var i=t.value;if([null,this.arr[e-1],this.arr[e-2]].includes(i))return!1}}catch(a){n.e(a)}finally{n.f()}return!0},smart_index:function(e){var t=this.arr_without_disabled.indexOf(this.P.elements[e]);return-1==t?"-- ":t},focus:function(){var e=this;if(!this.P.is_sample){var t,n=this.P.focus&&this.P.focus.position;if(Ce(this.P))this.$nextTick((function(){var t;e.$refs.input_field?(e.$refs.input_field.focus(),void 0!=n&&(t="end"==n?e.P.value.length:n,e.dom_input().setSelectionRange(t,t))):e.$refs.CE&&e.$refs.CE.focus();delete e.P.focus}));else t="start"==this.P.focus.child?De(this.P):Me(this.P),t?Ye(t,"end"):ze(this.P),delete this.P.focus}},transform_from_keyword:function(e){e||(e=this.keyword_options[0].piece_type),ye(q["a"][e],this.P,!0),F["c"].show_keyword_menu=!1},handle_keydown_CE:function(e){"Enter"!=e.code||e.shiftKey||(He(this.P),e.preventDefault(),e.stopPropagation())},toggle_minimize_block:function(){this.P.minimized?$["a"].set(this.P,"minimized",void 0):$["a"].set(this.P,"minimized",!0)},dom_input:function(){return this.$refs.input_field.$el.children[0]},cut_path:function(e,t){e<this.json_path.length&&(this.json_path=this.json_path.slice(0,e))},folder_click:function(){var e,t,n;"ObjectProperty"==this.P._main_parent.type?(e=this.P._main_parent.key.value,t=this.$parent.$parent.$parent):"ArrayExpression"==this.P._main_parent.type?(e=this.P._main_parent.elements.indexOf(this.P),t=this.$parent.$parent):console.error("omg smth went terribly wrong"),n=t.$parent.P&&["ObjectExpression","ArrayExpression"].includes(t.$parent.P.type)?t.$parent:t,n.json_path.push(e)},toggle_finally:function(){this.P.finalizer?this.P.finalizer=null:Object(F["i"])(this.P,"finalizer",{type:"BlockStatement",body:[]})},handle_blue_click:function(e){event.stopPropagation();var t=Se(this.P),n=t._parent.indexOf(t)+("bottom"==e?1:0);F["a"].selected_pieces.length>0&&F["c"].paste_mode?this.insert_into_arr(t._main_parent,n):Object(F["j"])(t._main_parent,t._parent,n,ae("Empty"))},show_blue:function(e){return!(this.$vuetify.breakpoint.xs||!this.hover)&&("vertical"==e||void 0)},handle_blue_mouseover:function(){F["c"].blue_hover=!0,F["c"].glow_side_P&&(F["c"].glow_side_P._vm.glow={left:!1,right:!1})},handle_blue_mouseleave:function(){F["c"].blue_hover=!1},test:function(){var e;return(e=console).log.apply(e,arguments),!0}},computed:{piece_name:function(){return{ObjectExpression:"Object",ArrayExpression:"List"}[this.P.type]},is_child_in_json:function(){return this.P._main_parent&&["ObjectProperty","ArrayExpression"].includes(this.P._main_parent.type)},gotta_show_full:function(){return this.show_full||!this.is_child_in_json&&0==this.json_path.length||this.P.is_sample},op_list:function(){return this.P.is_boolean?["==","!=",">","<","<=",">="]:["+","-","*","/","%"]},arr:function(){return this.P[de[this.P.type]]},mark:function(){return this.hover},elseif_else_arr:function(){return this.P.alternate?["Else if"]:["Else if","If none of the above"]},brackets:function(){return this.need_brackets||"LogicalExpression"==this.P.type&&this.P._main_parent&&!["ConditionStatement","LogicalExpression"].includes(this.P._main_parent.type)},arr_without_disabled:function(){return this.P.elements.filter((function(e){return!e.disabled}))},is_Keyword:function(){return"Empty"==this.P.type&&this.P.value&&"/"==this.P.value[0]},cur_keyword:function(){return this.P.value.slice(1)},keyword_options:function(){if(this.is_Keyword&&this.cur_keyword.length>0)return oe(this.cur_keyword)},cur_folder:function(){for(var e=this.P,t=0;t<this.json_path.length;t++){var n=this.json_path[t],i=Ge(e,n);if(!i){console.log("FIXING THE PATH!"),this.json_path=this.json_path.slice(0,t-1);break}e=i}return e}},created:function(){this.init()},mounted:function(){Fe.call(this),$e.call(this)},updated:function(){}},et=Qe,tt=(n("81ff"),n("ba0d")),nt=Object(o["a"])(et,T,U,!1,null,null,null),it=nt.exports;c()(nt,{VIcon:j["a"],VList:x["a"],VListItem:C["a"],VMenu:w["a"],VSlider:tt["a"]});var at=n("94ed");i["a"].component("Piece",it),i["a"].config.productionTip=!1;var rt={mdiMenuRight:at["g"],mdiUndo:at["k"],mdiRedo:at["i"],mdiContentCopy:at["c"],mdiContentCut:at["d"],mdiDelete:at["e"],mdiMessageProcessing:at["h"],mdiCancel:at["b"],mdiVectorSelection:at["l"],mdiSemanticWeb:at["j"],mdiFolderOpen:at["f"],mdiAppsBox:at["a"]};for(var st in i["a"].prototype.$mdi={},rt)i["a"].prototype.$mdi[st.slice(3)]=rt[st],delete rt[st];new i["a"]({router:L,vuetify:S,render:function(e){return e(m)}}).$mount("#app")},"645c":function(e,t,n){"use strict";n("a8a4")},7136:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("c975"),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("2b3d"),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_17__),D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("53ca"),D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("b85c"),vue__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("2b0e"),_babel_traverse__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("ead4"),_babel_traverse__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_traverse__WEBPACK_IMPORTED_MODULE_21__),_methods__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("e598"),_remember__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("19ea"),_components_Panel__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("9c97"),_require=__webpack_require__("1861"),parse=_require.parse,_require2=__webpack_require__("7bdc"),babel_generate=_require2.default,t=__webpack_require__("252a");function run_code(code){eval(code)}vue__WEBPACK_IMPORTED_MODULE_20__["a"].prototype.$menu=_methods__WEBPACK_IMPORTED_MODULE_22__["f"];var test2='\n//\nasync function go() {\n\tdo_smth();\n\ta = await fetch(bla);\n}\nfor (;;) {\n\tbreak;\n}\nk.name = \'Anna\';\nconsole.log(p.name.length, p.age);\np[age] = 20;\np.age = 20;\np["age"] = 20;\nx = p[3+2];\nx = p[3]+2;\n\nx = (5+2)*3;\nx = u[a.size];\nx = u[a].size;\nx = u[a][size];\nx = u.a[size]\nx = !3\n\n\nperson = {\n\t"name": "Ann",\n\too: {\n\t\tx: {\n\t\t\tthis:is,\n\t\t\tunbe:lievable,\n\t\t},\n\t\ty:2\n\t},\n\theight: 2/3,\n};\n\nwhile(n < 10)\n\tn++;\n\npath.replaceWith( t.assignmentExpression( operator, P.argument, t.numericLiteral(1) ) );\n\nx = 5;\nx = 100 - itself;\n\n\nif (copy) M = clone(itself);\n\ni -= max(7,9);\ni *= 5;\nz = go(schmo("blabla","trata"),schfo(onemorelevel("because","why not"),"azzaza",4412), "third");\nx = (5+2)/3;\ny = x + 7;\n\n\n\nx = "cities";\nn = 3.14;\n\nname = "Peter"\nperson.name\n\nperson = {\n\tname,\n\tage: 20,\n\theight: 2/(3*(4+5)*6*(7/8) ),\n\tcities: [\'Saigon\', \'Danang\', \'Vungtau\', \'Ho Chi Minh\', \'Hanoi\', \'Nhatrang\'],\n\t"favorite poem": "Roses are red\\nViolets are blue\\nYou can write a whole fucking poem here\\nDuh",\n};\n\n23;\n\nwhile (x < 10)\n\tconsole.log(a.length);\n\n\nfor (c of cities)\n\tconsole.log(c);\n\nname = "Hamy";\nname = "***" + itself.toUpperCase() + "***"\n\n\nx++;\nx += 1;\ni += 3;\n\nif (2 + 2 == 4) go();\n\nif (2 + 2 == 4) {\n\tgo();\n}\n\nif (x + y >= 4) {\n\ta = "yes"; a2 = "yes2";\n}\nelse if (bla) bla = bla;\nelse a = "no";\n\nname = "Hamy";\nname = "***" + itself.toUpperCase() + "***"\n\n\n\nadd = function(x,y) {\n\tx = 10;\n\ty++;\n\tz = 10;\n\tz = 2 + z;\n\th = 2 + z;\n\tresult = x+y;\n\treturn result;\n}\n\nif (2 + 2 == 4) go();\nelse if (3 + 3 == 6) mo();\nelse if (4 + 4 == 8) fo();\nelse zo();\n\n\nfor (;;) go();\n\nif ( x.likes(a)   ) {\n\ta = \'oh\';\n}\nelse if (a[x || y]("wtf")) {}\nelse if ( (x && y).includes(7 && 8) ) {}\nelse if ( s[! "includes"](7) ) {}\n\nif (x + y >= 4) {\n\ta = "yes"; a2 = "yes2";\n}\nelse if (bla) bla = bla;\nelse a = "no";\n\n',test3='\n\nif (1+2+3) {\n\tconsole.log("oops\\"");\n}\n\n\n',test;function adapt(e){function n(e){if("ExpressionStatement"==e.type)Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,e.expression);else if("RestElement"==e.type)e.type="SpreadElement";else if("ArrayPattern"==e.type)e.type="ArrayExpression";else if("IfStatement"==e.type){var t={type:"ConditionStatement",test:e.test,consequent:e.consequent};e.conditions=[t],delete e.test,delete e.consequent;var n=e;while(n.alternate&&"IfStatement"==n.alternate.type){n=n.alternate;var i={type:"ConditionStatement",test:n.test,consequent:n.consequent};e.conditions.push(i)}n.alternate?e.alternate={type:"ElseStatement",body:n.alternate}:e.alternate=null}else"Identifier"==e.type&&(e.value=e.name,delete e.name)}function i(e){if("ForStatement"==e.type)e.type="WhileStatement",e.init&&e._parent.splice(e._parent.indexOf(e),0,e.init),e.test||(e.test={type:"BooleanLiteral",value:!0}),e.update&&e.body.body.push(e.update),delete e.init,delete e.update;else if("UnaryExpression"==e.type&&"-"==e.operator)"NumericLiteral"==e.argument.type?Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"NumericLiteral",value:"-"+e.argument.value},!0):Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"BinaryExpression",operator:"*",left:{type:"NumericLiteral",value:"-1"},right:e.argument},!0);else if("FunctionDeclaration"==e.type){var t=Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(e);t.type="FunctionExpression",delete t.id,Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"AssignmentExpression",operator:"=",left:e.id,right:t},!0)}else if("VariableDeclaration"==e.type){var n,i,a=[],r=Object(D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_19__["a"])(e.declarations);try{for(r.s();!(i=r.n()).done;){var s=i.value;a.push({type:"AssignmentExpression",operator:"=",left:s.id,right:s.init||{type:"Identifier",value:"undefined"}})}}catch(_){r.e(_)}finally{r.f()}(n=e._parent).splice.apply(n,[e._parent.indexOf(e),1].concat(a))}}_remember__WEBPACK_IMPORTED_MODULE_23__["a"].off(),_babel_traverse__WEBPACK_IMPORTED_MODULE_21___default()(e,{enter:function(e){var n=e.node;if(delete n.start,delete n.end,delete n.loc,"UpdateExpression"==n.type){var i={"++":"+=","--":"-="}[n.operator];e.replaceWith(t.assignmentExpression(i,n.argument,t.numericLiteral(1)))}else if("AssignmentExpression"==n.type&&"="!=n.operator){var a=n.operator[0];n.operator="=";var r={type:"ItselfLiteral"};n.right={operator:a,left:r,right:n.right,type:"BinaryExpression"}}else if("IfStatement"==n.type)"BlockStatement"!=n.consequent.type&&(n.consequent=t.blockStatement([n.consequent])),n.alternate&&!["BlockStatement","IfStatement"].includes(n.alternate.type)&&(n.alternate=t.blockStatement([n.alternate]));else if("MemberExpression"!=n.type||n.computed)if("ObjectExpression"==n.type){var s,_=Object(D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_19__["a"])(n.properties);try{for(_.s();!(s=_.n()).done;){var o=s.value;"StringLiteral"!=o.key.type&&(o.key=t.stringLiteral(o.key.name))}}catch(l){_.e(l)}finally{_.f()}}else["ForStatement","ForOfStatement","WhileStatement"].includes(n.type)&&("BlockStatement"!=n.body.type&&(n.body=t.blockStatement([n.body])),"ForOfStatement"==n.type&&n.left.declarations&&(n.left=n.left.declarations[0].id));else n.computed=!0,n.property=t.stringLiteral(n.property.name);e.listKey?n._parent=e.parent[e.listKey]:(n._parent=e.parent,n._keyAsChild=e.key),n._main_parent=e.parent}}),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["o"])(e,n,i),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["n"])(e),_remember__WEBPACK_IMPORTED_MODULE_23__["a"].on()}function to_normal_js(e){_remember__WEBPACK_IMPORTED_MODULE_23__["a"].off(),e=Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(e),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["o"])(e,(function(e){e.disabled?Array.isArray(e._parent)?e._parent.splice(e._parent.indexOf(e),1):e._main_parent[e._keyAsChild]=null:"Separator"==e.type||"Comment"==e.type?Object(_methods__WEBPACK_IMPORTED_MODULE_22__["k"])(e):"Empty"!=e.type&&"Broken"!=e.type||("BlockStatement"==e._main_parent.type?Object(_methods__WEBPACK_IMPORTED_MODULE_22__["m"])(e):Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"Identifier",value:"undefined"}))}));var t=[[]],n=function(){return t[t.length-1]};function i(e){return["Program","BlockStatement","LogicalExpression","ArrayExpression","ObjectProperty","ConditionStatement"].includes(e._main_parent.type)||Object(_methods__WEBPACK_IMPORTED_MODULE_22__["g"])(e._main_parent)}function a(e){if("ItselfLiteral"==e.type){var i=e;while("AssignmentExpression"!=i.type)i=i._main_parent;Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,i.left)}else if("ObjectExpression"==e.type&&"left"==e._keyAsChild&&"AssignmentExpression"==e._main_parent.type)e.type="ObjectPattern";else if("FunctionExpression"==e.type||"FunctionDeclaration"==e.type){var a=e.params.filter((function(e){return"Identifier"==e.type})).map((function(e){return e.value}));t.push(a)}else"Identifier"==e.type?("AssignmentExpression"==e._parent.type&&"left"==e._keyAsChild||n().push(e.value),e.name=e.value):"PrintStatement"==e.type?Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"console"},property:{type:"Identifier",name:"log"}},arguments:[e.argument]},!0):"RootExpression"==e.type?Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:"Math"},property:{type:"Identifier",name:"sqrt"}},arguments:[e.argument]},!0):"ForOfStatement"==e.type&&Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e.left,{type:"VariableDeclaration",kind:"let",declarations:[{type:"VariableDeclarator",id:Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(e.left)}]},!0)}function r(e){if("FunctionExpression"==e.type||"FunctionDeclaration"==e.type)t.pop();else if("GlobalVariableStatement"==e.type)e._parent.splice(e._parent.indexOf(e),1);else if("AssignmentExpression"!=e.type||"="!=e.operator||"Identifier"!=e.left.type||n().includes(e.left.name))if("IfStatement"==e.type){var a=e.conditions;if(!a)return;e.test=a[0].test,e.consequent=a[0].consequent;for(var r=e.alternate,s=e,_=e,o=1;o<a.length;o++)_={type:"IfStatement",test:a[o].test,consequent:a[o].consequent},s.alternate=_,s=_;r&&(_.alternate=r.body),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["n"])(e)}else if("LogicalExpression"==e.type||"UnaryExpression"==e.type){var l,c=e;while(!i(c))c=c._main_parent;if(c!=e)l=Array.isArray(e._parent)?e._parent.indexOf(e):e._keyAsChild,Object(_methods__WEBPACK_IMPORTED_MODULE_22__["o"])(e,(function(t){if(!["LogicalExpression","UnaryExpression"].includes(t.type)){e._parent[l]=t;var n=Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(c);Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(t,n)}})),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(c,e,!0)}else if("ForRangeStatement"==e.type)e.init={type:"VariableDeclaration",kind:"let",declarations:[{type:"VariableDeclarator",id:e.var,init:e.first}]},e.update={type:"AssignmentExpression",operator:"+=",left:e.var,right:e.step||{type:"NumericLiteral",value:1}},e.test={type:"BinaryExpression",operator:e.step&&"UnaryExpression"==e.step.type?">=":"<=",left:e.var,right:e.last},delete e.first,delete e.last,delete e.var,e.type="ForStatement";else if("NumericLiteral"==e.type&&"-"==e.value[0])e.value=e.value.slice(1),Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"UnaryExpression",operator:"-",argument:Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(e)},!0);else if("MemberExpression"==e.type&&"StringLiteral"==e.property.type){var p=e.property.value;null!==p.match(/^[A-Za-z$_][A-Za-z$_0-9]*$/)&&(e.computed=!1,e.property={type:"Identifier",name:p},Object(_methods__WEBPACK_IMPORTED_MODULE_22__["n"])(e))}else e._main_parent&&["BlockStatement","Program"].includes(e._main_parent.type)&&!["IfStatement","WhileStatement","ForOfStatement","BreakStatement","ContinueStatement","ReturnStatement","TryStatement"].includes(e.type)&&Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"ExpressionStatement",expression:e});else Object(_methods__WEBPACK_IMPORTED_MODULE_22__["l"])(e,{type:"VariableDeclaration",kind:"var",declarations:[{type:"VariableDeclarator",id:e.left,init:e.right}]},!0),n().push(e.left.name)}return Object(_methods__WEBPACK_IMPORTED_MODULE_22__["o"])(e,a,r),_remember__WEBPACK_IMPORTED_MODULE_23__["a"].on(),e}test="",_methods__WEBPACK_IMPORTED_MODULE_22__["c"].toggle_disabled=function(){var e,t=Object(D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_19__["a"])(_methods__WEBPACK_IMPORTED_MODULE_22__["a"].selected_pieces);try{for(t.s();!(e=t.n()).done;){var n=e.value;(Object(_methods__WEBPACK_IMPORTED_MODULE_22__["h"])(n)||"ElseStatement"==n.type)&&Object(_methods__WEBPACK_IMPORTED_MODULE_22__["i"])(n,"disabled",!n.disabled)}}catch(i){t.e(i)}finally{t.f()}Object(_methods__WEBPACK_IMPORTED_MODULE_22__["p"])()};var ast=parse(test),gonna_compile;function downloadFiles(e,t,n){var i=new Blob([e],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,t);else{var a=document.createElement("a"),r=URL.createObjectURL(i);a.href=r,a.download=t,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(r)}),0)}}adapt(ast),__webpack_exports__["a"]={components:{Panel:_components_Panel__WEBPACK_IMPORTED_MODULE_24__["a"]},data:function(){return{ast:ast,js_code:"",js_code_dialog:!1,cur_tab:0,menu:_methods__WEBPACK_IMPORTED_MODULE_22__["f"],common:_methods__WEBPACK_IMPORTED_MODULE_22__["c"],$g:_methods__WEBPACK_IMPORTED_MODULE_22__["a"],console:[]}},watch:{console:function(){this.$refs.console.scrollTo(0,this.$refs.console.scrollHeight)},"$data.$g.selected_pieces":function(){0==_methods__WEBPACK_IMPORTED_MODULE_22__["a"].selected_pieces.length?(_methods__WEBPACK_IMPORTED_MODULE_22__["c"].paste_mode=null,_methods__WEBPACK_IMPORTED_MODULE_22__["c"].select_many=!1):_methods__WEBPACK_IMPORTED_MODULE_22__["c"].panel_drawer&&!_methods__WEBPACK_IMPORTED_MODULE_22__["c"].select_many&&(_methods__WEBPACK_IMPORTED_MODULE_22__["c"].panel_drawer=!1)},"common.show_keyword_menu":function(e){}},methods:{choose:function(e){clearTimeout(_methods__WEBPACK_IMPORTED_MODULE_22__["c"].timeout_to_choose_first),_methods__WEBPACK_IMPORTED_MODULE_22__["c"].el_with_keyword_menu.transform_from_keyword(e.piece_type)},generate:function(){this.js_code=babel_generate(to_normal_js(this.ast)).code.trim()},run:function(){this.console=[],this.generate(),run_code(this.js_code)},undo:function(){_remember__WEBPACK_IMPORTED_MODULE_23__["a"].undo()},redo:function(){_remember__WEBPACK_IMPORTED_MODULE_23__["a"].redo()},set_mode:function(e){null==_methods__WEBPACK_IMPORTED_MODULE_22__["c"].paste_mode?_methods__WEBPACK_IMPORTED_MODULE_22__["c"].paste_mode=e:_methods__WEBPACK_IMPORTED_MODULE_22__["c"].paste_mode=null},remove:function(){var e,t=Object(D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_19__["a"])(_methods__WEBPACK_IMPORTED_MODULE_22__["a"].selected_pieces);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(_methods__WEBPACK_IMPORTED_MODULE_22__["k"])(n)}}catch(i){t.e(i)}finally{t.f()}Object(_methods__WEBPACK_IMPORTED_MODULE_22__["p"])()},select_many:function(){_methods__WEBPACK_IMPORTED_MODULE_22__["c"].select_many=!_methods__WEBPACK_IMPORTED_MODULE_22__["c"].select_many},save:function(){downloadFiles(JSON.stringify(Object(_methods__WEBPACK_IMPORTED_MODULE_22__["b"])(this.ast,!0)),"code.vcc","vcc")},handle_file_input:function(e){var t=this,n=new FileReader;n.onload=function(e){var n=e.target.result,i=JSON.parse(n);Object(_methods__WEBPACK_IMPORTED_MODULE_22__["n"])(i),t.ast=i},n.readAsText(e.target.files[0])},sort_by_order:function(e){var t=e.filter((function(e){return e.is_sample}));return Object(_methods__WEBPACK_IMPORTED_MODULE_22__["o"])(this.ast,(function(n){e.includes(n)&&t.push(n)})),t}},mounted:function(){},computed:{menu_items:function(){if(this.menu.under_menu){var e=this.menu.under_menu.P,t=["Remove","Remove parent","Remove operator"];return Object(_methods__WEBPACK_IMPORTED_MODULE_22__["h"])(e)&&t.push(e.disabled?"Enable":"Disable"),t}},persistent_panel:function(){return this.$vuetify.breakpoint.smAndUp}},created:function(){_methods__WEBPACK_IMPORTED_MODULE_22__["c"].IDE=this,_methods__WEBPACK_IMPORTED_MODULE_22__["a"].console=console,console={log:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=n.map((function(e){return"object"==Object(D_tonebei_sandbox_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_18__["a"])(e)?"("+JSON.stringify(e)+")":"string"==typeof e?'("'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'")':e})).join(";");ast=parse(a),adapt(ast),_methods__WEBPACK_IMPORTED_MODULE_22__["c"].IDE.console.push({type:"consolelog",ast:ast}),(e=_methods__WEBPACK_IMPORTED_MODULE_22__["a"].console).log.apply(e,n)},error:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=_methods__WEBPACK_IMPORTED_MODULE_22__["a"].console).error.apply(e,n);for(var a=0,r=n;a<r.length;a++){var s=r[a];s.match&&s.match(/\[Vue warn\]/)||_methods__WEBPACK_IMPORTED_MODULE_22__["c"].IDE.console.push({type:"consoleerror",content:s})}},warn:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=_methods__WEBPACK_IMPORTED_MODULE_22__["a"].console).warn.apply(e,n);for(var a=0,r=n;a<r.length;a++){var s=r[a];s.match&&s.match(/\[Vue warn\]/)||_methods__WEBPACK_IMPORTED_MODULE_22__["c"].IDE.console.push({type:"consolewarn",content:s})}}}}}},"81ff":function(e,t,n){"use strict";n("f1c9")},"9c97":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"panel_collision_model"}),n("div",{staticClass:"panel"},[n("div",{staticClass:"d-flex justify-center pa-1"},[e._v(" PANEL ")]),n("div",{staticClass:"d-flex justify-space-around tabs"},e._l(["Basic","Complex","List"],(function(t,i){return n("div",{class:{chosen:e.cur_tab==i,"d-flex justify-center pa-1":!0},on:{mousedown:function(t){e.cur_tab=i}}},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticClass:"d-flex justify-space-around tabs"},e._l(["Function","Math","Logic"],(function(t,i){return n("div",{class:{chosen:e.cur_tab==i+3,"d-flex justify-center pa-1":!0},on:{mousedown:function(t){e.cur_tab=i+3}}},[e._v(" "+e._s(t)+" ")])})),0),e._l(e.panel_samples[e.cur_tab],(function(t){return n("div",{staticClass:"pl-1"},[n("Piece",{key:e.get_id(t),attrs:{P:t}})],1)}))],2)])},a=[],r=n("e598"),s=n("5174"),_={data:function(){return{cur_tab:0,common:r["c"],$g:r["a"],panel_samples:s["a"].panel_samples}},methods:{get_id:function(e){return e?e._id||(e._id=Math.random()):"a"}}},o=_,l=(n("645c"),n("2877")),c=Object(l["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},a8a4:function(e,t,n){},e598:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"o",(function(){return o})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"n",(function(){return y})),n.d(t,"e",(function(){return _})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return E})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"a",(function(){return g}));n("caad"),n("c975"),n("fb6a");var i=n("b85c"),a=n("53ca"),r=n("19ea"),s={focused:null,hover_P:null,glow_side_P:null,blue_hover:!1,paste_mode:null,select_many:!1,cur_block:null,el_with_keyword_menu:null,show_keyword_menu:!1,panel_drawer:!1};function _(e){return"object"==Object(a["a"])(e)&&!Array.isArray(e)&&null!=e}function o(e,t,n){if("object"==Object(a["a"])(e)&&null!=e){for(var r in t&&t(e),e)if("_"!=r[0])if(Array.isArray(e[r])){var s,_=Object(i["a"])(e[r].slice(0));try{for(_.s();!(s=_.n()).done;){var l=s.value;o(l,t,n)}}catch(c){_.e(c)}finally{_.f()}}else o(e[r],t,n);n&&n(e)}}function l(e){m(),c(e)?r["a"].remove(e._parent,e._parent.indexOf(e)):e._parent&&p(e._parent,e._keyAsChild,{type:"Empty"})}function c(e){return Array.isArray(e._parent)}function p(e,t,n){delete n.is_sample,r["a"].set(e,t,n),_(n)&&(r["a"].set(n,"_parent",e),r["a"].set(n,"_main_parent",e),r["a"].set(n,"_keyAsChild",t))}function u(e,t,n,i,a){delete i.is_sample;var s="string"==typeof t?e[t]:t;r["a"][a?"set":"add"](s,n,i),_(i)&&(r["a"].set(i,"_parent",s),r["a"].set(i,"_main_parent",e))}function d(e,t,n){m(),n&&y(t),c(e)?u(e._main_parent,e._parent,e._parent.indexOf(e),t,!0):p(e._main_parent,e._keyAsChild,t)}function m(){s.focused&&(document.activeElement.blur(),r["a"].finish_action())}function f(e,t){if(_(e)){var n={};for(var a in e)if("_"!=a[0]&&!["loc","start","end","extra","selected"].includes(a))if(Array.isArray(e[a])){n[a]=[];var r,s=Object(i["a"])(e[a]);try{for(s.s();!(r=s.n()).done;){var o=r.value,l=f(o,t);t||(l._main_parent=n,l._parent=n[a]),n[a].push(l)}}catch(c){s.e(c)}finally{s.f()}}else n[a]=f(e[a],t),!t&&_(n[a])&&(n[a]._main_parent=n[a]._parent=n,n[a]._keyAsChild=a);return n}return e}function y(e){if(_(e))for(var t in e)if("_"!=t[0])if(Array.isArray(e[t])){var n,a=Object(i["a"])(e[t]);try{for(a.s();!(n=a.n()).done;){var r=n.value;y(r),r._main_parent=e,r._parent=e[t]}}catch(s){a.e(s)}finally{a.f()}}else y(e[t]),_(e[t])&&(e[t]._main_parent=e[t]._parent=e,e[t]._keyAsChild=t)}function h(e){if("BlockStatement"==e.type||"Program"==e.type)console.warn("You cannot remove "+e.type);else if("ElseStatement"==e.type)e._parent.alternate=null;else{if("Empty"==e.type&&["BlockStatement","Program"].includes(e._main_parent.type)&&1==e._parent.length)return;"Empty"==e.type||c(e)?l(e):d(e,{type:"Empty",focus:!0})}}function P(e){return["AssignmentExpression","IfStatement","ForRangeStatement","ForOfStatement","WhileStatement","PrintStatement","ReturnStatement","BreakStatement","ContinueStatement","GlobalVariableStatement","Comment","Separator"].includes(e.type)}function v(e,t){while(e._main_parent){if(t(e))return e;e=e._main_parent}return null}function b(){var e,t=Object(i["a"])(g.selected_pieces);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.selected=!1}}catch(a){t.e(a)}finally{t.f()}g.selected_pieces=[],s.paste_mode=null}g={};var E={showMenu:!1,under_menu:null,menu_position:{x:0,y:0}},g={selected_pieces:[]}},f1c9:function(e,t,n){}});
//# sourceMappingURL=app.7ee35a22.js.map