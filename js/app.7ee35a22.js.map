{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/remember.js","webpack:///./src/views/IDE.vue?9b8b","webpack:///./src/samples.js","webpack:///./src/App.vue?bb55","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/IDE.vue?0817","webpack:///./src/views/IDE.vue?894c","webpack:///./src/views/IDE.vue","webpack:///./src/router/index.js","webpack:///./src/plugins/vuetify.js","webpack:///src/components/contenteditable.vue","webpack:///./src/components/Piece.vue?623f","webpack:///./src/components/contenteditable.vue?8dcc","webpack:///./src/components/contenteditable.vue?7213","webpack:///./src/components/contenteditable.vue","webpack:///./src/components/FunctionExpression.vue?b667","webpack:///src/components/FunctionExpression.vue","webpack:///./src/components/FunctionExpression.vue?de63","webpack:///./src/components/FunctionExpression.vue","webpack:///src/components/Piece.vue","webpack:///./src/components/Piece.vue?ffed","webpack:///./src/components/Piece.vue","webpack:///./src/main.js","webpack:///./src/components/Panel.vue?04b4","webpack:///src/views/IDE.vue","webpack:///./src/components/Piece.vue?04fc","webpack:///./src/components/Panel.vue?93e4","webpack:///src/components/Panel.vue","webpack:///./src/components/Panel.vue?59de","webpack:///./src/components/Panel.vue","webpack:///./src/methods.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","history","action_bundle","shift_to_past","timeout","undo_after_finishing","record","R","active","setTimeout","action_end","finish_action","clearTimeout","set","new_value","old_value","undefined","action","Vue","remove","array","index","add","undo","reverse_action","play_action","is_in_the_middle_of_action","bundle","redo","clear_history","on","off","Empty","type","body","Identifier","StringLiteral","ConditionStatement","test","consequent","BinaryExpression","operator","left","right","MathFunction","callee","arguments","FunctionExpression","params","dot","computed","samples","elements","properties","argument","var","height","conditions","first","last","step","block","handler","param","values","P","is_sample","focus","child","panel_samples","map","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","components","component","VApp","VMain","class","all","dragging","common","paste_mode","attrs","persistent_panel","_e","$event","panel_drawer","_v","_s","$mdi","AppsBox","$vuetify","breakpoint","mobile","Undo","Redo","set_mode","$data","$g","selected_pieces","ContentCopy","ContentCut","Delete","select_many","VectorSelection","toggle_disabled","Cancel","run","MenuRight","ast","program","save","js_code_dialog","generate","handle_file_input","ref","_l","line","content","$menu","menu_position","y","x","under_menu","preventDefault","model","callback","$$v","$set","expression","item","$handle_menu_click","el_with_keyword_menu","keyword_options","$el","choose","keyword","js_code","VAppBar","VBtn","VCard","VDialog","VIcon","VList","VListItem","VMenu","VNavigationDrawer","use","VueRouter","routes","path","IDE","router","base","process","Vuetify","hover","mark","brackets","disabled","selected","piece","glow_right","glow","glow_left","handle_mouseover","handle_mouseleave","open_menu","handle_click","show_blue","handle_blue_mouseover","handle_blue_mouseleave","handle_blue_click","includes","placeholder","handle_input_focus","handle_input_blur","handle_change","handle_keydown","_parent","cur_block","block_margin","_main_parent","stopPropagation","toggle_minimize_block","minimized","get_id","show_anchor","handle_anchor","add_new_argument","empty_line","squeeze","edit_operator","vertical_view","maybe_brackets_for_term","is_primitive","gotta_show_full","add_new_property","k","piece_name","add_new_element","smart_index","is_child_in_json","cut_path","SemanticWeb","cur_folder","a","add_new_param","staticStyle","get_view","bracket_vertical","handle_keydown_CE","unselect_all","handle_backspace_at_beginning","handle_arrow_excess","scopedSlots","_u","fn","_g","_b","add_new_condition","alternate","index_as_child","remove_step","add_step","kind","style","MessageProcessing","finalizer","toggle_finally","folder_click","FolderOpen","redirect","handle_keyup","handle_type","get_sample","piece_type","find_by_keyword","f","get_children","remove_operator","handle_menu_click","find_empty_children","contents_hidden","array_child","move","M","D","copy","is_ancestor","X","Y","is_a_loop","compatible","parent","keyAsChild","edit_if_necessary","get_all_children","get_first_child","is_editable","unselectable","get_last_editable","get_first_empty_editable","prev_ver","get_prev_child","next_ver","get_next_child","get_all_leafs","get_all_leafs_recursive","res","get_cur_line","is_a_valid_identifier","is_a_valid_number","document","addEventListener","is_boolean","on_change_body_length","on_change_type","operator_to_piece","select_after_typing","is_empty_object_property","make_a_new_line","get_value_by_key","add_new_property_to_obj","set_focus","position","calc_type","v","is_block","VSlider","Piece","config","productionTip","mdi","mdiMenuRight","mdiUndo","mdiRedo","mdiContentCopy","mdiContentCut","mdiDelete","mdiMessageProcessing","mdiCancel","mdiVectorSelection","mdiSemanticWeb","mdiFolderOpen","mdiAppsBox","icon_name","vuetify","render","h","App","$mount","run_code","code","adapt","to_normal_js","downloadFiles","file_name","file_type","chosen","cur_tab","focused","hover_P","glow_side_P","blue_hover","show_keyword_menu","isObject","Array","isArray","tree_walk","before","after","e","separate_child","deal_with_focused","parent_is_array","Remember","indexOf","register_child","_keyAsChild","register_child_in_arr","main_parent","arr","please_replace","replace_node","N","fix","set_all_relationships","activeElement","blur","clone","no_relationships","C","remove_piece","console","warn","must_be_a_line","find_ancestor","check","menu","showMenu"],"mappings":"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EAAIjB,EAAIN,EAAE/B,SAAS,IAChkB,EAAkB,GCctB,IAEA,OACA,UAEA,0BAGA,SACA,cADA,WAEA,4CACA,oCACA,uDC3B4V,MCOxV,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,M,QCugBf,SAAS+M,GAAWC,GACpB,gCACA,SAGA,QACA,gDACA,mDACA,uBACA,eACA,gBACA,oBACA,kCACA,iCACA,sBACA,mBACA,mBACA,wCACA,sCACA,8BACA,+BAGA,uHACA,oEAEA,SAASC,GAAgBnR,GACzB,kBACA,IAFA,EAEA,KAFA,iBAGA,IAHA,IAGA,0CACA,0FAJA,0BAAAoR,IAOA,wCACA,OADA,IACA,0CACA,oEAFA,+BAMA,SAGA,SAASC,GAAapL,GACtB,SAEA,eACA,mEAEA,SAGA,SAASqL,GAAgBrL,GACzB,yDAEA,sDAEA,OADA,uBACA,KAEA,gBACA,8BAEA,OADA,oBACA,GAIA,SAASsL,GAAkBtO,GAC3B,0BAEA,eACA,uBAEA,uBAEA,4DACA,8DACA,sCAEA,yBACA,yDACA,oDACA,2BAEA,2BACA,4DAYA,SAASuO,GAAoBvL,GAC7B,SACA,eACA,uDAEA,SAGA,QACA,2BACA,8BACA,sBACA,eACA,2BACA,0BACA,6BAGA,SAASwL,GAAgBxL,GACzB,mBAGA,SAASyL,GAAYzL,GACrB,eACA,cACA,4CACA,+FAGA,YAGA,SAAS0L,GAAKC,EAAGC,EAAGC,GACpB,uBACA,OAEA,uCAEA,YAEA,sBACA,wDACA,uBACA,kBACA,yBAEA,iDACA,oCAEA,uFACA,gDAGA,6EACA,cAEA,kBAEA,iBACA,uCAEA,mDACA,IADA,EACA,SADA,iBAGA,GAHA,IAGA,0CACA,0BACA,IACA,QANA,8BAUA,aAEA,kBACA,oBACA,wBAGA,mGAQA,CAEA,GADA,iBACA,aACA,SAVA,2BAEA,kDACA,kBAEA,6CAQA,MAQA,OALA,oBACA,YAGA,kBACA,GAKA,SAASC,GAAYC,EAAGC,GACxB,QACA,kBACA,iBACA,iBAEA,SAGA,SAASC,GAAUjM,GACnB,+EAGA,SAASkM,GAAWC,EAAQ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A,sBACA,QAIA,cACA,0BACA,wBACA,QACA,gDAEA,kDACA,UACA,kCAGA,cACA,cAEA,8CACA,kCACA,uDACA,sBACA,6BACA,GAEA,uDACA,wBACA,aACA,wCACA,mBACA,QAEA,kCACA,6DACA,mCACA,KAEA,uDACA,4BACA,aACA,UACA,UACA,QAEA,0CACA,KADA,gIAEA,gBAFA,IAEA,0CACA,kHAHA,+BAMA,iEAhJA,mDACA,2DACA,MADA,SACA,GACA,aAMA,UAJA,eACA,aACA,MAEA,4BACA,wCACA,6EAEA,oDACA,oBACA,eACA,6BAEA,SACA,WACA,OACA,cACA,8BAGA,yBACA,qFACA,8HAEA,0CAIA,qKACA,cADA,IACA,0CACA,kEAFA,mCAKA,sEACA,mEAEA,gDACA,wCAZA,cACA,4CAgBA,UACA,+BAGA,mBACA,qBAGA,2BA6FA,2DAEA,uDACA,kDAGA,SAAS8M,aAAa9M,GACtB,mDAEA,yDAEA,mEACA,WACA,yBACA,yCAIA,mCAGA,uCACA,uDAEA,oCACA,6FACA,uDACA,kBACA,wBAKA,WACA,mCAEA,cACA,kNAIA,cAEA,4BACA,QACA,qCACA,iBAEA,mEAEA,kGACA,4BAEA,gEACA,oGACA,cAEA,sBACA,iFACA,gBAEA,yBACA,uDACA,sBACA,QACA,wBACA,0CACA,yCAEA,yBACA,GAEA,yBACA,uDACA,sBACA,QACA,wBACA,uCACA,0CAEA,yBACA,GAEA,0BACA,4DACA,2BACA,WACA,eACA,0BACA,mEAGA,GAIA,cACA,+DACA,aAEA,qCACA,8CAEA,+EACA,0BAYA,0BACA,mBACA,aACA,iBACA,6BAKA,IAJA,kBACA,IACA,IAEA,mBACA,iEACA,cACA,IAGA,wBAEA,4DAEA,2DACA,IAUA,EAVA,IACA,YACA,iBAIA,QAKA,gDACA,cAEA,mEACA,8DACA,eAEA,6DACA,6DAIA,iEAGA,+BACA,QACA,2BACA,WACA,eACA,0BACA,SACA,gBAIA,UACA,4BACA,cACA,WACA,+CAGA,QACA,wBACA,0DACA,WACA,qBAGA,eACA,cACA,MAEA,2BAEA,6CACA,yBACA,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","file":"js/app.7ee35a22.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/visualcode/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue'\r\n\r\nlet history, action_bundle, shift_to_past, T, timeout;\r\n\r\nlet undo_after_finishing;\r\n\r\nfunction record(R) {\r\n\tif (!active) return;\r\n\r\n\tif (shift_to_past > 0) {\r\n\t\thistory.splice(history.length - shift_to_past, shift_to_past);\r\n\t\tshift_to_past = 0;\r\n\t}\r\n\r\n\tif (action_bundle.length == 0) {\r\n\t\ttimeout = setTimeout(action_end, 100);\r\n\t}\r\n\r\n\taction_bundle.push(R);\r\n}\r\n\r\nfunction finish_action() {\r\n\tclearTimeout(timeout);\r\n\tif (action_bundle.length > 0) action_end();\r\n}\r\n\r\nfunction set(object, key, new_value, old_value) {\r\n\tif (old_value === undefined) old_value = object[key];\r\n\tif (old_value == new_value) return;\r\n\t\r\n\trecord({\r\n\t\taction: 'set',\r\n\t\tobject, key, new_value, old_value\r\n\t});\r\n\r\n\tVue.set(object, key, new_value);\r\n}\r\n\r\nfunction remove(array, index) {\r\n\trecord({\r\n\t\taction: 'remove',\r\n\t\tarray, index,\r\n\t\told_value: array[index],\r\n\t});\r\n\tarray.splice(index, 1);\r\n}\r\n\r\nfunction add(array, index, new_value) {\r\n\trecord({\r\n\t\taction: 'add',\r\n\t\tarray, index, new_value\r\n\t});\r\n\tarray.splice(index, 0, new_value);\r\n}\r\n\r\nfunction action_end() {\r\n\t//console.log(action_bundle);\r\n\thistory.push(action_bundle);\r\n\taction_bundle = [];\r\n\tif (undo_after_finishing) {\r\n\t\tundo_after_finishing = false;\r\n\t\tundo();\r\n\t}\r\n}\r\n\r\nfunction reverse_action(R) {\r\n\tif (R.action == 'remove') {\r\n\t\tR.array.splice(R.index, 0, R.old_value);\r\n\t}\r\n\telse if (R.action == 'add') {\r\n\t\tR.array.splice(R.index, 1);\r\n\t}\r\n\telse if (R.action == 'set') {\r\n\t\tVue.set(R.object, R.key, R.old_value);\r\n\t}\r\n}\r\n\r\nfunction play_action(R) {\r\n\tif (R.action == 'remove') {\r\n\t\tR.array.splice(R.index, 1);\r\n\t}\r\n\telse if (R.action == 'add') {\r\n\t\tR.array.splice(R.index, 0, R.new_value);\r\n\t}\r\n\telse if (R.action == 'set') {\r\n\t\tVue.set(R.object, R.key, R.new_value);\r\n\t}\r\n}\r\n\r\nfunction is_in_the_middle_of_action() {\r\n\treturn action_bundle.length > 0;\r\n}\r\n\r\nfunction undo() {\r\n\tif (is_in_the_middle_of_action() ) {\r\n\t\tundo_after_finishing = true;\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet bundle = history[history.length - 1 - shift_to_past];\r\n\t//console.log(bundle);\r\n\tif (!bundle) return;\r\n\r\n\tfor (let i = bundle.length-1; i >=0; i--) {\r\n\t\treverse_action(bundle[i]);\r\n\t}\r\n\r\n\tshift_to_past++;\r\n}\r\n\r\nfunction redo() {\r\n\tif (is_in_the_middle_of_action() ) return;\r\n\r\n\tlet bundle = history[history.length - shift_to_past];\r\n\r\n\tif (!bundle) return;\r\n\r\n\tfor (let R of bundle) {\r\n\t\tplay_action(R);\r\n\t}\r\n\r\n\tshift_to_past--;\r\n}\r\n\r\n\r\nfunction clear_history() {\r\n\thistory = [];\r\n\taction_bundle = [];\r\n\tshift_to_past = 0;\r\n}\r\n\r\nclear_history();\r\n\r\nlet active = true;\r\n\r\nfunction on() {\r\n\tactive = true;\r\n}\r\n\r\nfunction off() {\r\n\tactive = false;\r\n}\r\n\r\n\r\nexport default {set, add, remove, action_end, undo, redo, clear_history, on, off, finish_action};","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=style&index=0&lang=css&\"","let Empty = {type: 'Empty'};\r\nlet body = {type: 'BlockStatement', body: [] };\r\nlet Identifier = (name) => ({type: 'Identifier', value: name || '' });\r\nlet StringLiteral = (value) => ({type: 'StringLiteral', value: value || '' });\r\n\r\nlet ConditionStatement = {\r\n\ttype: 'ConditionStatement',\r\n\ttest: Empty,\r\n\tconsequent: body,\r\n};\r\nlet BinaryExpression = (operator) => ({type: 'BinaryExpression', operator, left: Empty, right: Empty});\r\nlet MathFunction = (name) => ({\r\n\ttype: 'CallExpression',\r\n\tcallee: {type: 'MemberExpression', object: Identifier('Math'), property: StringLiteral(name) },\r\n\targuments: [Empty],\r\n});\r\nlet FunctionExpression = {type: 'FunctionExpression', params: [], body};\r\n\r\n\r\nfunction dot(name) {\r\n\treturn {\r\n\t\ttype: 'CallExpression',\r\n\t\tcallee: {type: 'MemberExpression', computed:true, object: Empty, property: StringLiteral(name) },\r\n\t\targuments: [Empty],\r\n\t};\r\n}\r\n\r\nlet samples = {\r\n\t'Empty': {type: 'Empty'},\r\n\t'String': StringLiteral(),\r\n\t'Array': {type: 'ArrayExpression', elements: [] },\r\n\t'Object': {type: 'ObjectExpression', properties: [] },\r\n\t'Set': { type: 'AssignmentExpression', operator: '=', left: Empty, right: Empty},\r\n\t'Print': {type: 'PrintStatement', argument: Empty },\r\n\t'CallExpression': {type: 'CallExpression', callee: Empty, arguments: [] },\r\n\t'MemberExpression': {type: 'MemberExpression', computed:true, object: Empty, property: Empty },\r\n\t'DotExpression': {type: 'MemberExpression', computed:true, object: Empty, property: StringLiteral() },\r\n\t'ObjectProperty': {\r\n\t\ttype: 'ObjectProperty',\r\n\t\tkey: StringLiteral(),\r\n\t\tvalue: Empty,\r\n\t},\r\n\t'Itself': {type: 'ItselfLiteral'},\r\n\t'Null': {type: 'NullLiteral'},\r\n\t'GlobalVariable': {type: 'GlobalVariableStatement', var: Identifier() },\r\n\t'Comment': {type: 'Comment', value: ''},\r\n\t'Separator': {type: 'Separator', height: 40},\r\n\t'If': {type: 'IfStatement', conditions: [ConditionStatement] },\r\n\tConditionStatement,\r\n\t'Else': { type: 'ElseStatement', body },\r\n\t'ForRangeStatement': {type: 'ForRangeStatement', var: Identifier(), first: Empty, last: Empty, step: null, body},\r\n\t'ForOfStatement': {type: 'ForOfStatement', left: Identifier(), right: Empty, body},\r\n\t'While': {type: 'WhileStatement', test: Empty, body},\r\n\t'Function': FunctionExpression,\r\n\t'AsyncFunction': {type: 'FunctionExpression', \"async\": true, params: [], body},\r\n\t'Return': {type: 'ReturnStatement', argument: Empty },\r\n\t'Break': {type: 'BreakStatement'},\r\n\t'Continue': {type: 'ContinueStatement'},\r\n\t'Await': {type: 'AwaitExpression', argument: Empty},\r\n\t'Async': {type: 'Async'},\r\n\t'New': {type: 'NewExpression', callee: Empty, arguments: [] },\r\n\t'Includes': dot('includes'),\r\n\t'Push': dot('push'),\r\n\t'Slice': dot('slice'),\r\n\t'Map': dot('map'),\r\n\t'Filter': dot('filter'),\r\n\t'IndexOf': dot('indexOf'),\r\n\t'Length': {type: 'MemberExpression', computed:true, object: Empty, property: StringLiteral(\"length\") },\r\n\r\n\t'Sqrt': {type: 'RootExpression', argument: Empty },\r\n\t'Mod': {type: 'BinaryExpression', operator: '%', left: Empty, right: Empty},\r\n\t'Increment': {\r\n\t\ttype: 'AssignmentExpression',\r\n\t\toperator: '=',\r\n\t\tleft: Empty,\r\n\t\tright: {\r\n\t\t\ttype: 'BinaryExpression',\r\n\t\t\toperator: '+',\r\n\t\t\tleft: {type: 'ItselfLiteral'},\r\n\t\t\tright: Empty,\r\n\t\t}\r\n\t},\r\n\t'IncrementBy1': {\r\n\t\ttype: 'AssignmentExpression',\r\n\t\toperator: '=',\r\n\t\tleft: Empty,\r\n\t\tright: {\r\n\t\t\ttype: 'BinaryExpression',\r\n\t\t\toperator: '+',\r\n\t\t\tleft: {type: 'ItselfLiteral'},\r\n\t\t\tright: {type:'NumericLiteral', value: 1},\r\n\t\t}\r\n\t},\r\n\t'Random': {\r\n\t\ttype: 'CallExpression',\r\n\t\tcallee: {type: 'MemberExpression', object: Identifier('Math'), property: StringLiteral(\"random\") },\r\n\t\targuments: [],\r\n\t},\r\n\t'PI': {\r\n\t\ttype: 'MemberExpression',\r\n\t\tobject: Identifier('Math'),\r\n\t\tproperty: StringLiteral(\"PI\"),\r\n\t},\r\n\t'Floor': MathFunction('floor'),\r\n\t'AbsoluteValue': MathFunction('abs'),\r\n\t'Sin': MathFunction('sin'),\r\n\t'Cos': MathFunction('cos'),\r\n\t'And': {type: 'LogicalExpression', operator: '&&', left: Empty, right: Empty },\r\n\t'Or': {type: 'LogicalExpression', operator: '||', left: Empty, right: Empty },\r\n\t'Not': {type: 'UnaryExpression', operator: '!', argument: Empty },\r\n\t'True': {type: 'BooleanLiteral', value: true},\r\n\t'False': {type: 'BooleanLiteral', value: false},\r\n\t'=':  BinaryExpression('=='),\r\n\t'!=': BinaryExpression('!='),\r\n\t'>':  BinaryExpression('>'),\r\n\t'>=': BinaryExpression('>='),\r\n\t'<':  BinaryExpression('<'),\r\n\t'<=': BinaryExpression('<='),\r\n\t'+': BinaryExpression('+'),\r\n\t'-': BinaryExpression('-'),\r\n\t'*': BinaryExpression('*'),\r\n\t'/': BinaryExpression('/'),\r\n\t'^': BinaryExpression('**'),\r\n\t'Typeof': {type: 'UnaryExpression', operator: 'typeof', argument: Empty },\r\n\t'Delete': {type: 'UnaryExpression', operator: 'delete', argument: Empty },\r\n\t'This': {type: 'ThisExpression'},\r\n\t'setTimeout': {\r\n\t\ttype: 'CallExpression',\r\n\t\tcallee: Identifier('setTimeout'),\r\n\t\targuments: [ FunctionExpression, {type: 'NumericLiteral', value: 1000} ]\r\n\t},\r\n\t'setInterval': {\r\n\t\ttype: 'CallExpression',\r\n\t\tcallee: Identifier('setInterval'),\r\n\t\targuments: [ FunctionExpression, {type: 'NumericLiteral', value: 1000} ]\r\n\t},\r\n\t'Try' : {\r\n\t\ttype: 'TryStatement',\r\n\t\tblock: body,\r\n\t\thandler: {param: Identifier('err'), body },\r\n\t},\r\n\t'...': { type: 'SpreadElement', argument: Empty },\r\n};\r\n\r\nfor (let P of Object.values(samples))  {\r\n\t P.is_sample = true;\r\n\t P.focus = {child: 'start'};\r\n}\r\n\r\nlet panel_samples = [\r\n\t['Empty', 'String', 'Array', 'Object', 'Set', 'Print', '=', 'CallExpression', 'MemberExpression', 'Itself', 'Null', 'GlobalVariable', 'Comment', 'Separator'],\r\n\t['If', 'ForRangeStatement', 'ForOfStatement', 'While', 'Break', 'Continue', 'Try'],\r\n\t['Array', 'Length', 'Includes', 'Push', 'Slice', 'Map', 'Filter', 'IndexOf' ],\r\n\t['Function', 'Return', 'New', 'Await', 'Async', 'setTimeout', 'setInterval'],\r\n\t['+', '-', '*', '/', '=', '^', 'Sqrt', 'Mod', 'IncrementBy1', 'Random', 'Floor', 'AbsoluteValue', 'PI', 'Sin', 'Cos'],\r\n\t['And', 'Or', 'Not', 'True', 'False', '=', '!=', '>', '>=', '<', '<=']\r\n];\r\n\r\nfor (let i=0; i < panel_samples.length; i++) {\r\n\tpanel_samples[i] = panel_samples[i].map(s => samples[s] );\r\n}\r\n\r\nsamples.panel_samples = panel_samples;\r\n\r\nexport default samples\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"theme-main\"},[_c('v-main',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app class=\"theme-main\">\n    <v-main>\n      <router-view/>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  components: {\n  },\n\n  data: () => ({\n    //\n  }),\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3cbc54af&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{all: true, dragging: _vm.common.paste_mode != null}},[_c('v-app-bar',{attrs:{\"app\":\"\",\"fixed\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[(!_vm.persistent_panel)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.common.panel_drawer=true}}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.$mdi.AppsBox)+\" \")])],1):_vm._e(),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":_vm.undo}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.$mdi.Undo)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":_vm.redo}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.$mdi.Redo)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":function($event){return _vm.set_mode('copy')}}},[_c('v-icon',{attrs:{\"color\":_vm.$data.$g.selected_pieces.length && _vm.common.paste_mode == 'copy' ? 'green':'white'}},[_vm._v(\" \"+_vm._s(_vm.$mdi.ContentCopy)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":function($event){return _vm.set_mode('cut')}}},[_c('v-icon',{attrs:{\"color\":_vm.$data.$g.selected_pieces.length && _vm.common.paste_mode == 'cut' ? 'green':'white'}},[_vm._v(\" \"+_vm._s(_vm.$mdi.ContentCut)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":_vm.remove}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.$mdi.Delete)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":_vm.select_many}},[_c('v-icon',{attrs:{\"color\":_vm.common.select_many ? 'green':'white'}},[_vm._v(\" \"+_vm._s(_vm.$mdi.VectorSelection)+\" \")])],1),_c('v-btn',{attrs:{\"small\":_vm.$vuetify.breakpoint.mobile,\"icon\":\"\"},on:{\"mousedown\":function($event){return _vm.common.toggle_disabled()}}},[_c('v-icon',[_vm._v(\" \"+_vm._s(_vm.$mdi.Cancel)+\" \")])],1),(_vm.$vuetify.breakpoint.smAndUp)?_c('v-btn',{attrs:{\"color\":\"green\"},on:{\"mousedown\":_vm.run}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$mdi.MenuRight)+\" \")]),_vm._v(\" Run \")],1):_vm._e()],1),_c('div',{staticClass:\"d-flex\"},[(_vm.persistent_panel)?_c('Panel'):_vm._e(),_c('div',{staticClass:\"program\"},[_c('div',{staticClass:\"code pa-4\"},[_c('Piece',{attrs:{\"P\":_vm.ast.program}})],1),_c('v-btn',{on:{\"mousedown\":_vm.run}},[_vm._v(\" Run \")]),_c('v-btn',{on:{\"mousedown\":_vm.save}},[_vm._v(\" Save \")]),_c('v-btn',{on:{\"mousedown\":function($event){_vm.js_code_dialog=true; _vm.generate();}}},[_vm._v(\" Javascript \")]),_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":_vm.handle_file_input}}),_c('div',{ref:\"console\",staticClass:\"console\"},_vm._l((_vm.console),function(line){return _c('div',{class:line.type},[(line.ast)?_c('Piece',{attrs:{\"P\":line.ast.program}}):_c('div',[_vm._v(\" \"+_vm._s(line.content)+\" \")])],1)}),0)],1)],1),_c('v-menu',{attrs:{\"absolute\":\"\",\"position-y\":_vm.$menu.menu_position.y,\"position-x\":_vm.$menu.menu_position.x},on:{\"blur\":function($event){_vm.$menu.under_menu=null},\"contextmenu\":function($event){$event.preventDefault();}},model:{value:(_vm.$menu.showMenu),callback:function ($$v) {_vm.$set(_vm.$menu, \"showMenu\", $$v)},expression:\"$menu.showMenu\"}},[_c('v-card',_vm._l((_vm.menu_items),function(item){return _c('div',{staticClass:\"menu_option\",on:{\"contextmenu\":function($event){$event.preventDefault();},\"mousedown\":function($event){return _vm.$handle_menu_click(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)],1),(_vm.common.el_with_keyword_menu && _vm.common.el_with_keyword_menu.keyword_options && _vm.common.el_with_keyword_menu.keyword_options.length)?_c('v-menu',{attrs:{\"value\":true,\"allow-overflow\":\"\",\"activator\":_vm.common.el_with_keyword_menu.$el,\"nudge-bottom\":\"25\"},on:{\"contextmenu\":function($event){$event.preventDefault();}},model:{value:(_vm.common.show_keyword_menu),callback:function ($$v) {_vm.$set(_vm.common, \"show_keyword_menu\", $$v)},expression:\"common.show_keyword_menu\"}},[_c('v-list',{staticClass:\"keyword_menu\"},_vm._l((_vm.common.el_with_keyword_menu.keyword_options),function(o,index){return _c('v-list-item',{key:index,attrs:{\"active\":\"menu_option_active\"},on:{\"click\":function($event){return _vm.choose(o)}}},[_vm._v(\" \"+_vm._s(o.keyword)+\" \")])}),1)],1):_vm._e(),_c('v-dialog',{attrs:{\"width\":\"500\"},model:{value:(_vm.js_code_dialog),callback:function ($$v) {_vm.js_code_dialog=$$v},expression:\"js_code_dialog\"}},[_c('v-card',[_c('div',{staticClass:\"dont_ignore_spaces code pa-2\"},[_vm._v(\" \"+_vm._s(_vm.js_code)+\" \")])])],1),_c('v-navigation-drawer',{attrs:{\"absolute\":\"\",\"dark\":\"\",\"temporary\":\"\"},model:{value:(_vm.common.panel_drawer),callback:function ($$v) {_vm.$set(_vm.common, \"panel_drawer\", $$v)},expression:\"common.panel_drawer\"}},[_c('Panel')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IDE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IDE.vue?vue&type=template&id=5f650db2&\"\nimport script from \"./IDE.vue?vue&type=script&lang=js&\"\nexport * from \"./IDE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IDE.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VAppBar,VBtn,VCard,VDialog,VIcon,VList,VListItem,VMenu,VNavigationDrawer})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport IDE from '@/views/IDE.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {path: '/',name: 'IDE',component: IDE},\n]\n\nconst router = new VueRouter({\n  mode: 'hash',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","<template>\r\n\t<div\r\n\t\ttag=\"div\" \r\n\t\tspellcheck=\"false\"\r\n\t\tlang=\"klingon\"\r\n\t\t:contenteditable=\"true\"\r\n\t\t:placeholder=\"placeholder\"\r\n\t\t@focus=\"redirect\"\r\n\t\t@blur=\"redirect\"\r\n\t\t@keydown=\"handle_keydown\"\r\n\t\t@keyup=\"handle_keyup\"\r\n\t\t@input=\"handle_type\"\r\n\t\tref=\"CE\"\r\n\t/>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\n\r\nlet before_backspace;\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tP: Object,\r\n\t\tplaceholder: String,\r\n\t},\r\n\tdata: () => ({\r\n\t\tedited_from_contenteditable: false\r\n\t}),\r\n\twatch: {\r\n\t\t'P.value': function() {\r\n\t\t\tthis.on_change_value();\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tredirect(event) {\r\n\t\t\tthis.$emit(event.type, event);\r\n\t\t},\r\n\t\thandle_type(event) {\r\n\t\t\tif (this.$refs.CE.innerHTML == '<br>' || this.$refs.CE.innerHTML == '<div><br></div>') \r\n\t\t\t\tthis.$refs.CE.innerHTML = '';\r\n\r\n\t\t\tlet innerHTML = this.$refs.CE.innerHTML.replace(/<div>(.*?)<\\/div>/g, '$1\\n');\r\n\r\n\t\t\tVue.set(this.P, 'value', innerHTML.replace(/<br>/g, '').replace(/\\n$/, '') );\r\n\t\t\tthis.edited_from_contenteditable = true;\r\n\r\n\t\t\t//this.P.value = this.P.value.replace(/\\\\n\\\\n/g, '\\\\n');\r\n\r\n\t\t\tthis.$emit(event.type, event);\r\n\t\t},\r\n\t\thandle_keydown(event) {\r\n\t\t\tvar sel = window.getSelection();\r\n\r\n\t\t\tif (event.key == 'Backspace') {\r\n\t\t\t\tbefore_backspace = this.P.value;\r\n\t\t\t}\r\n\t\t\telse if (event.code == 'ArrowRight' && sel.anchorOffset == this.P.value.length\r\n\t\t\t\t|| event.code == 'ArrowLeft' && sel.anchorOffset == 0) {\r\n\t\t\t\tthis.$emit('arrowexcess');\r\n\t\t\t}\r\n\t\t\telse if (sel.anchorOffset == this.P.value.length-1) setTimeout(() => {\r\n\t\t\t\t this.setCaret(sel.anchorOffset);\r\n\t\t\t}, 50);\r\n\r\n\r\n\t\t\tthis.$emit(event.type, event);\r\n\r\n\t\t},\r\n\t\thandle_keyup(event) {\r\n\t\t\t//console.log(window.getSelection() );\r\n\t\t\t//console.log(this.P.value);\r\n\t\t\tif (event.key == 'Backspace') {\r\n\t\t\t\tif (this.P.value == before_backspace) {\r\n\t\t\t\t\tthis.$emit('backspaceAtBeginning');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ton_change_value() {\r\n\t\t\tif (this.edited_from_contenteditable) {\r\n\t\t\t\tthis.edited_from_contenteditable = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.$refs.CE.innerHTML = this.P.value;\r\n\t\t},\r\n\t\tsetCaret(pos) {\r\n\t\t\tconst node = this.$refs.CE;\r\n\t\t\tnode.focus();\r\n\t\t\tconst textNode = node.firstChild;\r\n\t\t\tconst range = document.createRange();\r\n\t\t\trange.setStart(textNode, pos);\r\n\t\t\trange.setEnd(textNode, pos);\r\n\t\t\tconst sel = window.getSelection();\r\n\t\t\tsel.removeAllRanges();\r\n\t\t\tsel.addRange(range);\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\tthis.$refs.CE.focus();\r\n\r\n\t\t\tif (this.P.focus && this.P.focus.position !== undefined && this.P.value.length > 0) {\r\n\t\t\t\tlet pos;\r\n\t\t\t\tif (this.P.focus.position == 'end') pos = this.P.value.length;\r\n\t\t\t\telse pos = this.P.focus.position;\r\n\r\n\t\t\t\tthis.setCaret(pos);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted: function() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.on_change_value();\r\n\t\t\tif (this.P.focus) this.focus();\r\n\t\t});\r\n\t}\r\n}\r\n</script>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{hover: _vm.mark, brackets: _vm.brackets, disabled: _vm.P.disabled && !_vm.P.selected, piece: true,\r\n\t\tselected: _vm.P.selected,\r\n\t\tglow_right: _vm.glow.right,\r\n\t\tglow_left:  _vm.glow.left\r\n\t},on:{\"mouseover\":_vm.handle_mouseover,\"mouseleave\":_vm.handle_mouseleave,\"contextmenu\":function($event){return _vm.open_menu($event)},\"click\":_vm.handle_click}},[(_vm.show_blue('vertical'))?_c('div',{staticClass:\"blue_line\",on:{\"mouseover\":_vm.handle_blue_mouseover,\"mouseleave\":_vm.handle_blue_mouseleave,\"click\":function($event){return _vm.handle_blue_click('top')}}},[_c('div')]):_vm._e(),(_vm.show_blue('vertical'))?_c('div',{staticClass:\"blue_line blue_line_bottom\",on:{\"mouseover\":_vm.handle_blue_mouseover,\"mouseleave\":_vm.handle_blue_mouseleave,\"click\":function($event){return _vm.handle_blue_click('bottom')}}},[_c('div')]):_vm._e(),(['Empty','Identifier','NumericLiteral','Broken'].includes(_vm.P.type) )?_c('div',[_c('div',{class:_vm.P.type},[(_vm.P._parent)?_c('autosize-input',{ref:\"input_field\",staticClass:\"autosize-input\",attrs:{\"placeholder\":_vm.placeholder || '      '},on:{\"focus\":_vm.handle_input_focus,\"blur\":_vm.handle_input_blur,\"change\":_vm.handle_change,\"keydown\":_vm.handle_keydown},model:{value:(_vm.P.value),callback:function ($$v) {_vm.$set(_vm.P, \"value\", $$v)},expression:\"P.value\"}}):(!_vm.P._parent)?_c('span',[_vm._v(\" \"+_vm._s(_vm.P.value)+\" \")]):_vm._e()],1)]):( ['Program', 'BlockStatement'].includes(_vm.P.type))?_c('div',{class:{block: _vm.P.type == 'BlockStatement', cur_block: _vm.cur_block, block_margin: _vm.P.type == 'BlockStatement' && _vm.P._main_parent && _vm.P._main_parent.type != 'ConditionStatement' }},[(_vm.show_minimize_btn)?_c('div',{staticClass:\"minimize_btn\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.toggle_minimize_block($event)},\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\" \"+_vm._s(_vm.P.minimized ? '+' : '-')+\" \")]):_vm._e(),(_vm.P.body.length == 0)?_c('div',{staticClass:\"Empty slide-item\"}):_vm._e(),(!_vm.P.minimized)?_c('transition-group',{key:\"block\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.P.body.length),function(i){return _c('div',{key:_vm.get_id(_vm.P.body[i-1]),staticClass:\"list-complete-item\"},[_c('div',{staticClass:\"line_with_anchor\"},[(_vm.show_anchor(i))?_c('div',{staticClass:\"line_anchor\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.handle_anchor(i-1, $event)},\"mouseover\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_vm._v(\" → \")]):_vm._e(),(_vm.P.body[i-1])?_c('Piece',{attrs:{\"P\":_vm.P.body[i-1]}}):_vm._e()],1)])}),0):_c('div',{staticClass:\"dotdotdot-item\"},[_vm._v(\" ... \")])],1):(_vm.P.type == 'ExpressionStatement' )?_c('div',[_vm._v(\" ~ \"),_c('Piece',{attrs:{\"P\":_vm.P.expression}})],1):(_vm.P.type == 'CallExpression' || _vm.P.type == 'NewExpression' )?_c('div',{staticClass:\"d-flex align-center\"},[(_vm.P.type == 'NewExpression' )?_c('div',[_vm._v(\" new \")]):_vm._e(),_c('Piece',{attrs:{\"P\":_vm.P.callee}}),_c('span',{staticClass:\"exclamation_mark\"},[_vm._v(\" ! \")]),(!_vm.P.is_sample && _vm.hover && _vm.P.arguments.length == 0)?_c('button',{staticClass:\"btn_add_property\",on:{\"click\":function($event){$event.stopPropagation();return _vm.add_new_argument($event)}}},[_vm._v(\" + \")]):_vm._e(),(!_vm.P.is_sample)?_c('div',[_c('transition-group',{attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.P.arguments.length+1),function(i){return _c('div',{key:_vm.get_id(_vm.P.arguments[i-1]),staticClass:\"d-flex align-stretch list-complete-item\"},[_c('div',{staticClass:\"d-flex align-center\"},[( _vm.P.arguments.length > 1 && _vm.P.arguments[i-1])?_c('div',{class:{empty_line: true, 'align-end': i == 1}},[_c('div',{class:i == 1 || i == _vm.P.arguments.length ? 'half_height' : 'full_height'})]):_vm._e(),(_vm.P.arguments.length > 1)?_c('div',{class:{'hor_con ml-0':true, squeeze: !_vm.P.arguments[i-1] }}):_vm._e(),_c('div',{staticClass:\"d-flex line_with_anchor\"},[(_vm.show_anchor(i))?_c('div',{staticClass:\"line_anchor\",on:{\"mouseover\":function($event){$event.stopPropagation();$event.preventDefault();},\"mousedown\":function($event){$event.stopPropagation();return _vm.handle_anchor(i-1, $event)}}},[_vm._v(\" → \")]):_vm._e(),(_vm.P.arguments[i-1])?_c('Piece',{attrs:{\"need_brackets\":_vm.P.arguments.length == 1,\"P\":_vm.P.arguments[i-1]}}):_vm._e()],1)])])}),0)],1):_vm._e()],1):(_vm.P.type == 'UnaryExpression' )?_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"pl-1\"},[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.operator))+\" \")]),_c('Piece',{attrs:{\"vertical_view\":_vm.vertical_view,\"need_brackets\":_vm.maybe_brackets_for_term(_vm.P, 'argument'),\"P\":_vm.P.argument}})],1):(_vm.P.type == 'MemberExpression')?_c('div',{staticClass:\"d-flex align-center\"},[_c('Piece',{attrs:{\"need_brackets\":!_vm.is_primitive(_vm.P.object) && _vm.P.object.type != 'MemberExpression',\"P\":_vm.P.object}}),_c('v-icon',{staticClass:\"member_arrow\",attrs:{\"color\":\"white\"}},[_vm._v(\" \"+_vm._s(_vm.$mdi.MenuRight)+\" \")]),_c('Piece',{attrs:{\"need_brackets\":!_vm.is_primitive(_vm.P.property),\"P\":_vm.P.property}})],1):(_vm.P.type == 'ObjectExpression' && _vm.gotta_show_full)?_c('div',{staticClass:\"Unit align-center\"},[_c('div',{staticClass:\"ObjectExpressionCap d-flex px-2 justify-center\"},[_vm._v(\" \"+_vm._s(_vm.P.properties.length > 0 || _vm.P.is_sample ? 'Object' : 'Empty object')+\" \"),(!_vm.P.is_sample && _vm.hover)?_c('button',{staticClass:\"btn_add_property ml-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.add_new_property($event)}}},[_vm._v(\" + \")]):_vm._e()]),_c('transition-group',{attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.P.properties),function(k){return _c('div',{key:_vm.get_id(k),staticClass:\"d-flex flex-column list-complete-item\"},[_c('Piece',{attrs:{\"P\":k}})],1)}),0)],1):(_vm.P.type == 'ObjectProperty' )?_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"nowrap\"},[_c('Piece',{attrs:{\"P\":_vm.P.key}}),_vm._v(\" : \")],1),_c('Piece',{attrs:{\"P\":_vm.P.value}})],1):(_vm.P.type == 'ArrayExpression' && _vm.gotta_show_full)?_c('div',{staticClass:\"Unit\"},[_c('div',{staticClass:\"ArrayExpressionCap d-flex px-2 justify-center\"},[_vm._v(\" \"+_vm._s(_vm.P.elements.length > 0 || _vm.P.is_sample ? _vm.piece_name : 'Empty ' + _vm.piece_name)+\" \"),(!_vm.P.is_sample && _vm.hover)?_c('button',{staticClass:\"btn_add_property ml-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.add_new_element($event)}}},[_vm._v(\" + \")]):_vm._e()]),(_vm.P.elements.length > 0)?_c('div',[_c('transition-group',{attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.P.elements.length+1),function(i){return _c('div',{key:_vm.get_id(_vm.P.elements[i-1]),staticClass:\"d-flex list-complete-item\"},[_c('div',{class:{'pt-1': true, squeeze: !_vm.P.elements[i-1]}},[_c('span',{staticClass:\"pl-2 nowrap\"},[_vm._v(_vm._s(_vm.smart_index(i-1))+\" : \")])]),_c('div',{staticClass:\"line_with_anchor\"},[(_vm.show_anchor(i))?_c('div',{staticClass:\"line_anchor\",on:{\"mouseover\":function($event){$event.stopPropagation();$event.preventDefault();},\"mousedown\":function($event){$event.stopPropagation();return _vm.handle_anchor(i-1, $event)}}},[_vm._v(\" → \")]):_vm._e(),(_vm.P.elements[i-1])?_c('Piece',{attrs:{\"P\":_vm.P.elements[i-1]}}):_vm._e()],1)])}),0)],1):_vm._e()]):((_vm.P.type == 'ObjectExpression' || _vm.P.type == 'ArrayExpression') && _vm.is_child_in_json)?_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{staticClass:\"path_bit\",attrs:{\"small\":\"\",\"color\":\"white\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.folder_click($event)},\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\" \"+_vm._s(_vm.$mdi.FolderOpen)+\" \")]),_c('div',{staticClass:\"Unit align-center\"},[_c('div',{class:_vm.P.type + 'Cap d-flex px-2 justify-center align-center'},[_vm._v(\" \"+_vm._s(_vm.piece_name + '...')+\" \")])])],1):(_vm.P.type == 'ObjectExpression' || _vm.P.type == 'ArrayExpression' )?_c('div',{staticClass:\"Unit align-center\"},[(_vm.P.type == 'ObjectExpression' )?_c('div',{staticClass:\"ObjectExpressionCap d-flex px-2 justify-center\"},[_vm._v(\" \"+_vm._s(_vm.P.properties.length > 0 || _vm.P.is_sample ? 'Object' : 'Empty object')+\" \")]):_c('div',{staticClass:\"ArrayExpressionCap d-flex px-2 justify-center\"},[_vm._v(\" \"+_vm._s(_vm.P.elements.length > 0 || _vm.P.is_sample ? 'List' : 'Empty List')+\" \")]),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{staticClass:\"path_bit\",attrs:{\"color\":\"white\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.cut_path(0, $event)},\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\" \"+_vm._s(_vm.$mdi.SemanticWeb)+\" \")]),_vm._l((_vm.json_path),function(k,index){return _c('div',{staticClass:\"d-flex align-center path_bit\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.cut_path(index+1, $event)},\"click\":function($event){$event.stopPropagation();}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\" \"+_vm._s(_vm.$mdi.MenuRight)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(k)+\" \")])],1)})],2),(_vm.P)?_c('Piece',{attrs:{\"P\":_vm.cur_folder,\"show_full\":\"\"}}):_vm._e()],1):(_vm.P.type == 'AssignmentExpression' && _vm.P.operator == '=' && _vm.P.right.type == 'FunctionExpression' )?_c('div',[_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Set \"),(!_vm.P.is_sample)?_c('Piece',{attrs:{\"P\":_vm.P.left}}):_c('div',{staticClass:\"Identifier\"},[_vm._v(\" go \")]),_c('span',{staticClass:\"mr-1\"},[_vm._v(\" ← \"),(_vm.P.right.async)?_c('span',[_vm._v(\" Async \")]):_vm._e(),_vm._v(\" Function \")]),(!_vm.P.is_sample)?_c('div',{staticClass:\"d-flex align-center\"},[(_vm.P.right.params.length)?_c('span',[_vm._v(\" with input \")]):_vm._e(),_vm._l((_vm.P.right.params),function(a){return _c('Piece',{attrs:{\"P\":a}})}),_c('button',{staticClass:\"btn_add_property my-2 mx-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.add_new_param($event)}}},[_vm._v(\" + \")])],2):_vm._e()],1),_c('Piece',{attrs:{\"P\":_vm.P.right.body}})],1):(_vm.P.type == 'AssignmentExpression' && _vm.P.operator == '=' )?_c('div',{staticClass:\"d-flex align-center\"},[_c('span',[_vm._v(\"Set\")]),_c('Piece',{attrs:{\"P\":_vm.P.left}}),_vm._v(\" ← \"),_c('Piece',{attrs:{\"P\":_vm.P.right}})],1):(_vm.P.type == 'BinaryExpression' && _vm.P.operator == '/' )?_c('div',{staticClass:\"d-flex flex-column align-center px-1\"},[_c('Piece',{attrs:{\"P\":_vm.P.left}}),_c('div',{staticClass:\"division_line\"}),_c('Piece',{attrs:{\"P\":_vm.P.right}})],1):(_vm.P.type == 'xBinaryExpression' && _vm.P.operator == '**' )?_c('div',{staticClass:\"d-flex align-end\"},[_c('Piece',{attrs:{\"P\":_vm.P.left}}),_c('Piece',{staticStyle:{\"transform-origin\":\"0% -30%\",\"transform\":\"scale(0.7)\"},attrs:{\"P\":_vm.P.right}})],1):(_vm.P.type == 'BinaryExpression' && _vm.P.operator == '%' )?_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"pl-1\"},[_vm._v(\" Remainder of \")]),_c('Piece',{attrs:{\"need_brackets\":!_vm.is_primitive(_vm.P.left),\"P\":_vm.P.left}}),_c('div',{staticClass:\"d-flex justify-center align-center px-2\",staticStyle:{\"height\":\"10px\",\"width\":\"5px\"}},[_vm._v(\" ÷ \")]),_c('Piece',{attrs:{\"need_brackets\":!_vm.is_primitive(_vm.P.right),\"P\":_vm.P.right}})],1):(_vm.P.type == 'BinaryExpression' )?_c('div',{staticClass:\"d-flex align-center\"},[_c('Piece',{attrs:{\"need_brackets\":_vm.maybe_brackets_for_term(_vm.P, 'left'),\"P\":_vm.P.left}}),(_vm.P.is_sample)?_c('span',[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.operator))+\" \")]):_c('div',{staticClass:\"d-flex justify-center align-center px-2\",staticStyle:{\"height\":\"10px\",\"width\":\"5px\"}},[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.operator))+\" \")]),_c('Piece',{attrs:{\"need_brackets\":_vm.maybe_brackets_for_term(_vm.P, 'right'),\"P\":_vm.P.right}})],1):(_vm.P.type == 'RootExpression' )?_c('div',{staticClass:\"RootExpression d-flex\"},[_c('div',{staticStyle:{\"width\":\"15px\"}}),_c('svg',{ref:\"root_svg\",staticStyle:{\"width\":\"15px\",\"position\":\"absolute\",\"height\":\"100%\"}},[_c('line',{staticStyle:{\"stroke\":\"white\",\"stroke-width\":\"2\"},attrs:{\"x1\":\"20%\",\"y1\":\"70%\",\"x2\":\"50%\",\"y2\":\"100%\"}}),_c('line',{staticStyle:{\"stroke\":\"white\",\"stroke-width\":\"2\"},attrs:{\"x1\":\"50%\",\"y1\":\"100%\",\"x2\":\"100%\",\"y2\":\"0\"}})]),_c('div',{staticClass:\"under_root\"},[_c('Piece',{attrs:{\"P\":_vm.P.argument}})],1)]):(_vm.P.type == 'LogicalExpression' )?_c('div',{class:{'d-flex align-center':true, vertical_view: _vm.vertical_view}},[_c('Piece',{attrs:{\"vertical_view\":_vm.get_view(_vm.P.left),\"need_brackets\":_vm.bracket_vertical(_vm.P.left),\"P\":_vm.P.left}}),(_vm.P.is_sample)?_c('span',[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.operator))+\" \")]):_c('div',{staticClass:\"d-flex justify-center align-center px-2\"},[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.operator))+\" \")]),_c('Piece',{attrs:{\"vertical_view\":_vm.get_view(_vm.P.right),\"need_brackets\":_vm.bracket_vertical(_vm.P.right),\"P\":_vm.P.right}})],1):(_vm.P.type == 'GlobalVariableStatement' )?_c('div',[_vm._v(\" Use global \"),(!_vm.P._parent)?_c('Piece',{attrs:{\"P\":{type: 'Identifier', value: 'x'}}}):_c('Piece',{attrs:{\"P\":_vm.P.var}})],1):(_vm.P.type == 'StringLiteral' )?_c('div',{staticClass:\"String align-center d-flex\"},[_c('div',{staticClass:\"quotes\"},[_vm._v(\"«\")]),(!_vm.P._parent)?_c('span',[_vm._v(_vm._s(_vm.P.value || 'Hello'))]):_c('contenteditable',{ref:\"CE\",attrs:{\"P\":_vm.P,\"placeholder\":\"empty string\"},on:{\"keydown\":_vm.handle_keydown_CE,\"focus\":_vm.handle_input_focus,\"blur\":_vm.handle_input_blur,\"input\":function($event){return _vm.unselect_all()},\"backspaceAtBeginning\":_vm.handle_backspace_at_beginning,\"arrowexcess\":_vm.handle_arrow_excess}}),_c('div',{staticClass:\"quotes\"},[_vm._v(\"»\")])],1):(_vm.P.type == 'BooleanLiteral' )?_c('div',{staticClass:\"NumericLiteral\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.edit_operator(_vm.P.value))+\" \")])]):(_vm.P.type == 'NullLiteral' )?_c('div',{staticClass:\"Null\"},[_vm._v(\" no value \")]):(_vm.P.type == 'ItselfLiteral' )?_c('div',{staticClass:\"Null\"},[_vm._v(\" itself \")]):(_vm.P.type == 'IfStatement' )?_c('div',{staticClass:\"block_margin\"},[_vm._l((_vm.P.conditions),function(c,index){return _c('div',[_c('Piece',{attrs:{\"index_as_child\":index,\"P\":c}})],1)}),_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n\tvar on = ref.on;\n\tvar attrs = ref.attrs;\nreturn [(!_vm.P.is_sample)?_c('button',_vm._g(_vm._b({staticClass:\"btn_add_property mb-1\"},'button',attrs,false),on),[_vm._v(\" + \")]):_vm._e()]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.elseif_else_arr),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){return _vm.add_new_condition(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('div',[(_vm.P.alternate)?_c('Piece',{attrs:{\"P\":_vm.P.alternate}}):_vm._e()],1)],2):(_vm.P.type == 'ConditionStatement' )?_c('div',[_c('div',{staticClass:\"d-flex align-center\"},[(_vm.index_as_child != 0)?_c('span',{staticClass:\"pr-1\"},[_vm._v(\" else \")]):_vm._e(),_c('span',[_vm._v(\" if \")]),_c('Piece',{attrs:{\"P\":_vm.P.test}}),_vm._v(\" then \")],1),_c('Piece',{attrs:{\"P\":_vm.P.consequent}})],1):(_vm.P.type == 'ElseStatement' )?_c('div',[_c('div',[_vm._v(\"if none of the above then\")]),_c('Piece',{attrs:{\"P\":_vm.P.body}})],1):(_vm.P.type == 'ForOfStatement' )?_c('div',[(_vm.P.is_sample)?_c('div',[_vm._v(\" Repeat... (array) \")]):_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Repeat for every \"),_c('Piece',{attrs:{\"P\":_vm.P.left}}),_vm._v(\" in \"),_c('Piece',{attrs:{\"P\":_vm.P.right}})],1),_c('div',[_c('Piece',{attrs:{\"P\":_vm.P.body}})],1)]):(_vm.P.type == 'ForRangeStatement' )?_c('div',[(_vm.P.is_sample)?_c('div',[_vm._v(\" Repeat...(index) \")]):_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Repeat for \"),_c('Piece',{attrs:{\"P\":_vm.P.var}}),_vm._v(\" from \"),_c('Piece',{attrs:{\"P\":_vm.P.first}}),_vm._v(\" to \"),_c('Piece',{attrs:{\"P\":_vm.P.last}}),(_vm.P.step)?_c('span',[_vm._v(\" with step \"),_c('Piece',{attrs:{\"P\":_vm.P.step}})],1):_vm._e(),(!_vm.P.step)?_c('button',{staticClass:\"btn_add_property mb-1\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.add_step($event)}}},[_vm._v(\" + \")]):_c('button',{staticClass:\"btn_add_property mb-1\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.remove_step($event)}}},[_vm._v(\" - \")]),_vm._v(\" : \")],1),_c('div',[_c('Piece',{attrs:{\"P\":_vm.P.body}})],1)]):(_vm.P.type == 'WhileStatement' )?_c('div',[_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Repeat while \"),_c('Piece',{attrs:{\"P\":_vm.P.test}})],1),_c('div',[_c('Piece',{attrs:{\"P\":_vm.P.body}})],1)]):(_vm.P.type == 'FunctionExpression' && _vm.P.is_sample)?_c('div',[_c('div',[_vm._v(\"Function\")]),_c('Piece',{attrs:{\"P\":_vm.P.body}})],1):(_vm.P.type == 'Async' )?_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" add/remove async \")]):(_vm.P.type == 'ThisExpression' )?_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\" \"+_vm._s(_vm.$mdi.SemanticWeb)+\" \")])],1):(_vm.P.type == 'FunctionExpression' )?_c('div',[_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"mr-1\"},[(_vm.P.async)?_c('span',[_vm._v(\" Async \")]):_vm._e(),_vm._v(\" Function \")]),(_vm.P.params.length)?_c('span',[_vm._v(\" with input \")]):_vm._e(),_vm._l((_vm.P.params),function(a){return _c('Piece',{attrs:{\"P\":a}})}),(!_vm.P.is_sample)?_c('button',{staticClass:\"btn_add_property my-2 mx-1\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.add_new_param($event)}}},[_vm._v(\" + \")]):_vm._e()],2),_c('Piece',{attrs:{\"P\":_vm.P.body}})],1):(_vm.P.type == 'ObjectMethod' )?_c('div',[_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"mx-1\"},[(_vm.P.async)?_c('span',[_vm._v(\" Async \")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.P.kind)+\" \")]),_c('Piece',{attrs:{\"P\":_vm.P.key}}),(_vm.P.params.length)?_c('span',[_vm._v(\" with input \")]):_vm._e(),_vm._l((_vm.P.params),function(a){return _c('Piece',{attrs:{\"P\":a}})}),(!_vm.P.is_sample && _vm.P.kind != 'get' )?_c('button',{staticClass:\"btn_add_property my-2 mx-1\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.add_new_param($event)}}},[_vm._v(\" + \")]):_vm._e()],2),_c('Piece',{attrs:{\"P\":_vm.P.body}})],1):(_vm.P.type == 'ReturnStatement' && _vm.P.is_sample)?_c('div',[_vm._v(\" Exit function / output \")]):(_vm.P.type == 'ReturnStatement' )?_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Exit and output \"),_c('Piece',{attrs:{\"placeholder\":\"nothing\",\"P\":_vm.P.argument}})],1):(_vm.P.type == 'ContinueStatement' )?_c('div',[_vm._v(\" Next loop iteration \")]):(_vm.P.type == 'BreakStatement' )?_c('div',[_vm._v(\" Exit the loop \")]):(_vm.P.type == 'PrintStatement' )?_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Print \"),_c('Piece',{attrs:{\"P\":_vm.P.argument}})],1):(_vm.P.type == 'Separator' && _vm.P.is_sample )?_c('div',{staticClass:\"py-1\"},[_vm._v(\" Separator \")]):(_vm.P.type == 'Separator' )?_c('div',{staticClass:\"Separator posrel\",style:('height:' + _vm.P.height + 'px')},[(_vm.hover)?_c('v-slider',{attrs:{\"dense\":\"\",\"hide-details\":\"\",\"max\":\"100\",\"min\":\"30\"},on:{\"click\":function($event){$event.stopPropagation();}},model:{value:(_vm.P.height),callback:function ($$v) {_vm.$set(_vm.P, \"height\", $$v)},expression:\"P.height\"}}):_vm._e()],1):(_vm.P.type == 'Comment' )?_c('div',{staticClass:\"Comment d-flex align-center justify-center\"},[_c('v-icon',{staticClass:\"pr-2\",attrs:{\"color\":\"blue\"}},[_vm._v(\" \"+_vm._s(_vm.$mdi.MessageProcessing)+\" \")]),(_vm.P.is_sample)?_c('span',[_vm._v(\" Comment \")]):_c('contenteditable',{ref:\"CE\",attrs:{\"P\":_vm.P,\"placeholder\":\"Write your comment...\"},on:{\"keydown\":_vm.handle_keydown_CE,\"focus\":_vm.handle_input_focus,\"blur\":_vm.handle_input_blur,\"input\":function($event){return _vm.unselect_all()},\"backspaceAtBeginning\":_vm.handle_backspace_at_beginning,\"arrowexcess\":_vm.handle_arrow_excess}})],1):(_vm.P.type == 'AwaitExpression' )?_c('div',{staticClass:\"d-flex align-center justify-center\"},[_vm._v(\" await \"),_c('Piece',{attrs:{\"P\":_vm.P.argument}})],1):(_vm.P.type == 'TryStatement' )?_c('div',{staticClass:\"mb-5\"},[_c('div',[_vm._v(\" Try \")]),_c('Piece',{staticStyle:{\"margin-bottom\":\"-20px\"},attrs:{\"P\":_vm.P.block}}),(!_vm.P.is_sample && _vm.P.handler)?_c('div',[_c('div',[_vm._v(\" If an error ( \"),_c('Piece',{attrs:{\"P\":_vm.P.handler.param}}),_vm._v(\" ) happened, then \")],1),_c('Piece',{staticStyle:{\"margin-bottom\":\"-20px\"},attrs:{\"P\":_vm.P.handler.body}})],1):_vm._e(),(_vm.P.finalizer)?_c('div',[_c('div',[_vm._v(\" Run in any case (no matter if an error happened) \")]),_c('Piece',{staticStyle:{\"margin-bottom\":\"-20px\"},attrs:{\"P\":_vm.P.finalizer}})],1):_vm._e(),(!_vm.P.is_sample && _vm.hover)?_c('button',{staticClass:\"btn_add_property mb-1\",staticStyle:{\"position\":\"absolute\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle_finally($event)}}},[_vm._v(\" \"+_vm._s(_vm.P.finalizer ? '-':'+')+\" \")]):_vm._e()],1):(_vm.P.type == 'SpreadElement' )?_c('div',{class:{'d-flex flex-column': _vm.P._main_parent.type != 'FunctionExpression' }},[_c('Piece',{attrs:{\"P\":{type: 'MemberExpression', object: _vm.P.argument, property: {type:'NumericLiteral', value:0} }}}),_c('Piece',{attrs:{\"P\":{type: 'MemberExpression', object: _vm.P.argument, property: {type:'NumericLiteral', value:1} }}}),_vm._v(\" etc... \")],1):_c('div',[_vm._v(\" ???? what the fuck is \"+_vm._s(_vm.P.type)+\" ???? \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"CE\",attrs:{\"tag\":\"div\",\"spellcheck\":\"false\",\"lang\":\"klingon\",\"contenteditable\":true,\"placeholder\":_vm.placeholder},on:{\"focus\":_vm.redirect,\"blur\":_vm.redirect,\"keydown\":_vm.handle_keydown,\"keyup\":_vm.handle_keyup,\"input\":_vm.handle_type}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contenteditable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./contenteditable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./contenteditable.vue?vue&type=template&id=22607038&\"\nimport script from \"./contenteditable.vue?vue&type=script&lang=js&\"\nexport * from \"./contenteditable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex align-center\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(\" Function \")]),(_vm.P.params.length)?_c('span',[_vm._v(\" with input \")]):_vm._e(),_vm._l((_vm.P.params),function(a){return _c('Piece',{attrs:{\"P\":a}})}),(!_vm.P.is_sample)?_c('button',{staticClass:\"btn_add_property my-2 mx-1\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.add_new_param($event)}}},[_vm._v(\" + \")]):_vm._e()],2),_c('Piece',{attrs:{\"P\":_vm.P.body}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template><div>\r\n\r\n\t<div class=\"d-flex align-center\">\r\n\t\t<span class=\"mr-1\"> Function </span>\r\n\t\t<span v-if=\"P.params.length\"> with input </span>\r\n\t\t<Piece v-for=\"a in P.params\" :P=\"a\"/>\r\n\t\t<button v-if=\"!P.is_sample\" class=\"btn_add_property my-2 mx-1\" @mousedown.stop=\"add_new_param\"> + </button>\r\n\t</div>\r\n\r\n\t<Piece :P=\"P.body\"/>\r\n\r\n</div></template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\t//name: 'FunctionExpression',\r\n\tprops: {\r\n\t\tP: Object\r\n\t},\r\n\tdata: () => ({\r\n\r\n\t}),\r\n\tmethods: {\r\n\t\tadd_new_param() {\r\n\t\t\tlet I = {type: 'Identifier', value: '', focus: true };\r\n\t\t\tlet o = this.P.params ? this.P : this.P.right;\r\n\t\t\tregister_child_in_arr(o, 'params', o.params.length, I);\r\n\t\t},\r\n\t},\r\n}\r\n\r\n\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FunctionExpression.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FunctionExpression.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FunctionExpression.vue?vue&type=template&id=1456dccf&\"\nimport script from \"./FunctionExpression.vue?vue&type=script&lang=js&\"\nexport * from \"./FunctionExpression.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template><div\r\n\t:class=\"{hover: mark, brackets, disabled: P.disabled && !P.selected, piece: true,\r\n\t\tselected: P.selected,\r\n\t\tglow_right: glow.right,\r\n\t\tglow_left:  glow.left\r\n\t}\"\r\n\t@mouseover=\"handle_mouseover\"\r\n\t@mouseleave=\"handle_mouseleave\"\r\n\t@click.right=\"open_menu\"\r\n\t@click=\"handle_click\"\r\n>\r\n\r\n<div v-if=\"show_blue('vertical')\" class=\"blue_line\" @mouseover=\"handle_blue_mouseover\" @mouseleave=\"handle_blue_mouseleave\" @click=\"handle_blue_click('top')\"><div></div></div>\r\n<div v-if=\"show_blue('vertical')\" class=\"blue_line blue_line_bottom\" @mouseover=\"handle_blue_mouseover\" @mouseleave=\"handle_blue_mouseleave\" @click=\"handle_blue_click('bottom')\"><div></div></div>\r\n\r\n<div v-if=\"['Empty','Identifier','NumericLiteral','Broken'].includes(P.type) \">\r\n\t<div :class=\"P.type\">\r\n\t\t<autosize-input\r\n\t\t\tv-if=\"P._parent\"\r\n\t\t\t@focus=\"handle_input_focus\"\r\n\t\t\t@blur=\"handle_input_blur\"\r\n\t\t\t@change=\"handle_change\"\r\n\t\t\t@keydown=\"handle_keydown\"\r\n\t\t\tclass=\"autosize-input\"\t\r\n\t\t\tv-model=\"P.value\"\r\n\t\t\t:placeholder=\"placeholder || '      '\"\r\n\t\t\tref=\"input_field\"\r\n\t\t/>\r\n\t\t<span v-else-if=\"!P._parent\" > {{ P.value }} </span>\r\n\t</div>\r\n</div>\r\n\r\n\r\n<div\r\n\tv-else-if=\" ['Program', 'BlockStatement'].includes(P.type)\"\r\n\t:class=\"{block: P.type == 'BlockStatement', cur_block, block_margin: P.type == 'BlockStatement' && P._main_parent && P._main_parent.type != 'ConditionStatement' }\"\r\n>\r\n\t<div v-if=\"show_minimize_btn\" class=\"minimize_btn\" @mousedown.stop=\"toggle_minimize_block\" @click.stop> {{ P.minimized ? '+' : '-' }} </div>\r\n\t\r\n\t<div v-if=\"P.body.length == 0\" class=\"Empty slide-item\" > </div>\r\n\r\n\r\n\t<transition-group v-if=\"!P.minimized\" name=\"list-complete\" tag=\"div\" key=\"block\" >\r\n\t<div v-for=\"i in P.body.length\" class=\"list-complete-item\" :key=\"get_id(P.body[i-1])\">\r\n\t\t<div class=\"line_with_anchor\">\r\n\t\t\t<div\r\n\t\t\t\tv-if=\"show_anchor(i)\"\r\n\t\t\t\tclass=\"line_anchor\"\r\n\t\t\t\t@mousedown.stop=\"handle_anchor(i-1, $event)\"\r\n\t\t\t\t@mouseover.stop.prevent\r\n\t\t\t> → </div>\r\n\t\t\t<Piece v-if=\"P.body[i-1]\" :P=\"P.body[i-1]\"/>\r\n\t\t</div>\r\n\t</div>\r\n\t</transition-group>\r\n\r\n\t<div v-else class=\"dotdotdot-item\" > ... </div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ExpressionStatement' \">\r\n\t~\r\n\t<Piece :P=\"P.expression\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'CallExpression' || P.type == 'NewExpression' \" class=\"d-flex align-center\">\r\n\t<div v-if=\"P.type == 'NewExpression' \"> new </div>\r\n\t<Piece :P=\"P.callee\"/>\r\n\t<span class=\"exclamation_mark\"> ! </span>\r\n\t<button v-if=\"!P.is_sample && hover && P.arguments.length == 0\" class=\"btn_add_property\" @click.stop=\"add_new_argument\"> + </button>\r\n\r\n\t<div v-if=\"!P.is_sample\">\r\n\r\n\t\t<transition-group name=\"list-complete\" tag=\"div\" >\r\n\t\t<div v-for=\"i in P.arguments.length+1\" class=\"d-flex align-stretch list-complete-item\" :key=\"get_id(P.arguments[i-1])\">\r\n\t\t\t<div class=\"d-flex align-center\">\r\n\t\t\t\t<div v-if=\" P.arguments.length > 1 && P.arguments[i-1]\" :class=\"{empty_line: true, 'align-end': i == 1}\">\r\n\t\t\t\t\t<div :class=\"i == 1 || i == P.arguments.length ? 'half_height' : 'full_height' \"/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"P.arguments.length > 1\" :class=\"{'hor_con ml-0':true, squeeze: !P.arguments[i-1] }\"/>\r\n\t\t\t\t<div class=\"d-flex line_with_anchor\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tv-if=\"show_anchor(i)\"\r\n\t\t\t\t\t\tclass=\"line_anchor\"\r\n\t\t\t\t\t\t@mouseover.stop.prevent\r\n\t\t\t\t\t\t@mousedown.stop=\"handle_anchor(i-1, $event)\"\r\n\t\t\t\t\t> → </div>\r\n\t\t\t\t\t<Piece :need_brackets=\"P.arguments.length == 1\" v-if=\"P.arguments[i-1]\" :P=\"P.arguments[i-1]\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t</transition-group>\r\n\t</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'UnaryExpression' \" class=\"d-flex align-center\">\r\n\t<span class=\"pl-1\"> {{ edit_operator(P.operator) }} </span>\r\n\t<Piece :vertical_view=\"vertical_view\" :need_brackets=\"maybe_brackets_for_term(P, 'argument')\" :P=\"P.argument\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'MemberExpression'\" class=\"d-flex align-center\">\r\n\t<Piece :need_brackets=\"!is_primitive(P.object) && P.object.type != 'MemberExpression' \" :P=\"P.object\"/>\r\n\t<v-icon color=\"white\" class=\"member_arrow\"> {{ $mdi.MenuRight }} </v-icon>\r\n\t<Piece :need_brackets=\"!is_primitive(P.property) \" :P=\"P.property\"/>\r\n</div>\r\n\r\n\r\n<div v-else-if=\"P.type == 'ObjectExpression' && gotta_show_full\" class=\"Unit align-center\">\r\n\t<div class=\"ObjectExpressionCap d-flex px-2 justify-center\">\r\n\t\t{{ P.properties.length > 0 || P.is_sample ? 'Object' : 'Empty object' }}\r\n\t\t<button v-if=\"!P.is_sample && hover\" class=\"btn_add_property ml-1\" @click.stop=\"add_new_property\"> + </button>\r\n\t</div>\r\n\r\n\t<transition-group name=\"list-complete\" tag=\"div\">\r\n\t\t<div v-for=\"k in P.properties\" class=\"d-flex flex-column list-complete-item\" :key=\"get_id(k)\">\r\n\t\t\t<Piece :P=\"k\"  />\r\n\t\t</div>\r\n\t</transition-group>\r\n</div>\r\n\r\n\r\n<div v-else-if=\"P.type == 'ObjectProperty' \" class=\"d-flex\">\r\n\t<div class=\"nowrap\">\r\n\t\t<Piece :P=\"P.key\"/> : \r\n\t</div>\r\n\t<Piece :P=\"P.value\"/>\r\n</div>\r\n\r\n\r\n<div class=\"Unit\" v-else-if=\"P.type == 'ArrayExpression' && gotta_show_full\" >\r\n\t<div class=\"ArrayExpressionCap d-flex px-2 justify-center\">\r\n\t\t{{ P.elements.length > 0 || P.is_sample ? piece_name : 'Empty ' + piece_name }}\r\n\t\t<button v-if=\"!P.is_sample && hover\" class=\"btn_add_property ml-1\" @click.stop=\"add_new_element\"> + </button>\r\n\t</div>\r\n\t<div v-if=\"P.elements.length > 0\">\r\n\r\n\t\t<transition-group name=\"list-complete\" tag=\"div\" >\r\n\t\t<div v-for=\"i in P.elements.length+1\" class=\"d-flex list-complete-item\" :key=\"get_id(P.elements[i-1])\" >\r\n\t\t\t<div :class=\"{'pt-1': true, squeeze: !P.elements[i-1]}\">\r\n\t\t\t\t<span class=\"pl-2 nowrap\">{{ smart_index(i-1) }} : </span> \r\n\t\t\t</div>\r\n\t\t\t<div class=\"line_with_anchor\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-if=\"show_anchor(i)\"\r\n\t\t\t\t\tclass=\"line_anchor\"\r\n\t\t\t\t\t@mouseover.stop.prevent\r\n\t\t\t\t\t@mousedown.stop=\"handle_anchor(i-1, $event)\"\r\n\t\t\t\t> → </div>\r\n\t\t\t\t<Piece v-if=\"P.elements[i-1]\" :P=\"P.elements[i-1]\"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t</transition-group>\r\n\r\n\t</div>\r\n\r\n</div>\r\n\r\n<div v-else-if=\"(P.type == 'ObjectExpression' || P.type == 'ArrayExpression') && is_child_in_json\" class=\"d-flex align-center\">\r\n\t<v-icon small color=\"white\" @mousedown.stop=\"folder_click\" @click.stop class=\"path_bit\"> {{ $mdi.FolderOpen }} </v-icon>\r\n\t<div class=\"Unit align-center\">\r\n\t\t<div :class=\"P.type + 'Cap d-flex px-2 justify-center align-center' \">\r\n\t\t\t{{ piece_name + '...' }}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ObjectExpression' || P.type == 'ArrayExpression' \" class=\"Unit align-center\">\r\n\t<div v-if=\"P.type == 'ObjectExpression' \" class=\"ObjectExpressionCap d-flex px-2 justify-center\">\r\n\t\t{{ P.properties.length > 0 || P.is_sample ? 'Object' : 'Empty object' }}\r\n\t</div>\r\n\t<div v-else class=\"ArrayExpressionCap d-flex px-2 justify-center\">\r\n\t\t{{ P.elements.length > 0 || P.is_sample ? 'List' : 'Empty List' }}\r\n\t</div>\r\n\r\n\t<div class=\"d-flex align-center\">\r\n\t\t<v-icon color=\"white\" @mousedown.stop=\"cut_path(0, $event)\" @click.stop class=\"path_bit\"> {{ $mdi.SemanticWeb }} </v-icon>\r\n\t\t<div v-for=\"(k,index) in json_path\" @mousedown.stop=\"cut_path(index+1, $event)\" @click.stop class=\"d-flex align-center path_bit\">\r\n\t\t\t<v-icon color=\"white\" > {{ $mdi.MenuRight }} </v-icon>\r\n\t\t\t<span> {{ k }} </span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<Piece v-if=\"P\" :P=\"cur_folder\" show_full  />\r\n</div>\r\n\r\n\r\n<div v-else-if=\"P.type == 'AssignmentExpression' && P.operator == '=' && P.right.type == 'FunctionExpression' \">\r\n\t<div class=\"d-flex align-center\">\r\n\t\tSet\r\n\t\t<Piece v-if=\"!P.is_sample\" :P=\"P.left\"/>\r\n\t\t<div v-else class=\"Identifier\"> go </div>\r\n\t\t<span class=\"mr-1\"> ←\r\n\t\t<span v-if=\"P.right.async\"> Async </span>\r\n\t\tFunction </span>\r\n\t\t<div class=\"d-flex align-center\" v-if=\"!P.is_sample\">\r\n\t\t\t<span v-if=\"P.right.params.length\"> with input </span>\r\n\t\t\t<Piece v-for=\"a in P.right.params\" :P=\"a\"/>\r\n\t\t\t<button class=\"btn_add_property my-2 mx-1\" @click.stop=\"add_new_param\"> + </button>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<Piece :P=\"P.right.body\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'AssignmentExpression' && P.operator == '=' \" class=\"d-flex align-center\">\r\n\t<span>Set</span>\r\n\t<Piece :P=\"P.left\"/>\r\n\t←\r\n\t<Piece :P=\"P.right\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'BinaryExpression' && P.operator == '/' \" class=\"d-flex flex-column align-center px-1\">\r\n\t<Piece :P=\"P.left\"/>\r\n\t<div class=\"division_line\"> </div>\r\n\t<Piece :P=\"P.right\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'xBinaryExpression' && P.operator == '**' \" class=\"d-flex align-end\">\r\n\t<Piece :P=\"P.left\"/>\r\n\t<Piece style=\"transform-origin: 0% -30%; transform: scale(0.7);\" :P=\"P.right\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'BinaryExpression' && P.operator == '%' \" class=\"d-flex align-center\">\r\n\t<span class=\"pl-1\"> Remainder of </span>\r\n\t<Piece :need_brackets=\"!is_primitive(P.left)\" :P=\"P.left\"/>\r\n\t<div class=\"d-flex justify-center align-center px-2\" style=\"height: 10px; width: 5px;\" >\r\n\t÷\r\n\t</div>\r\n\t<Piece :need_brackets=\"!is_primitive(P.right)\" :P=\"P.right\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'BinaryExpression' \" class=\"d-flex align-center\">\r\n\t<Piece :need_brackets=\"maybe_brackets_for_term(P, 'left')\" :P=\"P.left\"/>\r\n\t<span v-if=\"P.is_sample\"> {{ edit_operator(P.operator) }} </span>\r\n\t<div v-else class=\"d-flex justify-center align-center px-2\" style=\"height: 10px; width: 5px;\" >\r\n\t{{ edit_operator(P.operator) }}\r\n\t</div>\r\n\t<Piece :need_brackets=\"maybe_brackets_for_term(P, 'right')\" :P=\"P.right\"/>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n<div v-else-if=\"P.type == 'RootExpression' \" class=\"RootExpression d-flex\">\r\n\t<div style=\"width: 15px\"/>\r\n\t<svg style=\"width: 15px; position: absolute; height: 100% \" ref=\"root_svg\">\r\n\t\t<line x1=\"20%\" y1=\"70%\" x2=\"50%\" y2=\"100%\" style=\"stroke: white; stroke-width: 2\" />\r\n\t\t<line x1=\"50%\" y1=\"100%\" x2=\"100%\" y2=\"0\" style=\"stroke: white; stroke-width: 2\" />\r\n\t</svg>\r\n\r\n\t<div class=\"under_root\">\r\n\t\t<Piece :P=\"P.argument\"/>\r\n\t</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div v-else-if=\"P.type == 'LogicalExpression' \" :class=\"{'d-flex align-center':true, vertical_view}\">\r\n\t<Piece :vertical_view=\"get_view(P.left)\" :need_brackets=\"bracket_vertical(P.left)\" :P=\"P.left\"/>\r\n\r\n\t<span v-if=\"P.is_sample\"> {{ edit_operator(P.operator) }} </span>\r\n\t<div v-else class=\"d-flex justify-center align-center px-2\" >\r\n\t{{ edit_operator(P.operator) }}\r\n\t</div>\r\n\r\n\t<Piece :vertical_view=\"get_view(P.right)\" :need_brackets=\"bracket_vertical(P.right)\" :P=\"P.right\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'GlobalVariableStatement' \">\r\n\tUse global\r\n\t<Piece v-if=\"!P._parent\" :P=\"{type: 'Identifier', value: 'x'}\" />\r\n\t<Piece v-else :P=\"P.var\" />\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'StringLiteral' \" class=\"String align-center d-flex\">\r\n\t<div class=\"quotes\">«</div>\r\n\r\n\t<span v-if=\"!P._parent\">{{ P.value || 'Hello' }}</span>\r\n\r\n\t<contenteditable\r\n\t\tv-else\r\n\t\t:P=\"P\"\r\n\t\tplaceholder=\"empty string\"\r\n\t\tref=\"CE\"\r\n\t\t@keydown=\"handle_keydown_CE\"\r\n\t\t@focus=\"handle_input_focus\"\r\n\t\t@blur=\"handle_input_blur\"\r\n\t\t@input=\"unselect_all()\"\r\n\t\t@backspaceAtBeginning=\"handle_backspace_at_beginning\"\r\n\t\t@arrowexcess=\"handle_arrow_excess\"\r\n\t/>\r\n\r\n\t<div class=\"quotes\">»</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'BooleanLiteral' \" class=\"NumericLiteral\">\r\n\t<span> {{ edit_operator(P.value) }} </span>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'NullLiteral' \" class=\"Null\">\r\n\tno value\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ItselfLiteral' \" class=\"Null\">\r\n\titself\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'IfStatement' \" class=\"block_margin\">\r\n\t<div v-for=\"(c,index) in P.conditions\">\r\n\t\t<Piece :index_as_child=\"index\"  :P=\"c\"/>\r\n\t</div>\r\n\r\n\t<v-menu offset-y>\r\n      <template v-slot:activator=\"{ on, attrs }\">\r\n      \t<button v-if=\"!P.is_sample\" v-bind=\"attrs\" v-on=\"on\" class=\"btn_add_property mb-1\"> + </button>\r\n      </template>\r\n      <v-list dense>\r\n        <v-list-item\r\n          v-for=\"(item,index) in elseif_else_arr\"\r\n          :key=\"index\"\r\n          @click=\"add_new_condition(index)\"\r\n        >\r\n          {{ item }}\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-menu>\r\n\r\n\t<div> <Piece v-if=\"P.alternate\" :P=\"P.alternate\"/> </div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ConditionStatement' \" >\r\n\t<div class=\"d-flex align-center\">\r\n\t\t<span v-if=\"index_as_child != 0\" class=\"pr-1\"> else </span>\r\n\t\t<span> if </span>\r\n\t\t<Piece :P=\"P.test\"/> then \r\n\t</div>\r\n\t<Piece :P=\"P.consequent\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ElseStatement' \" >\r\n\t<div>if none of the above then</div>\r\n\t<Piece :P=\"P.body\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ForOfStatement' \" >\r\n\t<div v-if=\"P.is_sample\"> Repeat... (array) </div>\r\n\t<div v-else class=\"d-flex align-center\">\r\n\t\tRepeat for every\r\n\t\t<Piece :P=\"P.left\"/> \r\n\t\tin\r\n\t\t<Piece :P=\"P.right\"/>\r\n\t\t\r\n\t</div>\r\n\t<div>\r\n\t\t<Piece :P=\"P.body\"/>\r\n\t</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ForRangeStatement' \" >\r\n\t<div v-if=\"P.is_sample\"> Repeat...(index) </div>\r\n\t<div v-else class=\"d-flex align-center\">\r\n\t\tRepeat for\r\n\t\t<Piece :P=\"P.var\"/> \r\n\t\tfrom\r\n\t\t<Piece :P=\"P.first\"/>\r\n\t\tto\r\n\t\t<Piece :P=\"P.last\"/>\r\n\t\t<span v-if=\"P.step\">\r\n\t\t\twith step\r\n\t\t\t<Piece :P=\"P.step\"/>\r\n\t\t</span>\r\n\t\t<button v-if=\"!P.step\" class=\"btn_add_property mb-1\" @mousedown.stop=\"add_step\"> + </button>\r\n\t\t<button v-else class=\"btn_add_property mb-1\" @mousedown.stop=\"remove_step\"> - </button>\r\n\t\t:\r\n\t</div>\r\n\t<div>\r\n\t<Piece :P=\"P.body\"/>\r\n\t</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'WhileStatement' \" >\r\n\t<div class=\"d-flex align-center\">\r\n\t\tRepeat while\r\n\t\t<Piece :P=\"P.test\"/>\r\n\t</div>\r\n\t<div>\r\n\t<Piece :P=\"P.body\"/>\r\n\t</div>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'FunctionExpression' && P.is_sample\">\r\n\t<div>Function</div>\r\n\t<Piece :P=\"P.body\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'Async' \" class=\"d-flex align-center\"> \r\n\tadd/remove async\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ThisExpression' \" class=\"d-flex align-center\"> \r\n\t<v-icon color=\"white\" > {{ $mdi.SemanticWeb }} </v-icon>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'FunctionExpression' \">\r\n\t<div class=\"d-flex align-center\">\r\n\t\t<span class=\"mr-1\">\r\n\t\t<span v-if=\"P.async\"> Async </span>\r\n\t\tFunction\r\n\t\t</span>\r\n\t\t<span v-if=\"P.params.length\"> with input </span>\r\n\t\t<Piece v-for=\"a in P.params\" :P=\"a\"/>\r\n\t\t<button v-if=\"!P.is_sample\" class=\"btn_add_property my-2 mx-1\" @mousedown.stop=\"add_new_param\"> + </button>\r\n\t</div>\r\n\r\n\t<Piece :P=\"P.body\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ObjectMethod' \">\r\n\t<div class=\"d-flex align-center\">\r\n\t\t<span class=\"mx-1\">\r\n\t\t<span v-if=\"P.async\"> Async </span>\r\n\t\t{{ P.kind }}\r\n\t\t</span>\r\n\t\t<Piece :P=\"P.key\"> </Piece>\r\n\t\t<span v-if=\"P.params.length\"> with input </span>\r\n\t\t<Piece v-for=\"a in P.params\" :P=\"a\"/>\r\n\t\t<button v-if=\"!P.is_sample && P.kind != 'get' \" class=\"btn_add_property my-2 mx-1\" @mousedown.stop=\"add_new_param\"> + </button>\r\n\t</div>\r\n\r\n\t<Piece :P=\"P.body\"/>\r\n</div>\r\n\r\n\r\n<div v-else-if=\"P.type == 'ReturnStatement' && P.is_sample\">\r\n\tExit function / output\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ReturnStatement' \" class=\"d-flex align-center\">\r\n\tExit and output\r\n\t<Piece placeholder=\"nothing\" :P=\"P.argument\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'ContinueStatement' \">\r\n\tNext loop iteration\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'BreakStatement' \">\r\n\tExit the loop\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'PrintStatement' \" class=\"d-flex align-center\">\r\n\tPrint\r\n\t<Piece :P=\"P.argument\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'Separator' && P.is_sample \" class=\"py-1\">\r\n\tSeparator\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'Separator' \" class=\"Separator posrel\" :style=\"'height:' + P.height + 'px' \">\r\n\t<v-slider\r\n\t  v-if=\"hover\"\r\n\t  @click.stop=\"\"\r\n\t  dense\r\n\t  hide-details\r\n\t  max=\"100\"\r\n\t  min=\"30\"\r\n\t  v-model=\"P.height\"\r\n\t></v-slider>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'Comment' \" class=\"Comment d-flex align-center justify-center\">\r\n\t<v-icon class=\"pr-2\" color=\"blue\"> {{ $mdi.MessageProcessing }} </v-icon>\r\n\t<span v-if=\"P.is_sample\"> Comment </span>\r\n\t<contenteditable\r\n\t\tv-else\r\n\t\t:P=\"P\"\r\n\t\tref=\"CE\"\r\n\t\t@keydown=\"handle_keydown_CE\"\r\n\t\tplaceholder=\"Write your comment...\"\r\n\t\t@focus=\"handle_input_focus\"\r\n\t\t@blur=\"handle_input_blur\"\r\n\t\t@input=\"unselect_all()\"\r\n\t\t@backspaceAtBeginning=\"handle_backspace_at_beginning\"\r\n\t\t@arrowexcess=\"handle_arrow_excess\"\r\n\t/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'AwaitExpression' \" class=\"d-flex align-center justify-center\">\r\n\tawait\r\n\t<Piece :P=\"P.argument\"/>\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'TryStatement' \" class=\"mb-5\" >\r\n\t<div> Try </div>\r\n\t<Piece :P=\"P.block\" style=\"margin-bottom: -20px\"  />\r\n\t<div v-if=\"!P.is_sample && P.handler\">\r\n\t\t<div> If an error ( <Piece :P=\"P.handler.param\" /> ) happened, then </div>\r\n\t\t<Piece :P=\"P.handler.body\" style=\"margin-bottom: -20px\" />\r\n\t</div>\r\n\r\n\t<div v-if=\"P.finalizer\">\r\n\t\t<div> Run in any case (no matter if an error happened) </div>\r\n\t\t<Piece :P=\"P.finalizer\" style=\"margin-bottom: -20px\"/>\r\n\t</div>\r\n\r\n\t<button v-if=\"!P.is_sample && hover\" class=\"btn_add_property mb-1\" style=\"position: absolute\" @click.stop=\"toggle_finally\"> {{ P.finalizer ? '-':'+' }} </button>\r\n\r\n</div>\r\n\r\n<div v-else-if=\"P.type == 'SpreadElement' \" :class=\"{'d-flex flex-column': P._main_parent.type != 'FunctionExpression' }\">\r\n\t<Piece :P=\"{type: 'MemberExpression', object: P.argument, property: {type:'NumericLiteral', value:0} }\" />\r\n\t<Piece :P=\"{type: 'MemberExpression', object: P.argument, property: {type:'NumericLiteral', value:1} }\" />\r\n\tetc...\r\n</div>\r\n\r\n\r\n<div v-else>\r\n\t???? what the fuck is {{ P.type }} ????\r\n</div>\r\n\r\n\r\n</div></template>\r\n\r\n\r\n<script>\r\n\r\n\r\nimport Remember from '@/remember'\r\n\r\nimport {$g, common, separate_child, remove_piece, register_child, register_child_in_arr, replace_node, clone, set_all_relationships, menu, must_be_a_line, isObject, parent_is_array, find_ancestor, unselect_all } from '@/methods'\r\nimport samples from '@/samples.js'\r\n\r\n\r\nfunction get_sample(piece_type) {\r\n\tlet S = clone( samples[piece_type] );\r\n\treturn S;\r\n}\r\n\r\nlet keywords = {\r\n\t'ForOfStatement': ['for (array)', 'repeat (array)'],\r\n\t'ForRangeStatement': ['for (index)', 'repeat (index)'],\r\n\t'While': ['repeat while'],\r\n\t'Array': ['list'],\r\n\t'Itself': ['self'],\r\n\t'Break': ['exit loop'],\r\n\t'Return': ['exit function', 'output'],\r\n\t'Continue': ['next loop iteration'],\r\n\t'Mod': ['remainder', '%'],\r\n\t'^': ['**', 'power'],\r\n\t'!=': ['NotEquals'],\r\n\t'Increment': ['+=', 'add number to itself'],\r\n\t'IncrementBy1': ['++', 'add 1 to itself'],\r\n\t'Push': ['add element to array'],\r\n\t'Length': ['size (list/string)'],\r\n};\r\n\r\nlet remove_keywords = ['Else', 'ForRangeStatement', 'ForOfStatement', 'ObjectProperty', 'ConditionStatement', 'Async', 'Empty', 'panel_samples'];\r\nlet available_samples = Object.keys(samples).filter(s => !remove_keywords.includes(s) );\r\n\r\nfunction find_by_keyword(s) {\r\n\ts = s.toLowerCase();\r\n\tlet res = [];\r\n\tfor (let piece_type of available_samples) {\r\n\t\tif (piece_type.toLowerCase().startsWith(s) ) res.push({piece_type, keyword: piece_type, default: keywords[piece_type] ? keywords[piece_type][0] : piece_type });\r\n\t}\r\n\r\n\tfor (let piece_type in keywords) {\r\n\t\tfor (let keyword of keywords[piece_type] ) {\r\n\t\t\tif (keyword.startsWith(s) ) res.push({piece_type, keyword, default: keywords[piece_type][0] });\r\n\t\t}\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\nfunction get_children(P) {\r\n\tlet res = [];\r\n\r\n\tfor (let k in P) {\r\n\t\tif (k[0] != '_' && typeof P[k] == 'object' && P[k].type) res.push(P[k]);\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction remove_operator(P) {\r\n\tlet children = get_children(P).filter(C => C.type != 'Empty');\r\n\r\n\tif (children.length == 1 && compatible(P._main_parent, children[0], P._keyAsChild  ) ) {\r\n\t\treplace_node( P, children[0] );\r\n\t\treturn children[0];\r\n\t}\r\n\telse if (children.length == 0) {\r\n\t\tlet E = {type: 'Empty', focus: {} };\r\n\t\treplace_node( P, E );\r\n\t\treturn E;\r\n\t}\r\n}\r\n\r\nfunction handle_menu_click(action) {\r\n\tlet P = menu.under_menu.P;\r\n\r\n\tif (action == 'Remove') {\r\n\t\tremove_piece(P);\r\n\t}\r\n\telse if (action == 'Remove parent') {\r\n\t\t//register_child( P._main_parent._main_parent, P._main_parent._keyAsChild, P);\r\n\t\tif ( !['Program','BlockStatement'].includes(P._main_parent.type) \r\n\t\t&& compatible( P._main_parent._main_parent, P, P._main_parent._keyAsChild ) )\r\n\t\t\treplace_node( P._main_parent, P);\r\n\t}\r\n\telse if (action == 'Remove operator') {\r\n\t\tlet children = get_children(P).filter(C => C.type != 'Empty');\r\n\t\tif (children.length == 1 && compatible(P._main_parent, children[0], P._keyAsChild  ) )\r\n\t\t\treplace_node( P, children[0] );\r\n\t}\r\n\telse if (action == 'Disable' || action == 'Enable') {\r\n\t\tif (parent_is_array(P) ) register_child(P, 'disabled', !P.disabled);\r\n\t}\r\n}\r\n\r\n\r\nfunction find_empty_child(P) {\r\n\tfor (let k in P) {\r\n\t\tif (isObject(P[k]) && P[k].type == 'Empty') return P[k];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction find_empty_children(P) {\r\n\tlet res = [];\r\n\tfor (let k in P) {\r\n\t\tif (isObject(P[k]) && P[k].type == 'Empty') res.push( P[k] );\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nlet o = {\r\n\tArrayExpression: 'elements',\r\n\tObjectExpression: 'properties',\r\n\tBlockStatement: 'body',\r\n\tProgram: 'body',\r\n\tCallExpression: 'arguments',\r\n\tNewExpression: 'arguments',\r\n\tFunctionExpression: 'params',\r\n};\r\n\r\nfunction contents_hidden(P) {\r\n\treturn P.minimized;\r\n}\r\n\r\nfunction array_child(P) {\r\n\tfor (let key in P) {\r\n\t\tif (key[0] != '_' ) {\r\n\t\t\tif (Array.isArray(P[key]) ) return {node: P, arr: key};\r\n\t\t\tif (['body','consequent'].includes(key) && P[key].type == 'BlockStatement' ) return {node: P[key], arr: 'body'};\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction move(M, D, copy) {\r\n\tif (D._parent === undefined) return;\r\n\tif (M == D) return;\r\n\r\n\tif (copy || M.is_sample) M = clone(M);\r\n\r\n\tlet empty_children = find_empty_children(M);\r\n\r\n\twhile (D._main_parent ) {\r\n\t\tif (D.type === 'Empty' && compatible(D._main_parent, M, D._keyAsChild) ) {\r\n\t\t\tM = edit_if_necessary(M, D._main_parent);\r\n\t\t\tseparate_child(M);\r\n\t\t\treplace_node(D, M);\r\n\t\t}\r\n\t\telse if (M.type == 'Async' && D.type == 'FunctionExpression'  ) {\r\n\t\t\tVue.set(D, 'async', !D.async);\r\n\t\t}\r\n\t\telse if (M.type == 'Async' && D.type == 'AssignmentExpression' && D.right.type == 'FunctionExpression' ) {\r\n\t\t\tVue.set(D.right, 'async', !D.right.async);\r\n\t\t}\r\n\t\t// Make it possible to move an element inside a array ? That's it? Maybe delete\r\n\t\telse if ( ['ArrayExpression', 'BlockStatement', 'Program'].includes(D.type) && compatible(D, M) ) {\r\n\t\t\tlet arr = D[o[D.type]];\r\n\t\t\t//if (arr.length > 0) return false;\r\n\t\t\tseparate_child(M);\r\n\r\n\t\t\tlet key = o[D.type];\r\n\t\t\tregister_child_in_arr(D, key, D[key].length, M);\r\n\t\t}\r\n\t\telse if ( empty_children.length > 0 && compatible(D._main_parent, M, D._keyAsChild) ) {\r\n\t\t\tlet empty_child;\r\n\r\n\t\t\tfor (let c of empty_children) {\r\n\t\t\t\tif ( compatible(M, D, c._keyAsChild) ) {\r\n\t\t\t\t\tempty_child = c;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!empty_child) return;\r\n\r\n\t\t\tseparate_child(M);\r\n\t\t\treplace_node(D, M);\r\n\t\t\treplace_node(empty_child, D);\r\n\t\t}\r\n\t\t\r\n\t\telse if (['ObjectProperty', 'ConditionStatement'].includes(D.type) && compatible(D._main_parent, M, D._keyAsChild) ) {\r\n\t\t\tlet new_array_index = D._parent.indexOf(D);\r\n\t\t\t//Make sure to add the element to the end\r\n\t\t\tif (new_array_index == D._parent.length - 1 && !D._parent.includes(M) ) new_array_index++; \r\n\t\t\tseparate_child(M);\r\n\r\n\t\t\tregister_child_in_arr(D._main_parent, D._parent, new_array_index, M);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tD = D._main_parent;\r\n\t\t\tif (is_block(D) ) return;\r\n\t\t\telse continue;\r\n\t\t}\r\n\r\n\t\tbreak;\r\n\t}\r\n\r\n\tif (M.is_sample) {\r\n\t\tdelete M.is_sample;\r\n\t}\r\n\r\n\tunselect_all();\r\n\treturn true;\r\n}\r\n\r\nVue.prototype.$handle_menu_click = handle_menu_click;\r\n\r\nfunction is_ancestor(X, Y) {\r\n\tlet ancestor = Y;\r\n\twhile ( ancestor !== undefined) {\r\n\t\tif (ancestor == X) return true;\r\n\t\tancestor = ancestor._main_parent;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction is_a_loop(P) {\r\n\treturn ['WhileStatement', 'ForOfStatement', 'ForRangeStatement'].includes(P.type);\r\n}\r\n\r\nfunction compatible(parent, child, keyAsChild) {\r\n\tlet err;\r\n\r\n\tif (parent) {\r\n\t\tif ( is_ancestor(child, parent) )\r\n\t\t\terr = 'You cannot move the piece into itself';\r\n\t\telse if (child.type == 'Async' && parent.type != 'FunctionExpression') \r\n\t\t\terr = 'Async can only be placed on a Function';\r\n\t\telse if (child.type == 'AwaitExpression' && !find_ancestor(parent, A => A.async == true ) )\r\n\t\t\terr = 'Await must be inside an AsyncFunction';\r\n\t\telse if (parent.type == 'MemberExpression'\r\n\t\t\t&& child.type == 'BinaryExpression' && child.is_boolean) \r\n\t\t\terr = 'Boolean BinaryExpression cannot be a child of MemberExpression';\r\n\t\telse if (parent.type == 'BinaryExpression' && !parent.is_boolean\r\n\t\t\t&& (child.type == 'BinaryExpression' && child.is_boolean || child.type == 'BooleanLiteral'))\r\n\t\t\terr = 'Boolean expression cannot be a child of a math expression';\r\n\t\telse if (parent.type == 'CallExpression'\r\n\t\t\t&&  !['Identifier', 'MemberExpression', 'CallExpression', 'FunctionExpression'].includes(child.type)  && keyAsChild == 'callee' ) \r\n\t\t\terr = child.type + ' is not a function';\r\n\t\telse if (child.type == 'ObjectProperty' && parent.type != 'ObjectExpression')\r\n\t\t\terr = 'Object property can only be inside an object';\r\n\t\telse if (child.type != 'ObjectProperty' && parent.type == 'ObjectExpression')\r\n\t\t\terr = 'Object can only have object property as a child';\r\n\t\telse if ( must_be_a_line(child) && !is_block(parent) )\r\n\t\t\terr = child.type + ' can only be in a block of statements';\r\n\t\telse if (child.type != 'StringLiteral' && parent.type == 'ObjectProperty' && keyAsChild == 'key')\r\n\t\t\terr = 'The key of an object property must be a string';\r\n\t\telse if (['BlockStatement', 'ElseStatement'].includes(child.type)  )\r\n\t\t\terr = child.type + ' is not movable';\r\n\t\t//else if (parent.type == 'FunctionExpression' && child.type != 'Identifier')\r\n\t\t\t//err = 'Argument must be an Identifier';\r\n\t\telse if (child.type == 'ConditionStatement' && parent.type != 'IfStatement')\r\n\t\t\terr = 'ConditionStatement must be inside of IfStatement'\r\n\t\telse if (child.type != 'ConditionStatement' && parent.type == 'IfStatement')\r\n\t\t\terr = 'IfStatement can only include ConditionStatement';\r\n\t\telse if (child.type == 'ReturnStatement') {\r\n\t\t\tlet ancestor = parent;\r\n\t\t\twhile (!['FunctionExpression', 'FunctionDeclaration', 'Program'].includes(ancestor.type) ) {\r\n\t\t\t\tancestor = ancestor._main_parent;\r\n\t\t\t}\r\n\t\t\tif (ancestor.type == 'Program') err = 'ReturnStatement must be inside a Function';\r\n\t\t}\r\n\t\telse if ( ['BreakStatement','ContinueStatement'].includes(child.type) ) {\r\n\t\t\tlet A = find_ancestor(parent, A => is_a_loop(A) );\r\n\t\t\tif (!A) err = child.type + ' must be inside a loop';\r\n\t\t}\r\n\t\t/*\r\n\t\telse if (child.type == 'ItselfLiteral') {\r\n\t\t\tlet ancestor = parent;\r\n\t\t\twhile (ancestor && ancestor.type != 'AssignmentExpression') {\r\n\t\t\t\tancestor = ancestor._main_parent;\r\n\t\t\t}\r\n\t\t\tif (ancestor === undefined) err = 'Itself keyword can only be inside of AssignmentExpression';\r\n\t\t}*/\r\n\t\telse if (parent.type == 'AssignmentExpression' && keyAsChild == 'left' && !['Identifier', 'MemberExpression', 'ArrayExpression', 'ObjectExpression'].includes(child.type)  )\r\n\t\t\terr = 'Value being set must be Identifier or MemberExpression';\r\n\t\t/*\r\n\t\telse if (['Program','BlockStatement'].includes(parent.type)\r\n\t\t\t&& !['IfStatement','WhileStatement','ForOfStatement','CallExpression','AssignmentExpression'].includes(child.type) )\r\n\t\t\terr = 'You cannot make a line from ' + child.type;\r\n\t\t*/\r\n\t\t/*\r\n\t\telse if (child.type == 'Empty' )\r\n\t\t\terr = 'You cannot move Empty anywhere';\r\n\t\t*/\r\n\r\n\t}\r\n\r\n\tif (err === undefined) return true;\r\n\t//$g.console.warn(err);\r\n\r\n\treturn false;\r\n}\r\n\r\nimport AutosizeInput from 'vue-autosize-input';\r\n\r\nlet paste = {\r\n\tpiece: null,\r\n\ttype: null\r\n};\r\n\r\nlet key_is_pressed = {Control: false};\r\n\r\nlet different_order = {\r\n\t'IfStatement': ['conditions', 'alternate']\r\n};\r\n\r\nfunction edit_if_necessary(M, D) {\r\n\tif (M.is_sample && is_block(D) && ['ArrayExpression','ObjectExpression','FunctionExpression'].includes(M.type) ) {\r\n\t\tdelete M.is_sample;\r\n\t\tdelete M.focus;\r\n\t\tlet A = get_sample('Set');\r\n\t\tA.right = M;\r\n\t\tset_all_relationships(A);\r\n\t\treturn A;\r\n\t}\r\n\telse return M;\r\n}\r\n\r\nfunction get_all_children(P) {\r\n\tlet res = [];\r\n\r\n\tfor (let k of different_order[P.type] || Object.keys(P) ) {\r\n\t\tif (k[0] != '_' && isObject(P[k]) && P[k].type) res.push(P[k]);\r\n\t\telse if (k[0] != '_' && Array.isArray(P[k]) ) res = res.concat(P[k]);\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nfunction get_first_child(P) {\r\n\tfor (let k of different_order[P.type] || Object.keys(P) ) {\r\n\t\tif (k[0] != '_' && isObject(P[k]) && P[k].type) return P[k];\r\n\t\telse if (k[0] != '_' && Array.isArray(P[k]) ) return P[k][0];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction is_editable(P) {\r\n\treturn ['Identifier', 'StringLiteral', 'NumericLiteral', 'Empty', 'Broken', 'Comment'].includes(P.type);\r\n}\r\n\r\nfunction unselectable(P) {\r\n\t//  this.P.type == 'BlockStatement' || this.P.type == 'Empty' || \r\n\treturn is_block(P)\r\n\t\t|| P._vm === undefined\r\n\t\t|| !P.is_sample && P._parent === undefined \r\n\t\t||  P.type == 'ConditionStatement' && (P.is_sample || P._parent && P._parent.length == 1)\r\n\t\t// || this.P._main_parent.type == 'ObjectProperty' && this.P._keyAsChild == 'key'\r\n}\r\n\r\n/*\r\nfunction get_last_editable(P) {\r\n\tlet N, prev_editable;\r\n\twhile (P) {\r\n\t\tif (is_editable(P) ) prev_editable = P;\r\n\r\n\t\tN = get_prev_child(P);\r\n\t\tif (prev_editable && is_editable(N) && N.value != '') return prev_editable;\r\n\t\tP = N;\r\n\t}\r\n\treturn P;\r\n}\r\n*/\r\n\r\nfunction get_last_editable(P) {\r\n\twhile (P) {\r\n\t\tif (is_editable(P) ) return P;\r\n\t\tP = get_prev_child(P);\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n\r\nfunction get_first_empty_editable(P) {\r\n\tlet all_leafs = get_all_leafs(P);\r\n\tlet E;\r\n\tfor (let leaf of all_leafs) {\r\n\t\tif (is_editable(leaf)) E = leaf;\r\n\t\tif (is_editable(leaf) && leaf.value != undefined && leaf.value.length == 0) return leaf;\r\n\t}\r\n\treturn E;\r\n}\r\n\r\n\r\nfunction prev_ver(P) {\r\n\treturn unselectable(P) ? get_prev_child(P) : P;\r\n}\r\n\r\nfunction get_prev_child(P) {\r\n\tif (!contents_hidden(P)) {\r\n\t\tlet children = get_all_children(P);\r\n\t\tif (children.length > 0) return prev_ver( children[children.length-1] );\r\n\t}\r\n\r\n\twhile(P._main_parent) {\r\n\t\tlet siblings = get_all_children(P._main_parent);\r\n\t\tlet index_as_child = siblings.indexOf(P);\r\n\r\n\t\tif (index_as_child > 0) {\r\n\t\t\treturn prev_ver( siblings[index_as_child-1] );\r\n\t\t}\r\n\t\tP = P._main_parent;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n\r\nfunction next_ver(P) {\r\n\treturn unselectable(P) ? get_next_child(P) : P;\r\n}\r\n\r\n\r\nfunction get_next_child(P) {\r\n\tif (!P._main_parent) return null;\r\n\r\n\tlet siblings = get_all_children(P._main_parent);\r\n\tlet index_as_child = siblings.indexOf(P);\r\n\r\n\tif (index_as_child == siblings.length - 1) {\r\n\t\treturn next_ver(P._main_parent);\r\n\t}\r\n\r\n\tlet N = siblings[index_as_child + 1];\r\n\tif (contents_hidden(N)) return next_ver(N);//get_next_child(N);\r\n\r\n\twhile(true) {\r\n\t\tlet first_child = get_first_child(N);\r\n\t\tif (first_child == null) return next_ver(N);\r\n\t\telse N = first_child;\r\n\t}\r\n}\r\n\r\nfunction get_first_leaf(P) {\r\n\twhile(true) {\r\n\t\tlet first_child = get_first_child(P);\r\n\t\tif (first_child == null) return P;\r\n\t\telse P = first_child;\r\n\t}\r\n}\r\n\r\nfunction get_all_leafs(P) {\r\n\tlet res = [];\r\n\tget_all_leafs_recursive(P, res);\r\n\treturn res;\r\n}\r\n\r\nfunction get_all_leafs_recursive(P, res) {\r\n\tlet children = get_all_children(P);\r\n\tif (children.length == 0) res.push(P);\r\n\telse for (let C of children) {\r\n\t\tget_all_leafs_recursive(C, res);\r\n\t}\r\n}\r\n\r\nfunction get_cur_line(P) {\r\n\treturn find_ancestor(P, A => parent_is_array(A) && ['BlockStatement', 'Program', 'ArrayExpression', 'CallExpression'].includes(A._main_parent.type));\r\n}\r\n\r\ndocument.addEventListener(\"keypress\", function(event) {\r\n    if ( ['KeyZ','KeyY'].includes(event.code) && event.ctrlKey ) {\r\n    \tevent.preventDefault();\r\n    }\r\n});\r\n\r\ndocument.addEventListener(\"keydown\", function(event) {\r\n\tkey_is_pressed[event.code] = true;\r\n\r\n\tlet E;\r\n    if (event.code === \"Escape\") {\r\n    \tunselect_all();\r\n    \tdocument.activeElement.blur();\r\n    }\r\n    else if (event.code === 'Delete' && $g.selected_pieces.length) {\r\n    \tfor (let p of $g.selected_pieces)\r\n    \t\tremove_piece(p);\r\n\r\n    \tunselect_all();\r\n    \tevent.preventDefault();\r\n    }\r\n    else if (event.code === 'KeyZ' && event.ctrlKey ) {\r\n    \tdocument.activeElement.blur();\r\n    \tRemember.undo();\r\n    \tevent.preventDefault();\r\n    }\r\n    else if (event.code === 'KeyY' && event.ctrlKey ) {\r\n    \tdocument.activeElement.blur();\r\n    \tRemember.redo();\r\n    \tevent.preventDefault();\r\n    }\r\n\r\n\tif (common.focused) return;\r\n\r\n\tlet P = $g.selected_pieces.length == 1 ? $g.selected_pieces[0] : null;\r\n\r\n\t/*\r\n\tif (event.code == 'KeyE') {\r\n    \t//$g.selected_pieces = [ samples['Empty'] ];\r\n    \tselect(samples['Empty']);\r\n    } else*/\r\n    if (event.code === 'KeyC' && event.ctrlKey ) {\r\n    \tcommon.paste_mode = 'copy';\r\n    \tevent.preventDefault();\r\n    }\r\n    else if (event.code === 'KeyX' && event.ctrlKey ) {\r\n    \tcommon.paste_mode = 'cut';\r\n    \tevent.preventDefault();\r\n    }\r\n\telse if (event.code == 'ArrowLeft' && $g.selected_pieces.length == 1) {\r\n\t\tlet S = get_prev_child($g.selected_pieces[0]) || $g.selected_pieces[0];\r\n\t\tselect(S);\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\telse if (event.code == 'ArrowRight' && $g.selected_pieces.length == 1) {\r\n\t\tlet S = get_next_child($g.selected_pieces[0]) || $g.selected_pieces[0];\r\n\t\tselect(S);\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t}\r\n    else if (event.code == 'KeyF' || event.code == 'Backspace') {\r\n\t\tif (P) {\r\n\t\t\tif (event.code == 'KeyF') Vue.set(P, 'focus', {position: 'end', child: 'start'} );\r\n\t\t\telse set_focus(P, 'end');\r\n\r\n\t\t\tunselect_all();\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t}\r\n    }\r\n    else if (event.code == 'KeyX') {\r\n    \tcommon.toggle_disabled();\r\n    }\r\n    else if (event.code == 'Enter' && $g.selected_pieces.length == 1) {\r\n    \tif (P) {\r\n    \t\tmake_a_new_line(P);\r\n    \t\tunselect_all();\r\n    \t\tevent.preventDefault();\r\n    \t\tevent.stopPropagation();\r\n    \t}\r\n    }\r\n    else {\r\n    \tif (P && (E = operator_to_piece(event.key)) ) {\r\n\t\t\tmove(E, P, true);\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n    \t}\r\n    }\r\n\r\n});\r\n\r\ndocument.addEventListener(\"keyup\", function(event) {\r\n\tkey_is_pressed[event.code] = false;\r\n});\r\n\r\n\r\nfunction is_a_valid_identifier(s) {\r\n\treturn s.match(/^[A-Za-z$_][A-Za-z$_0-9]*$/) !== null && !['if','for','continue','null', 'true', 'false'].includes(s);\r\n}\r\n\r\nfunction is_a_valid_number(s) {\r\n\treturn s.match(/^-?[0-9]+(\\.[0-9]*)?$/);\r\n}\r\n\r\nimport Vue from 'vue'\r\n\r\nlet change_operator = {'==': '=', '>=':'≥', '<=': '≤', '!=':'≠', '*':'×', '-':'−', '&&':'and', '||':'or', '!':'not', '**':'^' };\r\n\r\nfunction is_boolean(P) {\r\n\treturn P.type == 'BinaryExpression' && ['==','!=','>','<','>=','<='].includes(P.operator);\r\n}\r\n\r\nfunction on_change_body_length() {\r\n\tif (is_block(this.P) && this.P.body.length == 0 && this.P._main_parent) {\r\n\t\t//move({type: 'Empty'}, this.P, true);\r\n\t\tregister_child_in_arr(this.P, 'body', 0, {type: 'Empty'} );\r\n\t}\r\n}\r\n\r\nfunction on_change_type() {\r\n\tif (this.P.type == 'Empty' && this.P.value === undefined) {\r\n\t\tVue.set(this.P, 'value', '' );\r\n\t}\r\n\telse if (this.P.type == 'NumericLiteral' ) {\r\n\t\tthis.P.value += '';\r\n\t}\r\n\telse if (is_boolean(this.P) ) {\r\n\t\tVue.set(this.P, 'is_boolean', true );\r\n\t}\r\n\telse if (this.P.disabled && !parent_is_array(this.P) ) {\r\n\t\tthis.P.disabled = false;\r\n\t}\r\n\r\n\tif (!this.P.is_sample && this.P._main_parent && this.P.focus) {\r\n\t\tthis.focus();\r\n\t}\r\n}\r\n\r\nfunction operator_to_piece(last) {\r\n\tlet E;\r\n\tlet piece_name = {\r\n\t\t':': 'Set',\r\n\t\t'~': 'Not',\r\n\t\t'!': 'CallExpression',\r\n\t\t'[': 'MemberExpression',\r\n\t\t'.': 'DotExpression',\r\n\t}[last];\r\n\r\n\tif (piece_name ) {\r\n\t\tE = get_sample(piece_name);\r\n\t}\r\n\telse if (['+','-','*','/','^','%','>','<','=','&','|'].includes(last) ) {\r\n\t\tlast = {'=':'==','&':'&&','|':'||', '^':'**'}[last] || last;\r\n\r\n\t\tE = {\r\n\t\t\ttype: ['&&','||'].includes(last) ? 'LogicalExpression': 'BinaryExpression',\r\n\t\t\toperator: last,\r\n\t\t\tleft: {type: 'Empty'},\r\n\t\t\tright: {type: 'Empty' },\r\n\t\t};\r\n\r\n\t\tE.is_boolean = is_boolean(E);\r\n\t}\r\n\r\n\tif (E) E.focus = {child: 'start'};\r\n\r\n\treturn E;\r\n}\r\n\r\nfunction select(P) {\r\n\tunselect_all();\r\n\tVue.set(P, 'selected', true);\r\n\t$g.selected_pieces = [P];\r\n}\r\n\r\nfunction select_after_typing(P) {\r\n\tif (P.type == 'StringLiteral' && P._main_parent.type == 'MemberExpression' && P._keyAsChild == \"property\") {\r\n\t\tselect(P._main_parent);\r\n\t}\r\n\telse select(P);\r\n}\r\n\r\nfunction is_empty_object_property(P) {\r\n\treturn P.type == 'ObjectProperty' && P.key.value == '' && P.value.value == '';\r\n}\r\n\r\nfunction make_a_new_line(P) {\r\n\tlet Empty = {type: 'Empty', focus: {} };\r\n\r\n\tif (P.type == 'Empty' && P._main_parent.type == 'Program') {\r\n\t\treturn;\r\n\t}\r\n\telse if (is_empty_object_property(P._main_parent)) {\r\n\t\tseparate_child(P._main_parent);\r\n\t\tP = P._main_parent._main_parent;\r\n\t}\r\n\telse if ( P._main_parent == 'FunctionExpression' && P._keyAsChild == 'params' ) {\r\n\t\tconsole.log('thats the one!');\r\n\t}\r\n\telse if ( parent_is_array(P) && P.type == 'Empty') {\r\n\t\tseparate_child(P);\r\n\t\tP = P._main_parent;\r\n\t}\r\n\r\n\r\n\twhile (P._main_parent) {\r\n\t\tlet f = array_child(P._main_parent);\r\n\t\tlet B;\r\n\t\tif (f) B = f.node[f.arr];\r\n\t\t\r\n\t\tif (B && P._parent != B && P.type != 'BlockStatement') {\r\n\t\t\t//console.log(\"DEEP ENTER!\");\r\n\t\t\t//console.log({P,B});\r\n\t\t\tlet please_replace = B[0] && B[0].type == 'Empty';\r\n\t\t\tregister_child_in_arr(f.node, B, 0, Empty, please_replace);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if (parent_is_array(P) && P._main_parent.type != 'IfStatement' ) {\r\n\t\t\tif (P._main_parent.type == 'ObjectExpression')\r\n\t\t\t\tadd_new_property_to_obj(P._main_parent, P._parent.indexOf(P)+1);\r\n\t\t\telse {\r\n\t\t\t\tlet i = P._parent.indexOf(P)+1;\r\n\t\t\t\tlet please_replace = P._parent[i] && P._parent[i].type == 'Empty';\r\n\t\t\t\tregister_child_in_arr(P._main_parent, P._parent, i, Empty, please_replace );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tP = P._main_parent;\r\n\t}\r\n}\r\n\r\nfunction get_value_by_key(P, key) {\r\n\tif (P.type == 'ObjectExpression') {\r\n\t\tlet property = P.properties.filter(p => p.key.value == key)[0];\r\n\t\treturn property && property.value;\r\n\t}\r\n\telse if (P.type == 'ArrayExpression') {\r\n\t\treturn P.elements[key];\r\n\t}\r\n}\r\n\r\nfunction add_new_property_to_obj(P, index) {\r\n\tregister_child_in_arr(P, 'properties', index, get_sample('ObjectProperty'));\r\n}\r\n\r\nfunction is_Keyword(P) {\r\n\treturn P.type == 'Empty' && P.value[0] == '/';\r\n}\r\n\r\nfunction set_focus(P, position) {\r\n\tVue.set(P, 'focus', {position} );\r\n}\r\n\r\nfunction calc_type(v) {\r\n\tif (v.length == 0 || v[0] == '/') {\r\n\t\treturn 'Empty';\r\n\t}\r\n\telse if (is_a_valid_number(v) ) {\r\n\t\treturn 'NumericLiteral';\r\n\t}\r\n\telse if (is_a_valid_identifier(v) ) {\r\n\t\treturn 'Identifier';\r\n\t}\r\n\telse return 'Broken';\r\n}\r\n\r\nfunction is_block(P) {\r\n\treturn ['BlockStatement','Program'].includes(P.type);\r\n}\r\n\r\nlet Empty = {type: 'Empty'};\r\n\r\nimport contenteditable from '@/components/contenteditable'\r\nimport FunctionExpression from '@/components/FunctionExpression'\r\n\r\nexport default {\r\n\tname: 'Piece',\r\n\tcomponents: {AutosizeInput, contenteditable, FunctionExpression},\r\n\tprops: {\r\n\t\tP: Object,\r\n\t\tindex_as_child: Number,\r\n\t\tneed_brackets: Boolean,\r\n\t\tvertical_view: Boolean,\r\n\t\tplaceholder: String,\r\n\t\tshow_full: Boolean,\r\n\t},\r\n\tdata: () => ({\r\n\t\tcommon,\r\n\t\tpaste,\r\n\t\tkey_is_pressed,\r\n\t\tdsadsads: menu,\r\n\t\tjson_path:  [],\r\n\t\thover: false,\r\n\t\tcur_block: false,\r\n\t\tshow_minimize_btn: false,\r\n\t\tglow: {right: false, left: false},\r\n\t}),\r\n\twatch: {\r\n\t\tP(nv, ov) {\r\n\t\t\t//console.log(\"P changed!\");\r\n\t\t\tthis.init();\r\n\t\t\t//if (nv != ov) console.log(nv, ov);\r\n\t\t},\r\n\t\t'P.conditions.length': function(new_value) {\r\n\t\t\tif (new_value == 0) separate_child(this.P);\r\n\t\t},\r\n\t\t'P.body.length': on_change_body_length,\r\n\t\t'P.type' : on_change_type,\r\n\t\t'P.focus': function(new_value) {\r\n\t\t\tif (new_value) {\r\n\t\t\t\tthis.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\t'P.selected': function(nv) {\r\n\t\t\tif (nv == true && this.P.is_sample) common.paste_mode = \"copy\";\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tunselect_all,\r\n\t\tinit() {\r\n\t\t\tthis.P._vm = this;\r\n\t\t\t//Vue.set(this.P, 'selected', false);\r\n\t\t\tthis.hover = false;\r\n\t\t\tthis.cur_block = false;;\r\n\t\t},\r\n\t\tedit_operator(op) {\r\n\t\t\treturn change_operator[op] || op;\r\n\t\t},\r\n\t\thandle_mouseover(event) {\r\n\t\t\tif (this.P.type == 'BlockStatement' && this.P._main_parent)\r\n\t\t\t\tthis.show_minimize_btn = true;\r\n\r\n\t\t\tif (unselectable(this.P) ) return;\r\n\t\t\tevent.stopPropagation();\r\n\t\t\t//if (this.$menu.showMenu) return;\r\n\r\n\t\t\tif (common.hover_P) common.hover_P._vm.hover = false;\r\n\t\t\tthis.hover = true;\r\n\t\t\tcommon.hover_P = this.P;\r\n\r\n\t\t\tif (common.blue_hover) return;\r\n\t\t\tif (common.glow_side_P) common.glow_side_P._vm.glow = {left: false, right: false};\r\n\r\n\t\t\tlet glow = {left: false, right: false};\r\n\r\n\t\t\tif (common.paste_mode && $g.selected_pieces.length == 1 && !this.is_sample ) {\r\n\t\t\t\tlet M = $g.selected_pieces[0];\r\n\t\t\t\tlet D = this.P;\r\n\r\n\t\t\t\tlet empty_children = find_empty_children(M);\r\n\t\t\t\tlet all_children = get_all_children(M);\r\n\r\n\t\t\t\twhile (D._main_parent ) {\r\n\t\t\t\t\tif ( empty_children.length > 0 && compatible(D._main_parent, M, D._keyAsChild) ) {\r\n\t\t\t\t\t\tlet empty_child;\r\n\r\n\t\t\t\t\t\tfor (let c of empty_children) {\r\n\t\t\t\t\t\t\tif ( compatible(M, D, c._keyAsChild) ) {\r\n\t\t\t\t\t\t\t\tempty_child = c;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!empty_child) return;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (all_children.length == 1) glow.left = true;\r\n\t\t\t\t\t\telse if (all_children.length > 1) glow.right = true;\r\n\r\n\t\t\t\t\t\t//$g.console.log(D);\r\n\t\t\t\t\t\tD._vm.glow = glow;\r\n\t\t\t\t\t\tcommon.glow_side_P = D;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tD = D._main_parent;\r\n\t\t\t\t\tif (is_block(D) ) break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandle_mouseleave() {\r\n\t\t\t//if (this.$menu.showMenu) return;\r\n\t\t\tif (this.show_minimize_btn) this.show_minimize_btn = false;\r\n\t\t\tcommon.hover_P = null;\r\n\t\t\t//if (common.glow_side_P) common.glow_side_P._vm.glow = {left: false, right: false};\r\n\t\t\tif (this.glow && (this.glow.left || this.glow.right) ) this.glow = {left: false, right: false};\r\n\t\t\tthis.hover = false;\r\n\t\t},\r\n\t\thandle_click(event) {\r\n\t\t\tif (this.P.type == 'Empty' && !$g.selected_pieces.length && this.P._main_parent) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (unselectable(this.P) ) return;\r\n\r\n\t\t\tlet select_many = common.select_many || event.shiftKey;\r\n\r\n\t\t\tlet moved_smth;\r\n\t\t\tif ($g.selected_pieces.length == 1 && !select_many && common.paste_mode) {\r\n\t\t\t\tmoved_smth = move($g.selected_pieces[0], this.P, common.paste_mode == 'copy');\r\n\t\t\t}\r\n\r\n\t\t\tif (moved_smth) unselect_all();\r\n\t\t\telse if (this.P.type != 'Empty' || this.P.is_sample) {\r\n\t\t\t\tif (select_many) {\r\n\t\t\t\t\tlet index = $g.selected_pieces.indexOf(this.P)\r\n\t\t\t\t\tif (index != -1) $g.selected_pieces.splice(index, 1);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tVue.set(this.P, 'selected', true);\r\n\t\t\t\t\t\t$g.selected_pieces.push(this.P);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if ($g.selected_pieces.length == 1 && $g.selected_pieces[0] == this.P)\r\n\t\t\t\t\tunselect_all();\r\n\t\t\t\telse select(this.P);\r\n\t\t\t}\r\n\r\n\t\t\tevent.stopPropagation();\r\n\t\t},\r\n\t\thandle_anchor(index, event) {\r\n\t\t\tthis.insert_into_arr(this.P, index);\r\n\t\t\tevent.preventDefault();\r\n\t\t\tevent.stopPropagation();\r\n\t\t},\r\n\t\tinsert_into_arr(P, index) {\r\n\t\t\tlet sorted = common.IDE.sort_by_order($g.selected_pieces);\r\n\r\n\t\t\tfor (let i=sorted.length-1; i>=0; i--) {\r\n\t\t\t\tlet M = sorted[i];\r\n\r\n\t\t\t\tif (common.paste_mode == 'copy' || M.is_sample) M = clone(M);\r\n\r\n\t\t\t\tM = edit_if_necessary(M, P);\r\n\r\n\t\t\t\tif ( !compatible(P, M) ) return;\r\n\r\n\t\t\t\tlet E;\r\n\t\t\t\tif (M._main_parent == P) {\r\n\t\t\t\t\tE = {type: 'Empty'};\r\n\t\t\t\t\treplace_node(M, E);\r\n\t\t\t\t}\r\n\t\t\t\telse separate_child(M);\r\n\t\t\t\t\r\n\t\t\t\tregister_child_in_arr(P, o[P.type], index, M);\r\n\t\t\t\tif (E) separate_child(E);\r\n\r\n\t\t\t\tif (M.is_sample) delete M.is_sample;\r\n\t\t\t}\r\n\t\t\tunselect_all();\r\n\t\t},\r\n\t\tis_primitive(P) {\r\n\t\t\treturn ['Identifier', 'StringLiteral', 'NumericLiteral', 'Empty', 'ItselfLiteral', 'ThisExpression'].includes(P.type);\r\n\t\t},\r\n\t\tmaybe_brackets_for_term(P, child) {\r\n\t\t\treturn P.operator == '**' && P[child].type && ['+','-','*','/'].includes(P[child].operator)\r\n\t\t\t\t|| P.operator == '**' && P[child].type && P[child].operator == '**'\r\n\t\t\t\t|| P.operator == '*' && P[child].type && ['+','-'].includes(P[child].operator)\r\n\t\t\t\t|| P.operator == '-' && (child == 'right' || child == 'argument') && P[child].type && ['+','-'].includes(P[child].operator);\r\n\t\t},\r\n\t\topen_menu(e) {\r\n\t\t\tif (unselectable(this.P) ) return;\r\n\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tmenu.under_menu = this;\r\n\t\t\tmenu.menu_position.x = e.clientX;\r\n\t\t\tmenu.menu_position.y = e.clientY;\r\n\t\t\tmenu.showMenu = true;\r\n\t\t\t//setTimeout( () => this.$menu.showMenu = true, 100);\r\n\t\t},\r\n\t\tadd_new_property() {\r\n\t\t\tadd_new_property_to_obj(this.P, this.P.properties.length);\r\n\t\t},\r\n\t\tadd_new_element() {\r\n\t\t\tregister_child_in_arr(this.P, 'elements', this.P.elements.length, get_sample('Empty') );\r\n\t\t},\r\n\t\tadd_new_argument() {\r\n\t\t\tregister_child_in_arr(this.P, 'arguments', this.P.arguments.length, get_sample('Empty') );\r\n\t\t},\r\n\t\tadd_new_condition(index) {\r\n\t\t\tif (index === 0) {\r\n\t\t\t\tregister_child_in_arr(this.P, 'conditions', this.P.conditions.length, get_sample('ConditionStatement') );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tregister_child(this.P, 'alternate', get_sample('Else') );\r\n\t\t\t}\r\n\t\t},\r\n\t\tadd_new_param() {\r\n\t\t\tlet I = {type: 'Identifier', value: '', focus: true };\r\n\t\t\tlet o = this.P.params ? this.P : this.P.right;\r\n\t\t\tregister_child_in_arr(o, 'params', o.params.length, I);\r\n\t\t},\r\n\t\tadd_step() {\r\n\t\t\tregister_child(this.P, 'step', {type: 'NumericLiteral', value: 1});\r\n\t\t},\r\n\t\tremove_step() {\r\n\t\t\tregister_child(this.P, 'step', null);\r\n\t\t},\r\n\t\tget_view(child) {\r\n\t\t\tif (child.type == 'UnaryExpression') child = child.argument;\r\n\r\n\t\t\tif (child.type == 'LogicalExpression') {\r\n\t\t\t\tif (child.operator == this.P.operator) return this.vertical_view;\r\n\t\t\t\telse return !this.vertical_view;\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\t\tbracket_vertical(child) {\r\n\t\t\tif (child.type == 'LogicalExpression') {\r\n\t\t\t\tif (child.operator == this.P.operator) return false;\r\n\t\t\t\telse return !this.vertical_view;\r\n\t\t\t}\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\t\ttoggle_boolean() {\r\n\t\t\tif (!this.P.is_sample)\r\n\t\t\t\tregister_child(this.P, 'value', !this.P.value);\r\n\t\t},\r\n\t\tget_id(P) {\r\n\t\t\tif (P) return P._id || (P._id = Math.random());\r\n\t\t\telse return 'a';\r\n\t\t},\r\n\t\thandle_input_focus() {\r\n\t\t\tcommon.focused = this.P;\r\n\t\t\tthis.P.initial_input = this.P.value;\r\n\t\t\tthis.P.initial_type = this.P.type;\r\n\t\t},\r\n\t\thandle_input_blur() {\r\n\t\t\tcommon.focused = null;\r\n\t\t\tif (this.P.initial_input != this.P.value ) {\r\n\t\t\t\tRemember.set(this.P, 'value', this.P.value, this.P.initial_input);\r\n\t\t\t\tRemember.set(this.P, 'type', this.P.type, this.P.initial_type);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandle_change(event) {\r\n\t\t\tif ($g.selected_pieces.length)\r\n\t\t\t\tunselect_all();\r\n\r\n\t\t\tthis.P.type = calc_type(this.P.value);\r\n\r\n\t\t\tevent.stopPropagation();\r\n\t\t},\r\n\t\thandle_keydown(event) {\r\n\t\t\tlet E;\r\n\t\t\tlet v = this.P.value;\r\n\r\n\t\t\tif (event.code == 'Backspace' && v.length == 0) {\r\n\t\t\t\t//event.target.selectionStart == the position of the cursor inside input\r\n\t\t\t\t// if pressing backspace on Empty, remove it\r\n\t\t\t\tlet prev = get_prev_child(this.P);\r\n\r\n\t\t\t\tif (prev) {\r\n\t\t\t\t\tset_focus(prev, 'end');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet next = get_next_child(this.P);\r\n\t\t\t\t\tif (next) set_focus(next, 0);\r\n\t\t\t\t\telse return;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (parent_is_array(this.P) ) {\r\n\t\t\t\t\tremove_piece(this.P);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tremove_operator(this.P._main_parent);\r\n\t\t\t\t}\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\telse if (event.code == 'ArrowRight' && event.target.selectionStart == v.length\r\n\t\t\t\t|| event.code == 'ArrowLeft' && event.target.selectionStart == 0) {\r\n\t\t\t\tthis.handle_arrow_excess();\r\n\t\t\t}\r\n\t\t\telse if (['Enter','Tab'].includes(event.code) && this.is_Keyword ) {\r\n\t\t\t\tcommon.timeout_to_choose_first = setTimeout( () => {\r\n\t\t\t\t\tthis.transform_from_keyword();\r\n\t\t\t\t},100);\r\n\t\t\t}\r\n\t\t\telse if (event.code == 'Enter') {\r\n\t\t\t\tmake_a_new_line(this.P);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\telse if (event.key == '\"' && (this.caret_is_at('end') || this.caret_is_at(0))) {\r\n\t\t\t\tlet new_piece = {\r\n\t\t\t\t\ttype: 'StringLiteral',\r\n\t\t\t\t\tfocus: this.caret_is_at(0) ? {} : undefined,\r\n\t\t\t\t\tvalue: this.P.value\r\n\t\t\t\t}\r\n\t\t\t\tif (compatible(this.P._main_parent, new_piece, this.P._keyAsChild)) {\r\n\t\t\t\t\treplace_node(this.P, new_piece);\r\n\r\n\t\t\t\t\tif (this.caret_is_at('end')) {\r\n\t\t\t\t\t\t//select_after_typing(new_piece);\r\n\t\t\t\t\t\tVue.set(new_piece, 'selected', true);\r\n\t\t\t\t\t\t$g.selected_pieces = [new_piece];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\telse if (event.code == \"Space\" && v[0] != '/') {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\telse if (this.caret_is_at('end') ) {\r\n\t\t\t\tlet last = event.key;\r\n\r\n\t\t\t\tlet E;\r\n\t\t\t\tif (v[0] == '/') {\r\n\t\t\t\t\tthis.open_keyword_menu();\r\n\t\t\t\t}\r\n\t\t\t\telse if ('-/'.includes(last) && v.length == 0\r\n\t\t\t\t\t|| last == '.' && this.P.type == 'NumericLiteral') {\r\n\t\t\t\t\t//do nothing; solves the negative number problem\r\n\t\t\t\t}\r\n\t\t\t\telse if (E = operator_to_piece(last) ) { \r\n\t\t\t\t\tmove(E, this.P, true);\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\topen_keyword_menu() {\r\n\t\t\tcommon.show_keyword_menu = true;\r\n\t\t\tcommon.el_with_keyword_menu = this;\r\n\t\t},\r\n\t\tcaret_is_at(pos) {\r\n\t\t\tlet I = this.dom_input();\r\n\t\t\tif (pos == 'end') pos = I.value.length;\r\n\t\t\treturn I.selectionStart == pos && I.selectionEnd == pos;\r\n\t\t},\r\n\t\thandle_arrow_excess() {\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tif (event.code == 'ArrowRight') {\r\n\t\t\t\tselect_after_typing(this.P);\r\n\t\t\t}\r\n\t\t\telse select(this.P);\r\n\t\t\t\r\n\t\t\tevent.stopPropagation();\r\n\t\t},\r\n\t\thandle_backspace_at_beginning(event) {\r\n\t\t\t//called by contenteditable (strings)\r\n\t\t\tunselect_all();\r\n\r\n\t\t\treplace_node(this.P, {\r\n\t\t\t\ttype: calc_type(this.P.value),\r\n\t\t\t\tfocus: {},\r\n\t\t\t\tvalue: this.P.value\r\n\t\t\t});\r\n\t\t},\r\n\t\tshow_anchor(i) {\r\n\t\t\tif (this.$vuetify.breakpoint.mdAndUp) return false;\r\n\t\t\tif (!($g.selected_pieces.length && common.paste_mode && this.P._main_parent)) return false;\r\n\t\t\tif (key_is_pressed.Control || common.paste_mode == 'copy') return true;\r\n\r\n\t\t\tfor (let p of $g.selected_pieces) {\r\n\t\t\t\tif ( [null, this.arr[i-1], this.arr[i-2]].includes(p) ) return false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tsmart_index(i) {\r\n\t\t\tlet res = this.arr_without_disabled.indexOf(this.P.elements[i]);\r\n\t\t\treturn res == -1 ? '-- ' : res;\r\n\t\t},\r\n\t\tfocus() {\r\n\t\t\tif (this.P.is_sample) return;\r\n\r\n\t\t\tlet focus_position = this.P.focus && this.P.focus.position;\r\n\r\n\t\t\tif (is_editable(this.P) ) this.$nextTick(() => {\r\n\t\t\t\tif (this.$refs.input_field) {\r\n\t\t\t\t\tthis.$refs.input_field.focus();\r\n\r\n\t\t\t\t\tif (focus_position != undefined) {\r\n\t\t\t\t\t\tlet caret;\r\n\t\t\t\t\t\tif (focus_position == 'end') caret = this.P.value.length;\r\n\t\t\t\t\t\telse caret = focus_position;\r\n\t\t\t\t\t\tthis.dom_input().setSelectionRange(caret, caret);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.$refs.CE) {\r\n\t\t\t\t\tthis.$refs.CE.focus();\r\n\t\t\t\t}\r\n\t\t\t\tdelete this.P.focus;\r\n\t\t\t});\r\n\r\n\t\t\telse {\r\n\t\t\t\tlet leaf;\r\n\t\t\t\tif (this.P.focus.child == 'start') {\r\n\t\t\t\t\tleaf = get_first_empty_editable(this.P);\r\n\t\t\t\t}\r\n\t\t\t\telse leaf = get_last_editable(this.P);\r\n\r\n\t\t\t\tif (leaf) set_focus(leaf, 'end');\r\n\t\t\t\telse select(this.P);\r\n\t\t\t\tdelete this.P.focus;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttransform_from_keyword(piece_type) {\r\n\t\t\tif (!piece_type) piece_type = this.keyword_options[0].piece_type;\r\n\t\t\tmove(samples[piece_type], this.P, true);\r\n\t\t\tcommon.show_keyword_menu = false;\r\n\t\t},\r\n\t\thandle_keydown_CE(event) {\r\n\t\t\tif (event.code == 'Enter' && !event.shiftKey) {\r\n\t\t\t\tmake_a_new_line(this.P);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoggle_minimize_block() {\r\n\t\t\tif (this.P.minimized) Remember.set(this.P, 'minimized', undefined);\r\n\t\t\telse Remember.set(this.P, 'minimized', true);\r\n\t\t},\r\n\t\tdom_input() {\r\n\t\t\treturn this.$refs.input_field.$el.children[0];\r\n\t\t},\r\n\t\tcut_path(index, event) {\r\n\t\t\tif (index < this.json_path.length) this.json_path = this.json_path.slice(0,index);\r\n\t\t},\r\n\t\tfolder_click() {\r\n\t\t\tlet path_bit, cur_folder;\r\n\r\n\t\t\tif (this.P._main_parent.type == 'ObjectProperty') {\r\n\t\t\t\tpath_bit = this.P._main_parent.key.value;\r\n\t\t\t\tcur_folder = this.$parent.$parent.$parent;\r\n\t\t\t}\r\n\t\t\telse if (this.P._main_parent.type == 'ArrayExpression') {\r\n\t\t\t\tpath_bit = this.P._main_parent.elements.indexOf(this.P);\r\n\t\t\t\tcur_folder = this.$parent.$parent;\r\n\t\t\t}\r\n\t\t\telse console.error(\"omg smth went terribly wrong\");\r\n\t\t\t//console.log({path_bit, cur_folder});\r\n\r\n\t\t\tlet head_unit;\r\n\t\t\tif (cur_folder.$parent.P && ['ObjectExpression', 'ArrayExpression'].includes(cur_folder.$parent.P.type)) {\r\n\t\t\t\thead_unit = cur_folder.$parent;\r\n\t\t\t}\r\n\t\t\telse head_unit = cur_folder;\r\n\r\n\t\t\thead_unit.json_path.push(path_bit);\r\n\t\t},\r\n\t\ttoggle_finally() {\r\n\t\t\tif (!this.P.finalizer) register_child(this.P, 'finalizer', {type: 'BlockStatement', body: [] });\r\n\t\t\telse this.P.finalizer = null;\r\n\t\t},\r\n\t\thandle_blue_click(position) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tlet cur_line = get_cur_line(this.P);\r\n\t\t\tlet insert_index = cur_line._parent.indexOf(cur_line) + (position == 'bottom' ? 1: 0);\r\n\t\t\tif ($g.selected_pieces.length > 0 && common.paste_mode) this.insert_into_arr(cur_line._main_parent, insert_index);\r\n\t\t\telse register_child_in_arr(cur_line._main_parent, cur_line._parent, insert_index, get_sample('Empty'));\r\n\t\t},\r\n\t\tshow_blue(position) {\r\n\t\t\tif (this.$vuetify.breakpoint.xs || !this.hover) return false;\r\n\t\t\tif (position == 'vertical') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandle_blue_mouseover() {\r\n\t\t\tcommon.blue_hover = true;\r\n\t\t\tif (common.glow_side_P) {\r\n\t\t\t\tcommon.glow_side_P._vm.glow = {left: false, right: false};\r\n\t\t\t}\r\n\t\t},\r\n\t\thandle_blue_mouseleave() {\r\n\t\t\tcommon.blue_hover = false;\r\n\t\t},\r\n\t\ttest(...args) {\r\n\t\t\tconsole.log(...args);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tpiece_name() {\r\n\t\t\treturn {'ObjectExpression': 'Object', 'ArrayExpression': 'List'}[this.P.type];\r\n\t\t},\r\n\t\tis_child_in_json() {\r\n\t\t\treturn this.P._main_parent && ['ObjectProperty', 'ArrayExpression'].includes(this.P._main_parent.type);\r\n\t\t},\r\n\t\tgotta_show_full() {\r\n\t\t\treturn this.show_full || (!this.is_child_in_json && this.json_path.length == 0) || this.P.is_sample;\r\n\t\t},\r\n\t\top_list() {\r\n\t\t\treturn this.P.is_boolean ? ['==','!=','>','<','<=','>='] : ['+','-','*','/','%'];\r\n\t\t},\r\n\t\tarr() {\r\n\t\t\treturn this.P[o[this.P.type]];\r\n\t\t},\r\n\t\tmark() {\r\n\t\t\treturn this.hover;\r\n\t\t\t//if (menu.showMenu) return menu.under_menu == this;\r\n\t\t\t//return hover_P == this.P;\r\n\t\t},\r\n\t\telseif_else_arr() {\r\n\t\t\treturn this.P.alternate ? ['Else if'] : ['Else if','If none of the above'];\r\n\t\t},\r\n\t\tbrackets() {\r\n\t\t\treturn this.need_brackets // || this.P.type == 'SpreadElement'\r\n\t\t\t|| this.P.type == 'LogicalExpression' && this.P._main_parent && !['ConditionStatement','LogicalExpression'].includes(this.P._main_parent.type);\r\n\t\t},\r\n\t\tarr_without_disabled() {\r\n\t\t\treturn this.P.elements.filter(e => !e.disabled);\r\n\t\t},\r\n\t\tis_Keyword() {\r\n\t\t\treturn this.P.type == 'Empty' && this.P.value && this.P.value[0] == '/';\r\n\t\t},\r\n\t\tcur_keyword() {\r\n\t\t\treturn this.P.value.slice(1);\r\n\t\t},\r\n\t\tkeyword_options() {\r\n\t\t\tif ( this.is_Keyword && this.cur_keyword.length > 0) {\r\n\t\t\t\treturn find_by_keyword(this.cur_keyword);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcur_folder() {\r\n\t\t\tlet res = this.P;\r\n\t\t\tfor (let i=0; i < this.json_path.length; i++) {\r\n\t\t\t\tlet key = this.json_path[i];\r\n\r\n\t\t\t\tlet next = get_value_by_key(res, key);\r\n\t\t\t\tif (next) res = next;\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"FIXING THE PATH!\");\r\n\t\t\t\t\tthis.json_path = this.json_path.slice(0,i-1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t},\r\n\t},\r\n\tcreated() {\r\n\t\tthis.init();\r\n\t},\r\n\tmounted() {\r\n\t\t//this.$nextTick(() => {\r\n\t\t\ton_change_type.call(this);\r\n\t\t\ton_change_body_length.call(this);\r\n\t\t//});\r\n\t},\r\n\tupdated() {\r\n\t\t//if (this.P.value) $g.console.log(this.P.type + ': ' + this.P.value);\r\n\t\t//else $g.console.log(this.P.type);\r\n\t\t//$g.console.log(\"updated!\");\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.piece {\r\n\txcolor: #55d4db;\r\n}\r\n\r\n.list-complete-item {\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.list-complete-enter, .list-complete-leave-to {\r\n\topacity: 0;\r\n\txtransform: translateY(30px);\r\n}\r\n\r\n.list-complete-leave-active {\r\n\tposition: absolute;\r\n}\r\n\r\n.list-complete-move {\r\n\ttransition: transform 0.3s;\r\n}\r\n\r\n\r\n.slide-enter-active {\r\n   transition-duration: 0.5s;\r\n   transition-timing-function: linear;\r\n}\r\n\r\n.slide-leave-active {\r\n   transition-duration: 0.5s;\r\n   transition-timing-function: linear;\r\n}\r\n\r\n.slide-enter-to, .slide-leave {\r\n   max-height: 100px;\r\n   overflow: hidden;\r\n}\r\n\r\n.slide-enter, .slide-leave-to {\r\n   overflow: hidden;\r\n   max-height: 0;\r\n}\r\n\r\n.line_anchor {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmin-width: 20px;\r\n\theight: 20px;\r\n\tcolor: black;\r\n\tborder-radius: 5px;\r\n\tmargin: 5px;\r\n\tposition: absolute;\r\n\tleft: -20px;\r\n\ttop: -15px;\r\n\tz-index: 2;\r\n\tbackground-color: white;\r\n\topacity: 0.4;\r\n\tfont-size: 20px;\r\n\tpadding-bottom: 4px;\r\n}\r\n\r\n.line_with_anchor, .posrel {\r\n\tposition: relative;\r\n}\r\n\r\n.hover {\r\n\tbackground-color: #444444 !important;\r\n\tbackground: none;\r\n}\r\n\r\n.NumericLiteral, .String, .Identifier, .Null, .Empty, .Broken {\r\n\tpadding: 2px 8px;\r\n\tmargin: 3px;\r\n\tborder-radius: 10px;\r\n\txborder: 1px solid black;\r\n\tcursor: default;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    xposition: relative;\r\n    white-space: nowrap;\r\n}\r\n\r\n.theme-textstyle .NumericLiteral, .theme-textstyle .String, .theme-textstyle .Identifier, .theme-textstyle .Null {\r\n\tmargin: 0px;\r\n\tpadding: 0px 4px;\r\n}\r\n\r\n.theme-textstyle .Empty, .theme-textstyle .Broken {\r\n\tmargin: 2px;\r\n\theight: 1px;\r\n}\r\n\r\n.theme-textstyle .Empty input, .theme-textstyle .Broken input {\r\n\twidth: 10px !important;\r\n\txfont-size: 15px !important;\r\n}\r\n\r\n.theme-main .Null {\r\n\tbackground: linear-gradient(180deg, hsl(180, 70%, 40%) 0%, hsl(180, 70%, 10%) 66%);\r\n}\r\n\r\n.theme-main .NumericLiteral {\r\n\tbackground: linear-gradient(180deg, hsl(120, 40%, 80%) 0%, hsl(120, 40%, 20%) 66%);\r\n}\r\n\r\n.theme-main .String {\r\n\tbackground: linear-gradient(180deg, hsl(50, 40%, 60%) 0%, hsl(50, 40%, 15%) 66%);\r\n}\r\n\r\n.theme-main .Identifier {\r\n\tbackground: linear-gradient(180deg, hsl(330, 70%, 40%) 0%, hsl(330, 70%, 15%) 66%);\r\n}\r\n\r\n.theme-textstyle .NumericLiteral * {\r\n\tcolor: hsl(120, 60%, 60%);\r\n}\r\n\r\n.theme-textstyle .String * {\r\n\tcolor: hsl(50, 40%, 40%);\r\n}\r\n\r\n.theme-textstyle .Identifier * {\r\n\tcolor: hsl(330, 70%, 40%);\r\n}\r\n\r\n\r\n.Unit {\r\n\tbackground: linear-gradient(180deg, rgb(40, 40, 40, 0.5) 0%, rgba(10, 10, 10, 0.5) 100%);\r\n\tborder: 1px solid black !important;\r\n\tborder-radius: 10px;\r\n\tmargin: 4px;\r\n}\r\n\r\n.ObjectExpressionCap, .ArrayExpressionCap {\r\n\tborder-top-left-radius: 10px;\r\n\tborder-top-right-radius: 10px;\r\n\tmargin-bottom: 4px;\r\n\tcolor: #fff;\r\n}\r\n\r\n.ObjectExpressionCap {\r\n\tbackground: linear-gradient(175deg, rgb(65, 177, 67) 0%, rgb(10, 52, 50) 66%);\r\n}\r\n\r\n.ArrayExpressionCap {\r\n\tbackground: linear-gradient(175deg, rgb(54, 114, 255) 0%, rgb(0, 20, 81) 66%);\r\n}\r\n\r\n.selected {\r\n\tbackground: #ada85c !important;\r\n}\r\n\r\n.block {\r\n\tmargin-left: 15px;\r\n\tpadding-left: 15px;\r\n\tborder-left: 1px solid hsl(180, 30%, 25%);\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.cur_block {\r\n\tborder-left: 1px solid orange;\r\n}\r\n\r\n.xblock {\r\n\tpadding-left: 10px;\r\n\tpadding-right: 10px;\r\n}\r\n\r\n.block_margin {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n.quotes {\r\n\tcolor: #111111;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.theme-textstyle .quotes {\r\n\tcolor: white !important;\r\n}\r\n\r\n.piece {\r\n\tdisplay: inline-block;\r\n\tborder-radius: 5px;\r\n\txborder: 5px solid rgba(0,0,0,0);\r\n}\r\n\r\n.piece > * {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.half_height, .full_height {\r\n\twidth: 1px;\r\n\tbackground-color: grey;\r\n\toverflow-x: auto;\r\n}\r\n\r\n.half_height {\r\n\theight: 50%;\r\n}\r\n\r\n.full_height {\r\n\theight: 100%;\r\n}\r\n\r\n.empty_line {\r\n\twidth: 1px;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n}\r\n\r\n.hor_con {\r\n\theight: 1px;\r\n\twidth: 10px;\r\n\tbackground-color: grey;\r\n}\r\n\r\n.brackets {\r\n\tborder: 1px solid white;\r\n\tborder-radius: 5px;\r\n\txmargin: 5px;\r\n}\r\n\r\n.theme-main {\r\n\txborder: 1px solid white;\r\n}\r\n\r\n.theme-textstyle .brackets {\r\n\txborder-radius: 5px;\r\n\txborder-left: 2px solid white;\r\n\txborder-right: 2px solid white;\r\n}\r\n\r\n.dont_ignore_spaces {\r\n\twhite-space: pre;\r\n}\r\n\r\ntextarea, input {\r\n\toutline: none;\r\n\tz-index: -1;\r\n}\r\n\r\n.autosize-input {\r\n\tmargin-right: -2px\r\n}\r\n\r\n.theme-main .autosize-input > input {\r\n\tcolor: white;\r\n}\r\n\r\n.btn_add_property {\r\n\twidth: 20px;\r\n\tfont-size: 13px;\r\n\tborder-radius: 30px;\r\n\tcolor: white;\r\n\tbackground: linear-gradient(180deg, rgb(234, 232, 232) 0%, rgba(100, 100, 100, 0.82) 66%);\r\n}\r\n\r\n.Empty {\r\n\tmin-width: 40px;\r\n\tmin-height: 23px;\r\n\tcolor: grey;\r\n\tbackground-color: #aaaaaa;\r\n}\r\n\r\n.theme-textstyle .Empty {\r\n\tmin-width: 20px;\r\n\tmin-height: 15px;\r\n}\r\n\r\n.Broken {\r\n\tmin-width: 40px;\r\n\tmin-height: 25px;\r\n\tcolor: grey;\r\n\tbackground-color: #aaaaaa;\r\n\tborder: 1px solid red;\r\n}\r\n\r\n.Separator {\r\n\tmin-width: 100px;\r\n}\r\n\r\n.Separator .v-input__slider {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.squeeze {\r\n\theight: 1px;\r\n\topacity: 0;\r\n}\r\n\r\n.division_line {\r\n\theight: 1px;\r\n\twidth: 100%;\r\n\tbackground-color: white;\r\n}\r\n\r\n.disabled {\r\n\tfilter: saturate(0%);\r\n\topacity: 0.6;\r\n\txbackground-color: hsl(0,0%,7%);\r\n}\r\n\r\n.vertical_view {\r\n\tflex-direction: column;\r\n}\r\n\r\n.little_arrow {\r\n\tfont-size: 15px;\r\n}\r\n\r\n.member_arrow {\r\n\tmargin-left: -8px;\r\n\tmargin-right: -8px;\r\n}\r\n\r\n[contenteditable] {\r\n\toutline: 0px solid transparent;\r\n\tcursor: text;\r\n\twhite-space: pre-wrap;\r\n}\r\n\r\n[contenteditable][placeholder]:empty:before {\r\n\tcontent: attr(placeholder);\r\n\tcolor: gray;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.line_anchor {\r\n\tborder: 1px solid white;\r\n}\r\n\r\n.exclamation_mark {\r\n\tfont-weight: bold;\r\n\tfont-size: 22px;\r\n\tpadding-right: 8px;\r\n}\r\n\r\n.theme-textstyle .exclamation_mark {\r\n\tfont-size: 16px;\r\n}\r\n\r\n.RootExpression {\r\n\tposition: relative;\r\n\tmargin-top: 2px;\r\n}\r\n\r\n.under_root {\r\n\tborder-top: 2px solid white;\r\n}\r\n\r\n.Comment {\r\n\tfont-family: sans-serif;\r\n\tfont-style: italic;\r\n\tcolor: orange;\r\n}\r\n\r\n.minimize_btn {\r\n\tposition: absolute;\r\n\tbackground-color: grey;\r\n\ttop: 10;\r\n\tleft: 8px;\r\n\twidth: 14px;\r\n\theight: 14px;\r\n\tborder-radius: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcursor: pointer;\r\n}\r\n\r\n.nowrap {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.path_bit {\r\n\tcolor: #fff;\r\n\tfont-weight: bolder;\r\n}\r\n\r\n.path_bit:hover {\r\n\tbackground-color: grey;\r\n\tcursor: pointer;\r\n}\r\n\r\n.blue_line {\r\n\ttop: -14px;\r\n\tleft: 0;\r\n\theight: 14px;\r\n\tmax-width: 50px;\r\n\twidth: 100%;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: end;\r\n\tposition: absolute;\r\n}\r\n\r\n.blue_line_bottom {\r\n\ttop: 100%;\r\n\tjustify-content: start;\r\n\tz-index: 10;\r\n}\r\n\r\n.blue_line > div {\r\n\tbackground-color: #219ae080;\r\n\theight: 2px;\r\n\twidth: 80%;\r\n}\r\n\r\n.blue_line:hover > div {\r\n\tbackground-color: yellow;\r\n\theight: 4px;\r\n}\r\n\r\n.glow_right, .glow_left {\r\n\tborder: 1px dashed white;\r\n\tmargin: -1px;\r\n\tborder-radius: 0px;\r\n}\r\n\r\n.glow_right {\r\n\tborder-right: 2px solid yellow;\r\n}\r\n\r\n.glow_left {\r\n\tborder-left: 2px solid yellow;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piece.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piece.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Piece.vue?vue&type=template&id=0333a49a&\"\nimport script from \"./Piece.vue?vue&type=script&lang=js&\"\nexport * from \"./Piece.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Piece.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VIcon,VList,VListItem,VMenu,VSlider})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport vuetify from './plugins/vuetify';\r\n\r\n/*\r\nvar nerdamer = require('nerdamer');\r\nwindow.N = nerdamer;\r\nwindow.P = nerdamer.getCore().PARSER;\r\n*/\r\n\r\nimport Piece from '@/components/Piece';\r\nVue.component('Piece', Piece );\r\n\r\nVue.config.productionTip = false\r\n\r\nimport { mdiMenuRight, mdiUndo, mdiRedo, mdiContentCopy, mdiContentCut, mdiDelete, mdiMessageProcessing, mdiCancel, mdiVectorSelection, mdiSemanticWeb, mdiFolderOpen, mdiAppsBox } from '@mdi/js'\r\nlet mdi = { mdiMenuRight, mdiUndo, mdiRedo, mdiContentCopy, mdiContentCut, mdiDelete, mdiMessageProcessing, mdiCancel, mdiVectorSelection, mdiSemanticWeb, mdiFolderOpen, mdiAppsBox };\r\n\r\nVue.prototype.$mdi = {};\r\n\r\nfor (let icon_name in mdi) {\r\n\tVue.prototype.$mdi[icon_name.slice(3)] = mdi[icon_name];\r\n\tdelete mdi[icon_name];\r\n}\r\n\r\n\r\nnew Vue({\r\n  router,\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&lang=css&\"","<template><div :class=\"{all: true, dragging: common.paste_mode != null}\">\r\n\r\n<v-app-bar\r\n  app fixed\r\n  color=\"primary\"\r\n  dark\r\n>\r\n  <v-btn v-if=\"!persistent_panel\" icon @click=\"common.panel_drawer=true\"> <v-icon> {{ $mdi.AppsBox }} </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"undo\"> <v-icon> {{ $mdi.Undo }} </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"redo\"> <v-icon> {{ $mdi.Redo }} </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"set_mode('copy')\"><v-icon :color=\"$data.$g.selected_pieces.length && common.paste_mode == 'copy' ? 'green':'white' \">\r\n  \t{{ $mdi.ContentCopy }}\r\n  </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"set_mode('cut')\"><v-icon :color=\"$data.$g.selected_pieces.length && common.paste_mode == 'cut' ? 'green':'white' \">\r\n  \t{{ $mdi.ContentCut }}\r\n  </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"remove\"> <v-icon> {{ $mdi.Delete }} </v-icon> </v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"select_many\"> <v-icon :color=\"common.select_many ? 'green':'white' \">\r\n  \t{{ $mdi.VectorSelection }} \r\n  </v-icon></v-btn>\r\n  <v-btn :small=\"$vuetify.breakpoint.mobile\" icon @mousedown=\"common.toggle_disabled()\"> <v-icon> {{ $mdi.Cancel }} </v-icon> </v-btn>\r\n\r\n  <v-btn v-if=\"$vuetify.breakpoint.smAndUp\" color=\"green\" @mousedown=\"run\"> <v-icon large> {{ $mdi.MenuRight }}  </v-icon> Run </v-btn>\r\n</v-app-bar>\r\n\r\n<div class=\"d-flex\">\r\n\t<Panel v-if=\"persistent_panel\" />\r\n\r\n\t<div class=\"program\">\r\n\t\t<div class=\"code pa-4\">\r\n\t\t\t<Piece :P=\"ast.program\" />\r\n\t\t</div>\r\n\t\t<v-btn @mousedown=\"run\"> Run </v-btn>\r\n\t\t<v-btn @mousedown=\"save\"> Save </v-btn>\r\n\t\t<v-btn @mousedown=\"js_code_dialog=true; generate();\"> Javascript </v-btn>\r\n\t\t<input @change=\"handle_file_input\" type=\"file\" />\r\n\t\t<div class=\"console\" ref=\"console\" >\r\n\t\t\t<div v-for=\"line in console\" :class=\"line.type\">\r\n\t\t\t\t<Piece v-if=\"line.ast\" :P=\"line.ast.program\"> </Piece>\r\n\t\t\t\t<div v-else> {{ line.content }} </div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<v-menu\r\n\tv-model=\"$menu.showMenu\" absolute\r\n\t:position-y=\"$menu.menu_position.y\"\r\n\t:position-x=\"$menu.menu_position.x\"\r\n\t@blur=\"$menu.under_menu=null\"\r\n\t@contextmenu.prevent\r\n  >\r\n\t<v-card>\r\n\t  <div\r\n\t  \tclass=\"menu_option\"\r\n\t  \t@contextmenu.prevent\r\n\t  \t@mousedown=\"$handle_menu_click(item)\"\r\n\t  \tv-for=\"item in menu_items\">\r\n\t  \t{{ item }}\r\n\t  </div>\r\n\t</v-card>\r\n</v-menu>\r\n\r\n\r\n<v-menu\r\n\tv-model=\"common.show_keyword_menu\"\r\n\tv-if=\"common.el_with_keyword_menu && common.el_with_keyword_menu.keyword_options && common.el_with_keyword_menu.keyword_options.length\"\r\n\t:value=\"true\"\r\n\tallow-overflow\r\n\r\n\t:activator=\"common.el_with_keyword_menu.$el\"\r\n\tnudge-bottom=\"25\"\r\n\t@contextmenu.prevent\r\n  >\r\n\t<v-list  class=\"keyword_menu\">\r\n\t\t<v-list-item \r\n\t\t\tactive=\"menu_option_active\"\r\n\t\t\tv-for=\"(o,index) in common.el_with_keyword_menu.keyword_options\"\r\n\t\t\t:key=\"index\"\r\n\t\t\t@click=\"choose(o)\"\r\n\t\t>\r\n\t\t  {{ o.keyword }}\r\n\t\t</v-list-item>\r\n\t</v-list>\r\n</v-menu>\r\n\r\n<v-dialog\r\n  v-model=\"js_code_dialog\"\r\n  width=\"500\"\r\n>\r\n\t<v-card>\r\n\t\t<div class=\"dont_ignore_spaces code pa-2\"> {{js_code}} </div>\r\n\t</v-card>\r\n</v-dialog>\r\n\r\n\r\n<v-navigation-drawer\r\n\tv-model=\"common.panel_drawer\"\r\n\tabsolute dark\r\n\ttemporary\r\n>\r\n\t<Panel/>\r\n</v-navigation-drawer>\r\n\r\n</div></template>\r\n\r\n\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\n\r\nconst {parse} = require(\"@babel/parser\");\r\nconst { default: babel_generate } = require(\"@babel/generator\");\r\n\r\nimport traverse from \"@babel/traverse\";\r\nlet t = require(\"@babel/types\");\r\n\r\nimport {$g, common, tree_walk, remove_piece, register_child, replace_node, separate_child, clone, set_all_relationships, must_be_a_line, menu, parent_is_array, find_ancestor, unselect_all}\r\nfrom '@/methods'\r\n\r\nimport Remember from '@/remember'\r\n\r\nVue.prototype.$menu = menu;\r\n\r\n\r\nfunction run_code(code) {\r\n\t//console.clear();\r\n\teval(code);\r\n}\r\n\r\nlet test2 = `\r\n//\r\nasync function go() {\r\n\tdo_smth();\r\n\ta = await fetch(bla);\r\n}\r\nfor (;;) {\r\n\tbreak;\r\n}\r\nk.name = 'Anna';\r\nconsole.log(p.name.length, p.age);\r\np[age] = 20;\r\np.age = 20;\r\np[\"age\"] = 20;\r\nx = p[3+2];\r\nx = p[3]+2;\r\n\r\nx = (5+2)*3;\r\nx = u[a.size];\r\nx = u[a].size;\r\nx = u[a][size];\r\nx = u.a[size]\r\nx = !3\r\n\r\n\r\nperson = {\r\n\t\"name\": \"Ann\",\r\n\too: {\r\n\t\tx: {\r\n\t\t\tthis:is,\r\n\t\t\tunbe:lievable,\r\n\t\t},\r\n\t\ty:2\r\n\t},\r\n\theight: 2/3,\r\n};\r\n\r\nwhile(n < 10)\r\n\tn++;\r\n\r\npath.replaceWith( t.assignmentExpression( operator, P.argument, t.numericLiteral(1) ) );\r\n\r\nx = 5;\r\nx = 100 - itself;\r\n\r\n\r\nif (copy) M = clone(itself);\r\n\r\ni -= max(7,9);\r\ni *= 5;\r\nz = go(schmo(\"blabla\",\"trata\"),schfo(onemorelevel(\"because\",\"why not\"),\"azzaza\",4412), \"third\");\r\nx = (5+2)/3;\r\ny = x + 7;\r\n\r\n\r\n\r\nx = \"cities\";\r\nn = 3.14;\r\n\r\nname = \"Peter\"\r\nperson.name\r\n\r\nperson = {\r\n\tname,\r\n\tage: 20,\r\n\theight: 2/(3*(4+5)*6*(7/8) ),\r\n\tcities: ['Saigon', 'Danang', 'Vungtau', 'Ho Chi Minh', 'Hanoi', 'Nhatrang'],\r\n\t\"favorite poem\": \"Roses are red\\\\nViolets are blue\\\\nYou can write a whole fucking poem here\\\\nDuh\",\r\n};\r\n\r\n23;\r\n\r\nwhile (x < 10)\r\n\tconsole.log(a.length);\r\n\r\n\r\nfor (c of cities)\r\n\tconsole.log(c);\r\n\r\nname = \"Hamy\";\r\nname = \"***\" + itself.toUpperCase() + \"***\"\r\n\r\n\r\nx++;\r\nx += 1;\r\ni += 3;\r\n\r\nif (2 + 2 == 4) go();\r\n\r\nif (2 + 2 == 4) {\r\n\tgo();\r\n}\r\n\r\nif (x + y >= 4) {\r\n\ta = \"yes\"; a2 = \"yes2\";\r\n}\r\nelse if (bla) bla = bla;\r\nelse a = \"no\";\r\n\r\nname = \"Hamy\";\r\nname = \"***\" + itself.toUpperCase() + \"***\"\r\n\r\n\r\n\r\nadd = function(x,y) {\r\n\tx = 10;\r\n\ty++;\r\n\tz = 10;\r\n\tz = 2 + z;\r\n\th = 2 + z;\r\n\tresult = x+y;\r\n\treturn result;\r\n}\r\n\r\nif (2 + 2 == 4) go();\r\nelse if (3 + 3 == 6) mo();\r\nelse if (4 + 4 == 8) fo();\r\nelse zo();\r\n\r\n\r\nfor (;;) go();\r\n\r\nif ( x.likes(a)   ) {\r\n\ta = 'oh';\r\n}\r\nelse if (a[x || y](\"wtf\")) {}\r\nelse if ( (x && y).includes(7 && 8) ) {}\r\nelse if ( s[! \"includes\"](7) ) {}\r\n\r\nif (x + y >= 4) {\r\n\ta = \"yes\"; a2 = \"yes2\";\r\n}\r\nelse if (bla) bla = bla;\r\nelse a = \"no\";\r\n\r\n`;\r\n\r\nlet test3 = `\r\n\r\nif (1+2+3) {\r\n\tconsole.log(\"oops\\\\\"\");\r\n}\r\n\r\n\r\n`\r\n\r\nlet test;\r\n\r\nif (process.env.NODE_ENV == 'production') {\r\n\ttest = '';\r\n}\r\nelse {\r\n\ttest = test3;\r\n}\r\n\r\n\r\nfunction adapt(ast) {\r\n\tRemember.off();\r\n\ttraverse(ast, {\r\n\t\tenter(path) {\r\n\t\t\tlet P = path.node;\r\n\r\n\t\t\tdelete P.start;\r\n\t\t\tdelete P.end;\r\n\t\t\tdelete P.loc;\r\n\r\n\t\t\tif (P.type == 'UpdateExpression' ) {\r\n\t\t\t\tlet operator = {'++':'+=', '--':'-='}[P.operator];\r\n\t\t\t\tpath.replaceWith( t.assignmentExpression( operator, P.argument, t.numericLiteral(1) ) );\r\n\t\t\t}\r\n\t\t\telse if (P.type == 'AssignmentExpression' && P.operator != '=' ) {\r\n\t\t\t\tlet operator = P.operator[0];\r\n\t\t\t\tP.operator = '=';\r\n\t\t\t\tlet left = {type: 'ItselfLiteral'};\r\n\t\t\t\t//let left = P.left;\r\n\t\t\t\tP.right = {\r\n\t\t\t\t\toperator,\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\tright: P.right,\r\n\t\t\t\t\ttype: 'BinaryExpression'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (P.type == 'IfStatement') {\r\n\t\t\t\tif (P.consequent.type != 'BlockStatement') P.consequent = t.blockStatement([ P.consequent ]);\r\n\t\t\t\tif (P.alternate && !['BlockStatement','IfStatement'].includes(P.alternate.type) ) P.alternate = t.blockStatement([ P.alternate ]);\r\n\t\t\t}\r\n\t\t\telse if (P.type == 'MemberExpression' && !P.computed) {\r\n\t\t\t\tP.computed = true;\r\n\t\t\t\tP.property = t.stringLiteral(P.property.name);\r\n\t\t\t}\r\n\t\t\telse if (P.type == 'ObjectExpression') {\r\n\t\t\t\tfor (let k of P.properties) {\r\n\t\t\t\t\tif (k.key.type != 'StringLiteral') k.key = t.stringLiteral(k.key.name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (['ForStatement','ForOfStatement','WhileStatement'].includes(P.type)  ) {\r\n\t\t\t\tif (P.body.type != 'BlockStatement') P.body = t.blockStatement([ P.body ]);\r\n\r\n\t\t\t\tif (P.type == 'ForOfStatement' && P.left.declarations) {\r\n\t\t\t\t\tP.left = P.left.declarations[0].id;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//console.log(path);\r\n\t\t\tif (path.listKey) {\r\n\t\t\t\tP._parent = path.parent[path.listKey];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tP._parent = path.parent;\r\n\t\t\t\tP._keyAsChild = path.key;\r\n\t\t\t}\r\n\r\n\t\t\tP._main_parent = path.parent;\r\n\r\n\t\t\t//console.log(P);\r\n\t\t\t\r\n\t\t}\r\n\t});\r\n\r\n\tfunction before(P) {\r\n\t\tif ( P.type == 'ExpressionStatement' ) {\r\n\t\t\treplace_node(P, P.expression);\r\n\t\t}\r\n\t\telse if ( P.type == 'RestElement') {\r\n\t\t\tP.type = 'SpreadElement';\r\n\t\t}\r\n\t\telse if (P.type == 'ArrayPattern') {\r\n\t\t\tP.type = 'ArrayExpression';\r\n\t\t}\r\n\t\telse if (P.type == 'IfStatement') {\r\n\t\t\tlet first_condition = {type: 'ConditionStatement', test: P.test, consequent: P.consequent};\r\n\r\n\t\t\tP.conditions = [first_condition];\r\n\r\n\t\t\tdelete P.test;\r\n\t\t\tdelete P.consequent;\r\n\r\n\t\t\tlet M = P;\r\n\t\t\twhile (M.alternate && M.alternate.type == 'IfStatement' ) {\r\n\t\t\t\tM = M.alternate;\r\n\t\t\t\tlet c = {type: 'ConditionStatement', test: M.test, consequent: M.consequent};\r\n\t\t\t\tP.conditions.push(c);\r\n\t\t\t}\r\n\r\n\t\t\tif (M.alternate) {\r\n\t\t\t\tP.alternate = {type:'ElseStatement', body: M.alternate};\r\n\t\t\t}\r\n\t\t\telse P.alternate = null;\r\n\t\t}\r\n\t\telse if (P.type == 'Identifier') {\r\n\t\t\tP.value = P.name;\r\n\t\t\tdelete P.name;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction after(P) {\r\n\t\tif (P.type == 'ForStatement') {\r\n\t\t\tP.type = 'WhileStatement';\r\n\t\t\tif (P.init) {\r\n\t\t\t\tP._parent.splice( P._parent.indexOf(P), 0, P.init);\r\n\t\t\t}\r\n\t\t\tif (!P.test) P.test = {type: 'BooleanLiteral', value: true};\r\n\t\t\tif (P.update) {\r\n\t\t\t\tP.body.body.push(P.update);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdelete P.init;\r\n\t\t\tdelete P.update;\r\n\t\t}\r\n\t\telse if (P.type == 'UnaryExpression' && P.operator == '-' ) {\r\n\t\t\tif (P.argument.type == 'NumericLiteral') {\r\n\t\t\t\treplace_node(P, {\r\n\t\t\t\t\ttype: 'NumericLiteral',\r\n\t\t\t\t\tvalue: '-' + P.argument.value,\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t\telse replace_node(P, {\r\n\t\t\t\ttype: 'BinaryExpression',\r\n\t\t\t\toperator: '*',\r\n\t\t\t\tleft: {type: 'NumericLiteral', value: '-1'},\r\n\t\t\t\tright: P.argument,\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\telse if (P.type == 'FunctionDeclaration') {\r\n\t\t\tlet F = clone(P);\r\n\t\t\tF.type = 'FunctionExpression';\r\n\t\t\tdelete F.id;\r\n\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'AssignmentExpression',\r\n\t\t\t\toperator: '=',\r\n\t\t\t\tleft: P.id,\r\n\t\t\t\tright: F,\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\telse if (P.type == 'VariableDeclaration') {\r\n\t\t\tlet sets = [];\r\n\t\t\tfor (let d of P.declarations) {\r\n\t\t\t\tsets.push({ type: 'AssignmentExpression', operator: '=', left: d.id, right: d.init || {type: 'Identifier', value: 'undefined'} });\r\n\t\t\t}\r\n\r\n\t\t\tP._parent.splice(P._parent.indexOf(P), 1, ...sets);\r\n\t\t}\r\n\t}\r\n\r\n\ttree_walk(ast, before, after);\r\n\r\n\tset_all_relationships(ast);\r\n\tRemember.on();\r\n}\r\n\r\nfunction to_normal_js(ast) {\r\n\tRemember.off();\r\n\t//console.log(ast);\r\n\tast = clone(ast);\r\n\r\n\ttree_walk(ast, function(P){\r\n\t\tif (P.disabled) {\t\r\n\t\t\tif (Array.isArray(P._parent)) {\r\n\t\t\t\tP._parent.splice( P._parent.indexOf(P), 1);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//replace_node(P, null);\r\n\t\t\t\tP._main_parent[P._keyAsChild] = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (P.type == 'Separator' || P.type == 'Comment') {\r\n\t\t\tremove_piece(P);\r\n\t\t}\r\n\t\telse if (P.type == 'Empty' || P.type == 'Broken') {\r\n\t\t\tif (P._main_parent.type == 'BlockStatement') separate_child(P);\r\n\t\t\telse replace_node(P, {\r\n\t\t\t\ttype: 'Identifier',\r\n\t\t\t\tvalue: 'undefined',\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tlet scopes = [[]];\r\n\tlet cur_scope = () => scopes[scopes.length-1];\r\n\r\n\tfunction log_stop(P) {\r\n\t\treturn ['Program','BlockStatement','LogicalExpression','ArrayExpression','ObjectProperty','ConditionStatement' ].includes(P._main_parent.type) || must_be_a_line(P._main_parent);\r\n\t\t // || (Array.isArray(P._parent._parent)  && P._parent._main_parent.type != 'CallExpression' ) ;\r\n\t}\r\n\r\n\tfunction before(P) {\r\n\t\t//console.log(P);\r\n\t\tif (P.type == 'ItselfLiteral') {\r\n\t\t\tlet ancestor = P;\r\n\t\t\twhile (ancestor.type != 'AssignmentExpression') {\r\n\t\t\t\tancestor = ancestor._main_parent;\r\n\t\t\t}\r\n\t\t\treplace_node(P, ancestor.left );\r\n\t\t}\r\n\t\telse if (P.type == 'ObjectExpression' && P._keyAsChild == 'left' && P._main_parent.type == 'AssignmentExpression') {\r\n\t\t\tP.type = 'ObjectPattern';\r\n\t\t}\r\n\t\telse if (P.type == 'FunctionExpression' || P.type == 'FunctionDeclaration') {\r\n\t\t\tlet new_scope = P.params.filter(x => x.type == 'Identifier').map(x => x.value);\r\n\t\t\tscopes.push(new_scope);\r\n\t\t}\r\n\t\telse if (P.type == 'Identifier') {\r\n\t\t\tif (!(P._parent.type == 'AssignmentExpression' &&  P._keyAsChild == 'left')) cur_scope().push(P.value);\r\n\t\t\tP.name = P.value;\r\n\t\t}\r\n\t\telse if (P.type == 'PrintStatement') {\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'CallExpression',\r\n\t\t\t\tcallee: {\r\n\t\t\t\t\ttype: 'MemberExpression',\r\n\t\t\t\t\tobject: {type:'Identifier','name':'console'},\r\n\t\t\t\t\tproperty: {type:'Identifier', 'name':'log'},\r\n\t\t\t\t},\r\n\t\t\t\targuments: [P.argument]\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\telse if (P.type == 'RootExpression') {\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'CallExpression',\r\n\t\t\t\tcallee: {\r\n\t\t\t\t\ttype: 'MemberExpression',\r\n\t\t\t\t\tobject: {type:'Identifier', 'name':'Math'},\r\n\t\t\t\t\tproperty: {type:'Identifier', 'name':'sqrt'},\r\n\t\t\t\t},\r\n\t\t\t\targuments: [P.argument]\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\telse if (P.type == 'ForOfStatement') {\r\n\t\t\treplace_node(P.left, {\r\n\t\t\t\ttype: 'VariableDeclaration',\r\n\t\t\t\tkind: 'let',\r\n\t\t\t\tdeclarations: [{\r\n\t\t\t\t\ttype: 'VariableDeclarator',\r\n\t\t\t\t\tid: clone(P.left),\r\n\t\t\t\t\t//init: P.right,\r\n\t\t\t\t}]\r\n\t\t\t}, true);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction after(P) {\r\n\t\tif (P.type == 'FunctionExpression' || P.type == 'FunctionDeclaration') {\r\n\t\t\tscopes.pop();\r\n\t\t}\r\n\t\telse if (P.type == 'GlobalVariableStatement') {\r\n\t\t\tP._parent.splice( P._parent.indexOf(P), 1);\r\n\t\t}\r\n\t\telse if (P.type == 'AssignmentExpression' && P.operator == '=' && P.left.type == 'Identifier'\r\n\t\t\t&& !cur_scope().includes(P.left.name)  ) {\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'VariableDeclaration',\r\n\t\t\t\tkind: 'var',\r\n\t\t\t\tdeclarations: [{\r\n\t\t\t\t\ttype: 'VariableDeclarator',\r\n\t\t\t\t\tid: P.left,\r\n\t\t\t\t\tinit: P.right,\r\n\t\t\t\t}]\r\n\t\t\t}, true);\r\n\t\t\tcur_scope().push(P.left.name);\r\n\t\t}\r\n\t\telse if (P.type == 'IfStatement') {\r\n\t\t\tlet A = P.conditions;\r\n\t\t\tif (!A) return;\r\n\t\t\tP.test = A[0].test;\r\n\t\t\tP.consequent = A[0].consequent;\r\n\t\t\tlet final_else = P.alternate;\r\n\t\t\tlet prev = P;\r\n\t\t\tlet s = P;\r\n\t\t\t\r\n\t\t\tfor (let i=1; i < A.length; i++) {\r\n\t\t\t\ts = {type: 'IfStatement', test: A[i].test, consequent: A[i].consequent };\r\n\t\t\t\tprev.alternate = s;\r\n\t\t\t\tprev = s;\r\n\t\t\t}\r\n\r\n\t\t\tif (final_else) s.alternate = final_else.body;\r\n\t\t\t//delete P.alternate;\r\n\t\t\tset_all_relationships(P);\r\n\t\t}\r\n\t\telse if (P.type == 'LogicalExpression' || P.type == 'UnaryExpression'  ) {\r\n\t\t\tlet ancestor = P;\r\n\t\t\twhile (  ! log_stop(ancestor) ) {\r\n\t\t\t\tancestor = ancestor._main_parent;\r\n\t\t\t\t//console.log({ancestor});\r\n\t\t\t}\r\n\r\n\t\t\tif (ancestor != P) {\r\n\t\t\t\t//console.log(\"Gotta factor in!\", ancestor);\r\n\t\t\t\t\r\n\t\t\t\tlet special_replace_node;\r\n\t\t\t\tlet i;\r\n\t\t\t\tif ( Array.isArray(P._parent) ) i = P._parent.indexOf(P);\r\n\t\t\t\telse i = P._keyAsChild;\r\n\r\n\t\t\t\ttree_walk(P, function(leaf){\r\n\t\t\t\t\tif (! ['LogicalExpression','UnaryExpression'].includes(leaf.type) ) {\r\n\t\t\t\t\t\tP._parent[ i ] = leaf;\r\n\r\n\t\t\t\t\t\tlet C = clone(ancestor);\r\n\t\t\t\t\t\treplace_node(leaf, C);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treplace_node(ancestor, P, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (P.type == 'ForRangeStatement') {\r\n\t\t\tP.init = {\r\n\t\t\t\ttype: 'VariableDeclaration',\r\n\t\t\t\tkind: 'let',\r\n\t\t\t\tdeclarations: [{\r\n\t\t\t\t\ttype: 'VariableDeclarator',\r\n\t\t\t\t\tid: P.var,\r\n\t\t\t\t\tinit: P.first,\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tP.update = {\r\n\t\t\t\ttype: 'AssignmentExpression',\r\n\t\t\t\toperator: '+=',\r\n\t\t\t\tleft: P.var,\r\n\t\t\t\tright: P.step || {type: 'NumericLiteral', value: 1},\r\n\t\t\t};\r\n\r\n\t\t\tP.test = {\r\n\t\t\t\ttype: 'BinaryExpression',\r\n\t\t\t\toperator: (P.step && P.step.type == 'UnaryExpression' ) ? '>=' : '<=',\r\n\t\t\t\tleft: P.var,\r\n\t\t\t\tright: P.last,\r\n\t\t\t};\r\n\r\n\t\t\tdelete P.first;\r\n\t\t\tdelete P.last;\r\n\t\t\tdelete P.var;\r\n\r\n\t\t\tP.type = 'ForStatement';\r\n\t\t}\r\n\t\telse if (P.type == 'NumericLiteral' && P.value[0] == '-' ) {\r\n\t\t\tP.value = P.value.slice(1);\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'UnaryExpression',\r\n\t\t\t\toperator: '-',\r\n\t\t\t\targument: clone(P)\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\telse if (P.type == 'MemberExpression' && P.property.type == 'StringLiteral') {\r\n\t\t\tlet k = P.property.value;\r\n\t\t\tif (k.match(/^[A-Za-z$_][A-Za-z$_0-9]*$/) !== null) {\r\n\t\t\t\tP.computed = false;\r\n\t\t\t\tP.property = {type: 'Identifier', name: k };\r\n\t\t\t\tset_all_relationships(P);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\telse if (P._main_parent && ['BlockStatement','Program'].includes(P._main_parent.type)\r\n\t\t\t&& !['IfStatement', 'WhileStatement', 'ForOfStatement', 'BreakStatement', 'ContinueStatement', 'ReturnStatement', 'TryStatement'].includes(P.type) ) {\r\n\t\t\treplace_node(P, {\r\n\t\t\t\ttype: 'ExpressionStatement',\r\n\t\t\t\texpression: P,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\ttree_walk(ast, before, after);\r\n\r\n\tRemember.on();\r\n\treturn ast;\r\n}\r\n\r\n//console.log(parse(test).program);\r\n\r\ncommon.toggle_disabled = function() {\r\n\tfor (let P of $g.selected_pieces) {\r\n\t\tif (parent_is_array(P) || P.type == 'ElseStatement' ) register_child(P, 'disabled', !P.disabled);\r\n\t}\r\n\tunselect_all();\r\n}\r\n\r\nlet ast = parse(test);\r\nadapt(ast);\r\n//console.log(ast);\r\n\r\nfunction downloadFiles(data, file_name, file_type) {\r\n    var file = new Blob([data], {type: file_type});\r\n    if (window.navigator.msSaveOrOpenBlob) \r\n        window.navigator.msSaveOrOpenBlob(file, file_name);\r\n    else { \r\n        var a = document.createElement(\"a\"),\r\n                url = URL.createObjectURL(file);\r\n        a.href = url;\r\n        a.download = file_name;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        setTimeout(function() {\r\n            document.body.removeChild(a);\r\n            window.URL.revokeObjectURL(url);  \r\n        }, 0); \r\n    }\r\n}\r\n\r\n\r\n\r\nlet gonna_compile;\r\n\r\nimport Panel from '@/components/Panel'\r\n\r\nexport default {\r\n\tcomponents: {Panel},\r\n\tdata: () => ({\r\n\t\tast,\r\n\t\tjs_code: '',\r\n\t\tjs_code_dialog: false,\r\n\t\tcur_tab: 0,\r\n\t\tmenu,\r\n\t\tcommon,\r\n\t\t$g,\r\n\t\tconsole: [],\r\n\t}),\r\n\twatch: {\r\n\t\tconsole() {\r\n\t\t\tthis.$refs.console.scrollTo(0,this.$refs.console.scrollHeight);\r\n\t\t},\r\n\t\t/*\r\n\t\tast() {\r\n\t\t\tclearTimeout(gonna_compile);\r\n\t\t\tgonna_compile = setTimeout(() => {\r\n\t\t\t\tthis.js_code = babel_generate(this.ast).code;\r\n\t\t\t}, 600);\r\n\t\t}*/\r\n\t\t/*\r\n\t\t'common.focused': function(nv) {\r\n\t\t\tif (common.focused)\r\n\t\t\t\tcommon.cur_block = find_ancestor(common.focused, P => P.type == 'BlockStatement');\r\n\t\t\telse common.cur_block = null;\r\n\t\t},*/\r\n\t\t'$data.$g.selected_pieces': function() {\r\n\t\t\tif ($g.selected_pieces.length == 0) {\r\n\t\t\t\tcommon.paste_mode = null;\r\n\t\t\t\tcommon.select_many = false;\r\n\t\t\t}\r\n\t\t\telse if (common.panel_drawer && !common.select_many) {\r\n\t\t\t\tcommon.panel_drawer = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t'common.show_keyword_menu': function(nv) {\r\n\t\t\t//console.log('common.show_keyword_menu = ', nv);\r\n\t\t},\r\n\t\t/*\r\n\t\t'common.hover_P': function() {\r\n\t\t\t$g.console.log(\"hover changed!\");\r\n\t\t\tif (common.hover_P == null && common.glow_side_P) {\r\n\t\t\t\tcommon.glow_side_P._vm.glow = {left: false, right: false};\r\n\t\t\t}\r\n\t\t}*/\r\n\t},\r\n\tmethods: {\r\n\t\tchoose(o) {\r\n\t\t\tclearTimeout(common.timeout_to_choose_first);\r\n\t\t\tcommon.el_with_keyword_menu.transform_from_keyword(o.piece_type);\r\n\t\t},\r\n\t\tgenerate() {\r\n\t\t\tthis.js_code = babel_generate( to_normal_js(this.ast) ).code.trim();\r\n\t\t},\r\n\t\trun() {\r\n\t\t\tthis.console = [];\r\n\t\t\tthis.generate();\r\n\t\t\trun_code(this.js_code);\r\n\t\t},\r\n\t\tundo() { Remember.undo(); },\r\n\t\tredo() { Remember.redo(); },\r\n\t\tset_mode(mode) {\r\n\t\t\tif (common.paste_mode == null) common.paste_mode= mode;\r\n\t\t\telse common.paste_mode = null;\r\n\t\t},\r\n\t\tremove() {\r\n\t\t\tfor (let p of $g.selected_pieces) {\r\n\t\t\t\tremove_piece(p);\r\n\t\t\t}\r\n\t\t\tunselect_all();\r\n\t\t},\r\n\t\tselect_many() {\r\n\t\t\tcommon.select_many = !common.select_many;\r\n\t\t},\r\n\t\tsave() {\r\n\t\t    downloadFiles(JSON.stringify(clone(this.ast, true)), 'code.vcc', 'vcc');\r\n\t\t},\r\n\t\thandle_file_input(event) {\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tvar data = e.target.result;\r\n\t\t\t\t//console.log(data);\r\n\t\t\t\tlet ast = JSON.parse(data);\r\n\t\t\t\tset_all_relationships(ast);\r\n\t\t\t\tthis.ast = ast;\r\n\t\t\t};\r\n\t\t\treader.readAsText(event.target.files[0]);\r\n\t\t},\r\n\t\tsort_by_order(pieces) {\r\n\t\t\tlet res = pieces.filter(p => p.is_sample);\r\n\t\t\ttree_walk(this.ast, function(P){\r\n\t\t\t\tif (pieces.includes(P)) {\r\n\t\t\t\t\tres.push(P);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn res;\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\r\n\t},\r\n\tcomputed: {\r\n\t\tmenu_items() {\r\n\t\t\tif (!this.menu.under_menu) return;\r\n\t\t\tlet P = this.menu.under_menu.P;\r\n\t\t\tlet items = ['Remove','Remove parent','Remove operator'];\r\n\t\t\tif (parent_is_array(P) ) items.push(P.disabled ? 'Enable':'Disable');\r\n\t\t\treturn items;\r\n\t\t},\r\n\t\t/*\r\n\t\tcur_block() {\r\n\t\t\tlet el = common.focused || ($g.selected_pieces.length == 1 && $g.selected_pieces[0]);\r\n\t\t\r\n\t\t\treturn el ? find_ancestor(el, P => P.type == 'BlockStatement') : null;\r\n\t\t}*/\r\n\t\tpersistent_panel() {\r\n\t\t\treturn this.$vuetify.breakpoint.smAndUp;\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tcommon.IDE = this;\r\n\r\n\t\t$g.console = console;\r\n\t\tconsole = {\r\n\t\t\tlog(...args) {\r\n\t\t\t\tlet console_code = args.map( function(a){\r\n\t\t\t\t\tif (typeof a == 'object') return '(' + JSON.stringify(a) + ')';\r\n\t\t\t\t\telse if (typeof a == 'string') return '(\"' + a.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\")';\r\n\t\t\t\t\telse return a;\r\n\t\t\t\t}).join(';') ;\r\n\r\n\t\t\t\t//$g.console.log({console_code});\r\n\t\t\t\tast = parse(console_code);\r\n\t\t\t\tadapt(ast);\r\n\r\n\t\t\t\tcommon.IDE.console.push({\r\n\t\t\t\t\ttype: 'consolelog',\r\n\t\t\t\t\tast,\r\n\t\t\t\t});\r\n\t\t\t\t$g.console.log(...args);\r\n\t\t\t},\r\n\t\t\terror(...args) {\r\n\t\t\t\t$g.console.error(...args);\r\n\t\t\t\t\r\n\t\t\t\tfor (let a of args) {\r\n\t\t\t\t\tif (a.match && a.match(/\\[Vue warn\\]/)) continue;\r\n\t\t\t\t\tcommon.IDE.console.push({type: 'consoleerror', content:a});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twarn(...args) {\r\n\t\t\t\t$g.console.warn(...args);\r\n\r\n\t\t\t\tfor (let a of args) {\r\n\t\t\t\t\tif (a.match && a.match(/\\[Vue warn\\]/)) continue;\r\n\t\t\t\t\tcommon.IDE.console.push({type: 'consolewarn', content:a});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\nbody, .all {\r\n\tbackground-color: #222222;\r\n\tcolor: white;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.all {\r\n\tline-height: 1;\r\n}\r\n\r\n\r\n.program, .panel {\r\n\tcursor: default;\r\n\tuser-select: none;\r\n}\r\n\r\n.program > * {\r\n\tmargin: 2px;\r\n}\r\n\r\n\r\n.program {\r\n\twidth: 0;\r\n\tflex: 1 0 auto;\r\n}\r\n\r\n.code {\r\n\toverflow-x: auto;\r\n\toverflow-y: visible;\r\n}\r\n\r\n.tabs > * {\r\n\tborder-left: 1px solid black;\r\n\tcursor: default;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.tabs {\r\n\tborder-top: 1px solid black;\r\n\tborder-bottom: 1px solid black;\r\n}\r\n\r\n.chosen {\r\n\tbackground-color: grey;\r\n}\r\n\r\n.menu_option {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 5px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.menu_option:hover {\r\n\tbackground-color: #CCCCCC;\r\n}\r\n\r\n.keyword_menu {\r\n\tpadding: 0px !important;\r\n\twidth: 200px !important;\r\n\ttext-transform: capitalize;\r\n}\r\n\r\n.keyword_menu > div {\r\n\tpadding: 0px 5px;\r\n\tmin-height: 20px !important;\r\n\tline-height: 1 !important;\r\n}\r\n\r\n.keyword_menu > div:hover {\r\n\tbackground-color: orange;\r\n}\r\n\r\n.menu_option_active {\r\n\tbackground-color: orange;\r\n}\r\n\r\n.console {\r\n\tborder: 2px solid white;\r\n\twhite-space: pre;\r\n\tpadding: 6px;\r\n\tmargin: 4px;\r\n\theight: 200px;\r\n\toverflow-y: scroll;\r\n}\r\n\r\n\r\n.consoleerror {\r\n\tcolor: red;\r\n}\r\n\r\n.consolewarn {\r\n\tcolor: yellow;\r\n}\r\n\r\n.dragging * {\r\n\tcursor:url(\"/cursor-drag3.png\") 10 5, auto !important;\r\n}\r\n\r\n</style>","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piece.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"panel_collision_model\"}),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"d-flex justify-center pa-1\"},[_vm._v(\" PANEL \")]),_c('div',{staticClass:\"d-flex justify-space-around tabs\"},_vm._l((['Basic', 'Complex', 'List']),function(t,index){return _c('div',{class:{chosen: _vm.cur_tab == index, 'd-flex justify-center pa-1':true},on:{\"mousedown\":function($event){_vm.cur_tab=index}}},[_vm._v(\" \"+_vm._s(t)+\" \")])}),0),_c('div',{staticClass:\"d-flex justify-space-around tabs\"},_vm._l((['Function','Math','Logic']),function(t,index){return _c('div',{class:{chosen: _vm.cur_tab == index+3, 'd-flex justify-center pa-1':true},on:{\"mousedown\":function($event){_vm.cur_tab=index+3}}},[_vm._v(\" \"+_vm._s(t)+\" \")])}),0),_vm._l((_vm.panel_samples[_vm.cur_tab]),function(P){return _c('div',{staticClass:\"pl-1\"},[_c('Piece',{key:_vm.get_id(P),attrs:{\"P\":P}})],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template><div>\r\n\t<div class=\"panel_collision_model\"> </div>\r\n\t<div class=\"panel\">\r\n\t\t<div class=\"d-flex justify-center pa-1\"> PANEL </div>\r\n\t\t<div class=\"d-flex justify-space-around tabs\">\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(t,index) in ['Basic', 'Complex', 'List'] \"\r\n\t\t\t\t:class=\"{chosen: cur_tab == index, 'd-flex justify-center pa-1':true}\"\r\n\t\t\t\t@mousedown=\"cur_tab=index\"\r\n\t\t\t> {{t}} </div>\r\n\t\t</div>\r\n\t\t<div class=\"d-flex justify-space-around tabs\">\r\n\t\t\t<div\r\n\t\t\t\tv-for=\"(t,index) in ['Function','Math','Logic'] \"\r\n\t\t\t\t:class=\"{chosen: cur_tab == index+3, 'd-flex justify-center pa-1':true}\"\r\n\t\t\t\t@mousedown=\"cur_tab=index+3\"\r\n\t\t\t> {{t}} </div>\r\n\t\t</div>\r\n\t\t<div v-for=\"P in panel_samples[cur_tab]\" class=\"pl-1\">\r\n\t\t\t<Piece :key=\"get_id(P)\" :P=\"P\" />\r\n\t\t</div>\r\n\t</div>\r\n</div></template>\r\n\r\n\r\n<script>\r\n\r\nimport {$g, common, tree_walk, remove_piece, register_child, replace_node, separate_child, clone, set_all_relationships, must_be_a_line, menu, parent_is_array, find_ancestor, unselect_all}\r\nfrom '@/methods'\r\nimport samples from '@/samples.js'\r\n\r\nexport default {\r\n\tdata: () => ({\r\n\t\tcur_tab: 0,\r\n\t\tcommon,\r\n\t\t$g,\r\n\t\tpanel_samples: samples.panel_samples,\r\n\t}),\r\n\tmethods: {\r\n\t\tget_id(P) {\r\n\t\t\tif (P) return P._id || (P._id = Math.random());\r\n\t\t\telse return 'a';\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.panel {\r\n\tposition: fixed;\r\n\theight: 100%;\r\n\tborder-right: 1px solid black;\r\n}\r\n\r\n.panel, .panel_collision_model {\r\n\twidth: 200px;\r\n}\r\n\r\n.v-navigation-drawer .panel, .v-navigation-drawer .panel_collision_model {\r\n\twidth: 100%;\r\n}\r\n\r\n.panel > span {\r\n\tdisplay: block;\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=e756d39c&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Remember from '@/remember'\r\n\r\nlet common = {\r\n\tfocused: null,\r\n\thover_P: null,\r\n\tglow_side_P: null,\r\n\tblue_hover: false,\r\n\tpaste_mode: null,\r\n\tselect_many: false,\r\n\tcur_block: null,\r\n\tel_with_keyword_menu: null,\r\n\tshow_keyword_menu: false,\r\n\tpanel_drawer: false,\r\n};\r\n\r\nfunction isObject(P) {\r\n\treturn typeof P == 'object' && !Array.isArray(P) && P != null;\r\n}\r\n\r\nfunction tree_walk(P, before, after) {\r\n\tif (typeof P != 'object' || P == null) return;\r\n\r\n\tif (before) before(P);\r\n\r\n\tfor (let k in P) {\r\n\t\tif (k[0] == '_') continue;\r\n\t\tif (Array.isArray( P[k] )  ) {\r\n\t\t\tfor (let e of P[k].slice(0)) tree_walk(e, before, after);\r\n\t\t}\r\n\t\telse tree_walk( P[k], before, after);\r\n\t}\r\n\r\n\tif (after) after(P);\r\n}\r\n\r\nfunction separate_child(P) {\r\n\tdeal_with_focused();\r\n\r\n\tif (parent_is_array(P)) {\r\n\t\tRemember.remove(P._parent, P._parent.indexOf(P) );\r\n\t}\r\n\telse if (P._parent) register_child(P._parent, P._keyAsChild, {type: 'Empty'});\r\n}\r\n\r\nfunction parent_is_array(P) {\r\n\treturn Array.isArray(P._parent);\r\n}\r\n\r\nfunction register_child(parent, keyAsChild, child) {\r\n\tdelete child.is_sample;\r\n\tRemember.set(parent, keyAsChild, child);\r\n\tif (isObject(child) ) {\r\n\t\tRemember.set(child, '_parent', parent);\r\n\t\tRemember.set(child, '_main_parent', parent);\r\n\t\tRemember.set(child, '_keyAsChild', keyAsChild);\r\n\t}\r\n}\r\n\r\nfunction register_child_in_arr(main_parent, arr, index, child, please_replace) {\r\n\tdelete child.is_sample;\r\n\tlet parent = typeof arr == 'string' ? main_parent[arr] : arr;\r\n\tRemember[please_replace ? 'set' : 'add'](parent, index, child);\r\n\tif (isObject(child)) {\r\n\t\tRemember.set(child, '_parent', parent);\r\n\t\tRemember.set(child, '_main_parent', main_parent);\r\n\t}\r\n}\r\n\r\nfunction replace_node(P, N, fix) {\r\n\tdeal_with_focused();\r\n\t\r\n\tif (fix) set_all_relationships(N);\r\n\tif ( parent_is_array(P) ) {\r\n\t\tregister_child_in_arr(P._main_parent, P._parent, P._parent.indexOf(P), N, true);\r\n\t}\r\n\telse register_child( P._main_parent, P._keyAsChild, N );\r\n}\r\n\r\nfunction deal_with_focused() {\r\n\tif (common.focused) {\r\n\t\tdocument.activeElement.blur();\r\n\t\tRemember.finish_action();\r\n\t}\r\n}\r\n\r\n\r\nfunction clone(P, no_relationships) {\r\n\tif ( isObject(P) ) {\r\n\t\t//console.log(\"NEW OBJECT: \", P);\r\n\t\tlet res = {};\r\n\t\tfor (let k in P) {\r\n\t\t\tif (k[0] == '_' || ['loc','start','end','extra','selected'].includes(k) ) continue;\r\n\r\n\t\t\tif (Array.isArray(P[k]) ) {\r\n\t\t\t\tres[k] = [];\r\n\t\t\t\tfor (let e of P[k]) {\r\n\t\t\t\t\t//console.log(\"ARRAY ELEMENT CLONING:\", e);\r\n\t\t\t\t\tlet C = clone(e, no_relationships);\r\n\t\t\t\t\tif (!no_relationships) {\r\n\t\t\t\t\t\tC._main_parent = res;\r\n\t\t\t\t\t\tC._parent = res[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tres[k].push(C);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t//console.log(\"Cloning:\", k,P[k] );\r\n\t\t\t\tres[k] = clone(P[k], no_relationships);\r\n\t\t\t\tif (!no_relationships && isObject( res[k] ) ) {\r\n\t\t\t\t\tres[k]._main_parent = res[k]._parent = res;\r\n\t\t\t\t\tres[k]._keyAsChild = k;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\telse return P;\r\n}\r\n\r\n\r\nfunction set_all_relationships(P) {\r\n\tif ( isObject(P) ) {\r\n\t\tfor (let k in P) {\r\n\t\t\tif (k[0] == '_' ) continue;\r\n\t\t\tif (Array.isArray(P[k]) ) {\r\n\t\t\t\tfor (let e of P[k]) {\r\n\t\t\t\t\tset_all_relationships(e);\r\n\t\t\t\t\te._main_parent = P;\r\n\t\t\t\t\te._parent = P[k];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tset_all_relationships(P[k]);\r\n\t\t\t\tif ( isObject( P[k] ) ) {\r\n\t\t\t\t\tP[k]._main_parent = P[k]._parent = P;\r\n\t\t\t\t\tP[k]._keyAsChild = k;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction remove_piece(P) {\r\n\t/*\r\n\tif (P.type == 'ConditionStatement' && P._parent.length == 1 ) {\r\n\t\tconsole.warn(\"You cannot remove the only ConditionStatement\");\r\n\t}*/\r\n\tif (P.type == 'BlockStatement' || P.type == 'Program') {\r\n\t\tconsole.warn(\"You cannot remove \" + P.type);\r\n\t}\r\n\telse if (P.type == 'ElseStatement') {\r\n\t\tP._parent.alternate = null;\r\n\t}\r\n\telse if (P.type == 'Empty' && ['BlockStatement','Program'].includes(P._main_parent.type) && P._parent.length == 1) {\r\n\t\treturn;\r\n\t}\r\n\t//else separate_child(P);\r\n\telse if (P.type == 'Empty' || parent_is_array(P) ) separate_child(P);\r\n\telse replace_node(P, {type: 'Empty', focus: true});\r\n}\r\n\r\nfunction must_be_a_line(P) {\t\r\n\treturn ['AssignmentExpression', 'IfStatement', 'ForRangeStatement', 'ForOfStatement', 'WhileStatement', 'PrintStatement', 'ReturnStatement', 'BreakStatement', 'ContinueStatement', 'GlobalVariableStatement', 'Comment', 'Separator'].includes(P.type);\r\n}\r\n\r\nfunction find_ancestor(P, check) {\r\n\twhile(P._main_parent) {\r\n\t\tif (check(P)) return P;\r\n\t\tP = P._main_parent;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n\r\n\r\n$g = {};\r\n\r\nfunction unselect_all() {\r\n\tfor (let P of $g.selected_pieces) {\r\n\t\tP.selected = false;\r\n\t}\r\n\t$g.selected_pieces = [];\r\n\tcommon.paste_mode = null;\r\n}\r\n\r\n\r\nlet menu = {\r\n\tshowMenu: false,\r\n\tunder_menu: null,\r\n\tmenu_position: {x: 0, y: 0},\r\n};\r\n\r\n\r\n\r\n\r\nlet $g = {\r\n\tselected_pieces: [],\r\n};\r\n\r\nexport {common, tree_walk, separate_child, remove_piece, register_child, register_child_in_arr, replace_node, clone, set_all_relationships, isObject, must_be_a_line, menu, parent_is_array, find_ancestor, unselect_all, $g};"],"sourceRoot":""}